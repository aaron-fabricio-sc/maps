(self.webpackChunkdexie=self.webpackChunkdexie||[]).push([[179],{4646:(Ge,De,ee)=>{"use strict";function H(e){return"function"==typeof e}function X(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const fe=X(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function se(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ne{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(H(r))try{r()}catch(s){t=s instanceof fe?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Se(s)}catch(u){t=t??[],u instanceof fe?t=[...t,...u.errors]:t.push(u)}}if(t)throw new fe(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Se(t);else{if(t instanceof ne){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&se(n,t)}remove(t){const{_finalizers:n}=this;n&&se(n,t),t instanceof ne&&t._removeParent(this)}}ne.EMPTY=(()=>{const e=new ne;return e.closed=!0,e})();const Q=ne.EMPTY;function ue(e){return e instanceof ne||e&&"closed"in e&&H(e.remove)&&H(e.add)&&H(e.unsubscribe)}function Se(e){H(e)?e():e.unsubscribe()}const Ae={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},He={setTimeout(e,t,...n){const{delegate:r}=He;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=He;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ge(e){He.setTimeout(()=>{const{onUnhandledError:t}=Ae;if(!t)throw e;t(e)})}function he(){}const be=j("C",void 0,void 0);function j(e,t,n){return{kind:e,value:t,error:n}}let A=null;function T(e){if(Ae.useDeprecatedSynchronousErrorHandling){const t=!A;if(t&&(A={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=A;if(A=null,n)throw r}}else e()}class Y extends ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ue(t)&&t.add(this)):this.destination=V}static create(t,n,r){return new C(t,n,r)}next(t){this.isStopped?te(function R(e){return j("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?te(function Ve(e){return j("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?te(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const S=Function.prototype.bind;function N(e,t){return S.call(e,t)}class k{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ve(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ve(r)}else ve(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ve(n)}}}class C extends Y{constructor(t,n,r){let i;if(super(),H(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ae.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&N(t.next,s),error:t.error&&N(t.error,s),complete:t.complete&&N(t.complete,s)}):i=t}this.destination=new k(i)}}function ve(e){Ae.useDeprecatedSynchronousErrorHandling?function O(e){Ae.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=e)}(e):ge(e)}function te(e,t){const{onStoppedNotification:n}=Ae;n&&He.setTimeout(()=>n(e,t))}const V={closed:!0,next:he,error:function Z(e){throw e},complete:he},Be="function"==typeof Symbol&&Symbol.observable||"@@observable";function Me(e){return e}function me(e){return 0===e.length?Me:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let q=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function z(e){return e&&e instanceof Y||function we(e){return e&&H(e.next)&&H(e.error)&&H(e.complete)}(e)&&ue(e)}(n)?n:new C(n,r,i);return T(()=>{const{operator:u,source:c}=this;s.add(u?u.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=de(r))((i,s)=>{const u=new C({next:c=>{try{n(c)}catch(h){s(h),u.unsubscribe()}},error:s,complete:i});this.subscribe(u)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Be](){return this}pipe(...n){return me(n)(this)}toPromise(n){return new(n=de(n))((r,i)=>{let s;this.subscribe(u=>s=u,u=>i(u),()=>r(s))})}}return e.create=t=>new e(t),e})();function de(e){var t;return null!==(t=e??Ae.Promise)&&void 0!==t?t:Promise}const Re=X(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Oe=(()=>{class e extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ke(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Re}next(n){T(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){T(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){T(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Q:(this.currentObservers=null,s.push(n),new ne(()=>{this.currentObservers=null,se(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new q;return n.source=this,n}}return e.create=(t,n)=>new Ke(t,n),e})();class Ke extends Oe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Q}}function Le(e){return H(e?.lift)}function st(e){return t=>{if(Le(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(e,t,n,r,i){return new dt(e,t,n,r,i)}class dt extends Y{constructor(t,n,r,i,s,u){super(t),this.onFinalize=s,this.shouldUnsubscribe=u,this._next=n?function(c){try{n(c)}catch(h){t.error(h)}}:super._next,this._error=i?function(c){try{i(c)}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Xe(e,t){return st((n,r)=>{let i=0;n.subscribe(at(r,s=>{r.next(e.call(t,s,i++))}))})}function Mt(e){return this instanceof Mt?(this.v=e,this):new Mt(e)}function er(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},u("next"),u("throw"),u("return"),i[Symbol.asyncIterator]=function(){return this},i;function u(y){r[y]&&(i[y]=function(_){return new Promise(function(w,D){s.push([y,_,w,D])>1||c(y,_)})})}function c(y,_){try{!function h(y){y.value instanceof Mt?Promise.resolve(y.value.v).then(d,g):m(s[0][2],y)}(r[y](_))}catch(w){m(s[0][3],w)}}function d(y){c("next",y)}function g(y){c("throw",y)}function m(y,_){y(_),s.shift(),s.length&&c(s[0][0],s[0][1])}}function rn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function qe(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(u){return new Promise(function(c,h){!function i(s,u,c,h){Promise.resolve(h).then(function(d){s({value:d,done:c})},u)}(c,h,(u=e[s](u)).done,u.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ut=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ko(e){return H(e?.then)}function Co(e){return H(e[Be])}function Bo(e){return Symbol.asyncIterator&&H(e?.[Symbol.asyncIterator])}function Ms(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const du=function Dc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ml(e){return H(e?.[du])}function Vo(e){return er(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Mt(n.read());if(i)return yield Mt(void 0);yield yield Mt(r)}}finally{n.releaseLock()}})}function sa(e){return H(e?.getReader)}function ki(e){if(e instanceof q)return e;if(null!=e){if(Co(e))return function Ns(e){return new q(t=>{const n=e[Be]();if(H(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ut(e))return function sn(e){return new q(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(ko(e))return function so(e){return new q(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ge)})}(e);if(Bo(e))return Ji(e);if(ml(e))return function Do(e){return new q(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(sa(e))return function ni(e){return Ji(Vo(e))}(e)}throw Ms(e)}function Ji(e){return new q(t=>{(function As(e,t){var n,r,i,s;return function J(e,t,n,r){return new(n||(n=Promise))(function(s,u){function c(g){try{d(r.next(g))}catch(m){u(m)}}function h(g){try{d(r.throw(g))}catch(m){u(m)}}function d(g){g.done?s(g.value):function i(s){return s instanceof n?s:new n(function(u){u(s)})}(g.value).then(c,h)}d((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=rn(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(u){i={error:u}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Tr(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Zn(e,t,n=1/0){return H(t)?Zn((r,i)=>Xe((s,u)=>t(r,s,i,u))(ki(e(r,i))),n):("number"==typeof t&&(n=t),st((r,i)=>function pu(e,t,n,r,i,s,u,c){const h=[];let d=0,g=0,m=!1;const y=()=>{m&&!h.length&&!d&&t.complete()},_=D=>d<r?w(D):h.push(D),w=D=>{s&&t.next(D),d++;let U=!1;ki(n(D,g++)).subscribe(at(t,M=>{i?.(M),s?_(M):t.next(M)},()=>{U=!0},void 0,()=>{if(U)try{for(d--;h.length&&d<r;){const M=h.shift();u?Tr(t,u,()=>w(M)):w(M)}y()}catch(M){t.error(M)}}))};return e.subscribe(at(t,_,()=>{m=!0,y()})),()=>{c?.()}}(r,i,e,n)))}function Ps(e=1/0){return Zn(Me,e)}const Un=new q(e=>e.complete());function Io(e){return e[e.length-1]}function rr(e){return H(Io(e))?e.pop():void 0}function Uo(e){return function Si(e){return e&&H(e.schedule)}(Io(e))?e.pop():void 0}function So(e,t=0){return st((n,r)=>{n.subscribe(at(r,i=>Tr(r,e,()=>r.next(i),t),()=>Tr(r,e,()=>r.complete(),t),i=>Tr(r,e,()=>r.error(i),t)))})}function ri(e,t=0){return st((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function hr(e,t){if(!e)throw new Error("Iterable cannot be null");return new q(n=>{Tr(n,t,()=>{const r=e[Symbol.asyncIterator]();Tr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ce(e,t){return t?function G(e,t){if(null!=e){if(Co(e))return function aa(e,t){return ki(e).pipe(ri(t),So(t))}(e,t);if(Ut(e))return function La(e,t){return new q(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(ko(e))return function Oa(e,t){return ki(e).pipe(ri(t),So(t))}(e,t);if(Bo(e))return hr(e,t);if(ml(e))return function $s(e,t){return new q(n=>{let r;return Tr(n,t,()=>{r=e[du](),Tr(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(u){return void n.error(u)}s?n.complete():n.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}(e,t);if(sa(e))return function yl(e,t){return hr(Vo(e),t)}(e,t)}throw Ms(e)}(e,t):ki(e)}function xe(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new C({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function pe(e){for(let t in e)if(e[t]===pe)return t;throw Error("Could not find renamed property on target object.")}function je(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ne(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ne).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function nt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const it=pe({__forward_ref__:pe});function We(e){return e.__forward_ref__=We,e.toString=function(){return Ne(this())},e}function ze(e){return Gt(e)?e():e}function Gt(e){return"function"==typeof e&&e.hasOwnProperty(it)&&e.__forward_ref__===We}class Ye extends Error{constructor(t,n){super(function Ue(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function yt(e){return"string"==typeof e?e:null==e?"":String(e)}function un(e,t){throw new Ye(-201,!1)}function dr(e,t){null==e&&function Gn(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ot(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ao(e){return{providers:e.providers||[],imports:e.imports||[]}}function Qi(e){return jr(e,zu)||jr(e,bi)}function jr(e,t){return e.hasOwnProperty(t)?e[t]:null}function ka(e){return e&&(e.hasOwnProperty(El)||e.hasOwnProperty(qs))?e[El]:null}const zu=pe({\u0275prov:pe}),El=pe({\u0275inj:pe}),bi=pe({ngInjectableDef:pe}),qs=pe({ngInjectorDef:pe});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Ws;function eo(e){const t=Ws;return Ws=e,t}function wr(e,t,n){const r=Qi(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&_t.Optional?null:void 0!==t?t:void un(Ne(e))}function Ys(e){return{toString:e}.toString()}var uo=(()=>((uo=uo||{})[uo.OnPush=0]="OnPush",uo[uo.Default=1]="Default",uo))(),Bi=(()=>{return(e=Bi||(Bi={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Bi;var e})();const ir=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),en={},on=[],lr=pe({\u0275cmp:pe}),Ba=pe({\u0275dir:pe}),Vi=pe({\u0275pipe:pe}),bc=pe({\u0275mod:pe}),zt=pe({\u0275fac:pe}),gs=pe({__NG_ELEMENT_ID__:pe});let cr=0;function la(e){return Ys(()=>{const n=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===uo.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||on,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Bi.Emulated,id:"c"+cr++,styles:e.styles||on,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.dependencies,u=e.features;return i.inputs=co(e.inputs,r),i.outputs=co(e.outputs),u&&u.forEach(c=>c(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(ca).filter(Mc):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(fo).filter(Mc):null,i})}function ca(e){return Kt(e)||Wn(e)}function Mc(e){return null!==e}function oi(e){return Ys(()=>({type:e.type,bootstrap:e.bootstrap||on,declarations:e.declarations||on,imports:e.imports||on,exports:e.exports||on,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function co(e,t){if(null==e)return en;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const Lt=la;function Kt(e){return e[lr]||null}function Wn(e){return e[Ba]||null}function fo(e){return e[Vi]||null}function Zr(e,t){const n=e[bc]||null;if(!n&&!0===t)throw new Error(`Type ${Ne(e)} does not have '\u0275mod' property.`);return n}function Dr(e){return Array.isArray(e)&&"object"==typeof e[1]}function pr(e){return Array.isArray(e)&&!0===e[1]}function wl(e){return 0!=(8&e.flags)}function rs(e){return 2==(2&e.flags)}function Ls(e){return 1==(1&e.flags)}function or(e){return null!==e.template}function vi(e){return 0!=(256&e[2])}function mo(e,t){return e.hasOwnProperty(zt)?e[zt]:null}class Ac{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ni(){return Fs}function Fs(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ai),Jr}function Jr(){const e=Hi(this),t=e?.current;if(t){const n=e.previous;if(n===en)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ai(e,t,n,r){const i=Hi(e)||function Pc(e,t){return e[Eu]=t}(e,{previous:en,current:null}),s=i.current||(i.current={}),u=i.previous,c=this.declaredInputs[n],h=u[c];s[c]=new Ac(h&&h.currentValue,t,u===en),e[r]=t}Ni.ngInherit=!0;const Eu="__ngSimpleChanges__";function Hi(e){return e[Eu]||null}function sr(e){for(;Array.isArray(e);)e=e[0];return e}function Du(e,t){return sr(t[e])}function Pi(e,t){return sr(t[e.index])}function za(e,t){return e.data[t]}function ci(e,t){const n=t[e];return Dr(n)?n:n[0]}function as(e){return 64==(64&e[2])}function yo(e,t){return null==t?null:e[t]}function no(e){e[18]=0}function Cl(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const xt={lFrame:I_(null),bindingsEnabled:!0};function l(){return xt.bindingsEnabled}function v(){return xt.lFrame.lView}function E(){return xt.lFrame.tView}function oe(){let e=Te();for(;null!==e&&64===e.type;)e=e.parent;return e}function Te(){return xt.lFrame.currentTNode}function Qe(e,t){const n=xt.lFrame;n.currentTNode=e,n.isParent=t}function ot(){return xt.lFrame.isParent}function Il(){return xt.lFrame.bindingIndex++}function YN(e,t){const n=xt.lFrame;n.bindingIndex=n.bindingRootIndex=e,ag(t)}function ag(e){xt.lFrame.currentDirectiveIndex=e}function lg(e){xt.lFrame.currentQueryIndex=e}function ZN(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function C_(e,t,n){if(n&_t.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&_t.Host||(i=ZN(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;t=i,e=s}const r=xt.lFrame=D_();return r.currentTNode=t,r.lView=e,!0}function cg(e){const t=D_(),n=e[1];xt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function D_(){const e=xt.lFrame,t=null===e?null:e.child;return null===t?I_(e):t}function I_(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function S_(){const e=xt.lFrame;return xt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const x_=S_;function fg(){const e=S_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ho(){return xt.lFrame.selectedIndex}function Su(e){xt.lFrame.selectedIndex=e}function yh(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:u,ngAfterContentChecked:c,ngAfterViewInit:h,ngAfterViewChecked:d,ngOnDestroy:g}=s;u&&(e.contentHooks||(e.contentHooks=[])).push(-n,u),c&&((e.contentHooks||(e.contentHooks=[])).push(n,c),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,c)),h&&(e.viewHooks||(e.viewHooks=[])).push(-n,h),d&&((e.viewHooks||(e.viewHooks=[])).push(n,d),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,d)),null!=g&&(e.destroyHooks||(e.destroyHooks=[])).push(n,g)}}function vh(e,t,n){b_(e,t,3,n)}function _h(e,t,n,r){(3&e[2])===n&&b_(e,t,n,r)}function hg(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function b_(e,t,n,r){const s=r??-1,u=t.length-1;let c=0;for(let h=void 0!==r?65535&e[18]:0;h<u;h++)if("number"==typeof t[h+1]){if(c=t[h],null!=r&&c>=r)break}else t[h]<0&&(e[18]+=65536),(c<s||-1==s)&&(oA(e,n,t,h),e[18]=(4294901760&e[18])+h+2),h++}function oA(e,t,n,r){const i=n[r]<0,s=n[r+1],c=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(c)}finally{}}}else try{s.call(c)}finally{}}class Tc{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Eh(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],u=n[r++],c=n[r++];e.setAttribute(t,u,c,s)}else{const s=i,u=n[++r];N_(s)?e.setProperty(t,s,u):e.setAttribute(t,s,u),r++}}return r}function M_(e){return 3===e||4===e||6===e}function N_(e){return 64===e.charCodeAt(0)}function wh(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||A_(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function A_(e,t,n,r,i){let s=0,u=e.length;if(-1===t)u=-1;else for(;s<e.length;){const c=e[s++];if("number"==typeof c){if(c===t){u=-1;break}if(c>t){u=s-1;break}}}for(;s<e.length;){const c=e[s];if("number"==typeof c)break;if(c===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==u&&(e.splice(u,0,t),s=u+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function P_(e){return-1!==e}function Sl(e){return 32767&e}function xl(e,t){let n=function cA(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let pg=!0;function Ch(e){const t=pg;return pg=e,t}let fA=0;const ga={};function Oc(e,t){const n=mg(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,gg(r.data,e),gg(t,null),gg(r.blueprint,null));const i=Dh(e,t),s=e.injectorIndex;if(P_(i)){const u=Sl(i),c=xl(i,t),h=c[1].data;for(let d=0;d<8;d++)t[s+d]=c[u+d]|h[u+d]}return t[s+8]=i,s}function gg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function mg(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Dh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=U_(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ih(e,t,n){!function hA(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(gs)&&(r=n[gs]),null==r&&(r=n[gs]=fA++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function O_(e,t,n){if(n&_t.Optional||void 0!==e)return e;un()}function L_(e,t,n,r){if(n&_t.Optional&&void 0===r&&(r=null),0==(n&(_t.Self|_t.Host))){const i=e[9],s=eo(void 0);try{return i?i.get(t,r,n&_t.Optional):wr(t,r,n&_t.Optional)}finally{eo(s)}}return O_(r,0,n)}function F_(e,t,n,r=_t.Default,i){if(null!==e){if(1024&t[2]){const u=function yA(e,t,n,r,i){let s=e,u=t;for(;null!==s&&null!==u&&1024&u[2]&&!(256&u[2]);){const c=k_(s,u,n,r|_t.Self,ga);if(c!==ga)return c;let h=s.parent;if(!h){const d=u[21];if(d){const g=d.get(n,ga,r);if(g!==ga)return g}h=U_(u),u=u[15]}s=h}return i}(e,t,n,r,ga);if(u!==ga)return u}const s=k_(e,t,n,r,ga);if(s!==ga)return s}return L_(t,n,r,i)}function k_(e,t,n,r,i){const s=function gA(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(gs)?e[gs]:void 0;return"number"==typeof t?t>=0?255&t:mA:t}(n);if("function"==typeof s){if(!C_(t,e,r))return r&_t.Host?O_(i,0,r):L_(t,n,r,i);try{const u=s(r);if(null!=u||r&_t.Optional)return u;un()}finally{x_()}}else if("number"==typeof s){let u=null,c=mg(e,t),h=-1,d=r&_t.Host?t[16][6]:null;for((-1===c||r&_t.SkipSelf)&&(h=-1===c?Dh(e,t):t[c+8],-1!==h&&V_(r,!1)?(u=t[1],c=Sl(h),t=xl(h,t)):c=-1);-1!==c;){const g=t[1];if(B_(s,c,g.data)){const m=pA(c,t,n,u,r,d);if(m!==ga)return m}h=t[c+8],-1!==h&&V_(r,t[1].data[c+8]===d)&&B_(s,c,t)?(u=g,c=Sl(h),t=xl(h,t)):c=-1}}return i}function pA(e,t,n,r,i,s){const u=t[1],c=u.data[e+8],g=function Sh(e,t,n,r,i){const s=e.providerIndexes,u=t.data,c=1048575&s,h=e.directiveStart,g=s>>20,y=i?c+g:e.directiveEnd;for(let _=r?c:c+g;_<y;_++){const w=u[_];if(_<h&&n===w||_>=h&&w.type===n)return _}if(i){const _=u[h];if(_&&or(_)&&_.type===n)return h}return null}(c,u,n,null==r?rs(c)&&pg:r!=u&&0!=(3&c.type),i&_t.Host&&s===c);return null!==g?Lc(t,u,g,c):ga}function Lc(e,t,n,r){let i=e[n];const s=t.data;if(function sA(e){return e instanceof Tc}(i)){const u=i;u.resolving&&function Ki(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Rt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():yt(e)}(s[n]));const c=Ch(u.canSeeViewProviders);u.resolving=!0;const h=u.injectImpl?eo(u.injectImpl):null;C_(e,r,_t.Default);try{i=e[n]=u.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function iA(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const u=Fs(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,u),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,u)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==h&&eo(h),Ch(c),u.resolving=!1,x_()}}return i}function B_(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function V_(e,t){return!(e&_t.Self||e&_t.Host&&t)}class bl{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return F_(this._tNode,this._lView,t,r,n)}}function mA(){return new bl(oe(),v())}function No(e){return Ys(()=>{const t=e.prototype.constructor,n=t[zt]||yg(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[zt]||yg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function yg(e){return Gt(e)?()=>{const t=yg(ze(e));return t&&t()}:mo(e)}function U_(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const Nl="__parameters__";function Pl(e,t,n){return Ys(()=>{const r=function vg(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const u=new i(...s);return c.annotation=u,c;function c(h,d,g){const m=h.hasOwnProperty(Nl)?h[Nl]:Object.defineProperty(h,Nl,{value:[]})[Nl];for(;m.length<=g;)m.push(null);return(m[g]=m[g]||[]).push(u),h}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Ft{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ot({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wa(e,t){e.forEach(n=>Array.isArray(n)?Wa(n,t):t(n))}function H_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function xh(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ws(e,t,n){let r=Tl(e,t);return r>=0?e[1|r]=n:(r=~r,function wA(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Eg(e,t){const n=Tl(e,t);if(n>=0)return e[1|n]}function Tl(e,t){return function z_(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),u=e[s<<n];if(t===u)return s<<n;u>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const Uc={},Cg="__NG_DI_FLAG__",Mh="ngTempTokenPath",NA=/\n/gm,q_="__source";let Gc;function Rl(e){const t=Gc;return Gc=e,t}function PA(e,t=_t.Default){if(void 0===Gc)throw new Ye(-203,!1);return null===Gc?wr(e,void 0,t):Gc.get(e,t&_t.Optional?null:void 0,t)}function Nt(e,t=_t.Default){return(function ds(){return Ws}()||PA)(ze(e),t)}function wi(e,t=_t.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),Nt(e,t)}function Dg(e){const t=[];for(let n=0;n<e.length;n++){const r=ze(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ye(900,!1);let i,s=_t.Default;for(let u=0;u<r.length;u++){const c=r[u],h=TA(c);"number"==typeof h?-1===h?i=c.token:s|=h:i=c}t.push(Nt(i,s))}else t.push(Nt(r))}return t}function Hc(e,t){return e[Cg]=t,e.prototype[Cg]=t,e}function TA(e){return e[Cg]}const jc=Hc(Pl("Optional"),8),$c=Hc(Pl("SkipSelf"),4);var us=(()=>((us=us||{})[us.Important=1]="Important",us[us.DashCase=2]="DashCase",us))();const Mg=new Map;let ZA=0;const Ag="__ngContext__";function Ao(e,t){Dr(t)?(e[Ag]=t[20],function KA(e){Mg.set(e[20],e)}(t)):e[Ag]=t}function Tg(e,t){return undefined(e,t)}function Yc(e){const t=e[3];return pr(t)?t[3]:t}function Rg(e){return d1(e[13])}function Og(e){return d1(e[4])}function d1(e){for(;null!==e&&!pr(e);)e=e[4];return e}function Ll(e,t,n,r,i){if(null!=r){let s,u=!1;pr(r)?s=r:Dr(r)&&(u=!0,r=r[0]);const c=sr(r);0===e&&null!==n?null==i?_1(t,n,c):Yu(t,n,c,i||null,!0):1===e&&null!==n?Yu(t,n,c,i||null,!0):2===e?function Gg(e,t,n){const r=Ph(e,t);r&&function EP(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,c,u):3===e&&t.destroyNode(c),null!=s&&function DP(e,t,n,r,i){const s=n[7];s!==sr(n)&&Ll(t,e,r,s,i);for(let c=10;c<n.length;c++){const h=n[c];Xc(h[1],h,e,t,r,s)}}(t,e,s,n,i)}}function Fg(e,t,n){return e.createElement(t,n)}function g1(e,t){const n=e[9],r=n.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,Cl(i,-1)),n.splice(r,1)}function kg(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&g1(i,r),t>0&&(e[n-1][4]=r[4]);const s=xh(e,10+t);!function hP(e,t){Xc(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function m1(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&Xc(e,t,n,3,null,null),function gP(e){let t=e[13];if(!t)return Bg(e[1],e);for(;t;){let n=null;if(Dr(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Dr(t)&&Bg(t[1],t),t=t[3];null===t&&(t=e),Dr(t)&&Bg(t[1],t),n=t&&t[4]}t=n}}(t)}}function Bg(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function _P(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Tc)){const s=n[r+1];if(Array.isArray(s))for(let u=0;u<s.length;u+=2){const c=i[s[u]],h=s[u+1];try{h.call(c)}finally{}}else try{s.call(i)}finally{}}}}(e,t),function vP(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const u=n[s+1],c="function"==typeof u?u(t):sr(t[u]),h=r[i=n[s+2]],d=n[s+3];"boolean"==typeof d?c.removeEventListener(n[s],h,d):d>=0?r[i=d]():r[i=-d].unsubscribe(),s+=2}else{const u=r[i=n[s+1]];n[s].call(u)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&pr(t[3])){n!==t[3]&&g1(n,t);const r=t[19];null!==r&&r.detachView(e)}!function QA(e){Mg.delete(e[20])}(t)}}function y1(e,t,n){return function v1(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Bi.None||i===Bi.Emulated)return null}return Pi(r,n)}(e,t.parent,n)}function Yu(e,t,n,r,i){e.insertBefore(t,n,r,i)}function _1(e,t,n){e.appendChild(t,n)}function E1(e,t,n,r,i){null!==r?Yu(e,t,n,r,i):_1(e,t,n)}function Ph(e,t){return e.parentNode(t)}let zg,D1=function C1(e,t,n){return 40&e.type?Pi(e,n):null};function Th(e,t,n,r){const i=y1(e,r,t),s=t[11],c=function w1(e,t,n){return D1(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let h=0;h<n.length;h++)E1(s,i,n[h],c,!1);else E1(s,i,n,c,!1)}function Rh(e,t){if(null!==t){const n=t.type;if(3&n)return Pi(t,e);if(4&n)return Ug(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Rh(e,r);{const i=e[t.index];return pr(i)?Ug(-1,i):sr(i)}}if(32&n)return Tg(t,e)()||sr(e[t.index]);{const r=S1(e,t);return null!==r?Array.isArray(r)?r[0]:Rh(Yc(e[16]),r):Rh(e,t.next)}}return null}function S1(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ug(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Rh(r,i)}return t[7]}function Hg(e,t,n,r,i,s,u){for(;null!=n;){const c=r[n.index],h=n.type;if(u&&0===t&&(c&&Ao(sr(c),r),n.flags|=4),64!=(64&n.flags))if(8&h)Hg(e,t,n.child,r,i,s,!1),Ll(t,e,i,c,s);else if(32&h){const d=Tg(n,r);let g;for(;g=d();)Ll(t,e,i,g,s);Ll(t,e,i,c,s)}else 16&h?x1(e,t,r,n,i,s):Ll(t,e,i,c,s);n=u?n.projectionNext:n.next}}function Xc(e,t,n,r,i,s){Hg(n,r,e.firstChild,t,i,s,!1)}function x1(e,t,n,r,i,s){const u=n[16],h=u[6].projection[r.projection];if(Array.isArray(h))for(let d=0;d<h.length;d++)Ll(t,e,i,h[d],s);else Hg(e,t,h,u[3],i,s,!0)}function b1(e,t,n){e.setAttribute(t,"style",n)}function jg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}const Kg=new Ft("ENVIRONMENT_INITIALIZER"),U1=new Ft("INJECTOR",-1),G1=new Ft("INJECTOR_DEF_TYPES");class H1{get(t,n=Uc){if(n===Uc){const r=new Error(`NullInjectorError: No provider for ${Ne(t)}!`);throw r.name="NullInjectorError",r}return n}}function KP(...e){return{\u0275providers:j1(0,e)}}function j1(e,...t){const n=[],r=new Set;let i;return Wa(t,s=>{const u=s;Qg(u,n,[],r)&&(i||(i=[]),i.push(u))}),void 0!==i&&$1(i,n),n}function $1(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];Wa(i,s=>{t.push(s)})}}function Qg(e,t,n,r){if(!(e=ze(e)))return!1;let i=null,s=ka(e);const u=!s&&Kt(e);if(s||u){if(u&&!u.standalone)return!1;i=e}else{const h=e.ngModule;if(s=ka(h),!s)return!1;i=h}const c=r.has(i);if(u){if(c)return!1;if(r.add(i),u.dependencies){const h="function"==typeof u.dependencies?u.dependencies():u.dependencies;for(const d of h)Qg(d,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let d;r.add(i);try{Wa(s.imports,g=>{Qg(g,t,n,r)&&(d||(d=[]),d.push(g))})}finally{}void 0!==d&&$1(d,t)}if(!c){const d=mo(i)||(()=>new i);t.push({provide:i,useFactory:d,deps:on},{provide:G1,useValue:i,multi:!0},{provide:Kg,useValue:()=>Nt(i),multi:!0})}const h=s.providers;null==h||c||Wa(h,g=>{t.push(g)})}}return i!==e&&void 0!==e.providers}const QP=pe({provide:String,useValue:pe});function em(e){return null!==e&&"object"==typeof e&&QP in e}function Zu(e){return"function"==typeof e}const tm=new Ft("Set Injector scope."),kh={},tT={};let nm;function Bh(){return void 0===nm&&(nm=new H1),nm}class Mu{}class W1 extends Mu{constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,im(t,u=>this.processProvider(u)),this.records.set(U1,Fl(void 0,this)),i.has("environment")&&this.records.set(Mu,Fl(void 0,this));const s=this.records.get(tm);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(G1.multi,on,_t.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Rl(this),r=eo(void 0);try{return t()}finally{Rl(n),eo(r)}}get(t,n=Uc,r=_t.Default){this.assertNotDestroyed();const i=Rl(this),s=eo(void 0);try{if(!(r&_t.SkipSelf)){let c=this.records.get(t);if(void 0===c){const h=function sT(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ft}(t)&&Qi(t);c=h&&this.injectableDefInScope(h)?Fl(rm(t),kh):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&_t.Self?Bh():this.parent).get(t,n=r&_t.Optional&&n===Uc?null:n)}catch(u){if("NullInjectorError"===u.name){if((u[Mh]=u[Mh]||[]).unshift(Ne(t)),i)throw u;return function RA(e,t,n,r){const i=e[Mh];throw t[q_]&&i.unshift(t[q_]),e.message=function OA(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Ne(t);if(Array.isArray(t))i=t.map(Ne).join(" -> ");else if("object"==typeof t){let s=[];for(let u in t)if(t.hasOwnProperty(u)){let c=t[u];s.push(u+":"+("string"==typeof c?JSON.stringify(c):Ne(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(NA,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Mh]=null,e}(u,t,"R3InjectorError",this.source)}throw u}finally{eo(s),Rl(i)}}resolveInjectorInitializers(){const t=Rl(this),n=eo(void 0);try{const r=this.get(Kg.multi,on,_t.Self);for(const i of r)i()}finally{Rl(t),eo(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ne(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(t){let n=Zu(t=ze(t))?t:ze(t&&t.provide);const r=function rT(e){return em(e)?Fl(void 0,e.useValue):Fl(Y1(e),kh)}(t);if(Zu(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Fl(void 0,kh,!0),i.factory=()=>Dg(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===kh&&(n.value=tT,n.value=n.factory()),"object"==typeof n.value&&n.value&&function oT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ze(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function rm(e){const t=Qi(e),n=null!==t?t.factory:mo(e);if(null!==n)return n;if(e instanceof Ft)throw new Ye(204,!1);if(e instanceof Function)return function nT(e){const t=e.length;if(t>0)throw function Vc(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Ye(204,!1);const n=function _l(e){const t=e&&(e[zu]||e[bi]);if(t){const n=function tg(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ye(204,!1)}function Y1(e,t,n){let r;if(Zu(e)){const i=ze(e);return mo(i)||rm(i)}if(em(e))r=()=>ze(e.useValue);else if(function q1(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Dg(e.deps||[]));else if(function z1(e){return!(!e||!e.useExisting)}(e))r=()=>Nt(ze(e.useExisting));else{const i=ze(e&&(e.useClass||e.provide));if(!function iT(e){return!!e.deps}(e))return mo(i)||rm(i);r=()=>new i(...Dg(e.deps))}return r}function Fl(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function aT(e){return!!e.\u0275providers}function im(e,t){for(const n of e)Array.isArray(n)?im(n,t):aT(n)?im(n.\u0275providers,t):t(n)}class X1{}class cT{resolveComponentFactory(t){throw function lT(e){const t=Error(`No component factory found for ${Ne(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Qc=(()=>{class e{}return e.NULL=new cT,e})();function fT(){return kl(oe(),v())}function kl(e,t){return new Cs(Pi(e,t))}let Cs=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=fT,e})();class J1{}let Xa=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function dT(){const e=v(),n=ci(oe().index,e);return(Dr(n)?n:e)[11]}(),e})(),pT=(()=>{class e{}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:()=>null}),e})();class ef{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const gT=new ef("14.3.0"),om={};function am(e){return e.ngOriginalError}class Bl{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&am(t);for(;n&&am(n);)n=am(n);return n||null}}function Za(e){return e instanceof Function?e():e}function Q1(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}const eE="ng-template";function xT(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Q1(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function tE(e){return 4===e.type&&e.value!==eE}function bT(e,t,n){return t===(4!==e.type||n?e.value:eE)}function MT(e,t,n){let r=4;const i=e.attrs||[],s=function PT(e){for(let t=0;t<e.length;t++)if(M_(e[t]))return t;return e.length}(i);let u=!1;for(let c=0;c<t.length;c++){const h=t[c];if("number"!=typeof h){if(!u)if(4&r){if(r=2|1&r,""!==h&&!bT(e,h,n)||""===h&&1===t.length){if(Xs(r))return!1;u=!0}}else{const d=8&r?h:t[++c];if(8&r&&null!==e.attrs){if(!xT(e.attrs,d,n)){if(Xs(r))return!1;u=!0}continue}const m=NT(8&r?"class":h,i,tE(e),n);if(-1===m){if(Xs(r))return!1;u=!0;continue}if(""!==d){let y;y=m>s?"":i[m+1].toLowerCase();const _=8&r?y:null;if(_&&-1!==Q1(_,d,0)||2&r&&d!==y){if(Xs(r))return!1;u=!0}}}}else{if(!u&&!Xs(r)&&!Xs(h))return!1;if(u&&Xs(h))continue;u=!1,r=h|1&r}}return Xs(r)||u}function Xs(e){return 0==(1&e)}function NT(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const u=t[i];if(u===e)return i;if(3===u||6===u)s=!0;else{if(1===u||2===u){let c=t[++i];for(;"string"==typeof c;)c=t[++i];continue}if(4===u)break;if(0===u){i+=4;continue}}i+=s?1:2}return-1}return function TT(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function nE(e,t,n=!1){for(let r=0;r<t.length;r++)if(MT(e,t[r],n))return!0;return!1}function rE(e,t){return e?":not("+t.trim()+")":t}function OT(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let u=e[n];if("string"==typeof u)if(2&r){const c=e[++n];i+="["+u+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+u:4&r&&(i+=" "+u);else""!==i&&!Xs(u)&&(t+=rE(s,i),i=""),r=u,s=s||!Xs(r);n++}return""!==i&&(t+=rE(s,i)),t}const tn={};function Po(e){iE(E(),v(),Ho()+e,!1)}function iE(e,t,n,r){if(!r)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&vh(t,s,n)}else{const s=e.preOrderHooks;null!==s&&_h(t,s,0,n)}Su(n)}function uE(e,t=null,n=null,r){const i=lE(e,t,n,r);return i.resolveInjectorInitializers(),i}function lE(e,t=null,n=null,r,i=new Set){const s=[n||on,KP(e)];return r=r||("object"==typeof e?void 0:Ne(e)),new W1(s,t||Bh(),r||null,i)}let Ds=(()=>{class e{static create(n,r){if(Array.isArray(n))return uE({name:""},r,n,"");{const i=n.name??"";return uE({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=Uc,e.NULL=new H1,e.\u0275prov=Ot({token:e,providedIn:"any",factory:()=>Nt(U1)}),e.__NG_ELEMENT_ID__=-1,e})();function et(e,t=_t.Default){const n=v();return null===n?Nt(e,t):F_(oe(),n,ze(e),t)}function hm(){throw new Error("invalid")}function Uh(e,t){return e<<17|t<<2}function Zs(e){return e>>17&32767}function dm(e){return 2|e}function Ja(e){return(131068&e)>>2}function pm(e,t){return-131069&e|t<<2}function gm(e){return 1|e}function xE(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const u=e.data[s];lg(i),u.contentQueries(2,t[s],s)}}}function jh(e,t,n,r,i,s,u,c,h,d,g){const m=t.blueprint.slice();return m[0]=i,m[2]=76|r,(null!==g||e&&1024&e[2])&&(m[2]|=1024),no(m),m[3]=m[15]=e,m[8]=n,m[10]=u||e&&e[10],m[11]=c||e&&e[11],m[12]=h||e&&e[12]||null,m[9]=d||e&&e[9]||null,m[6]=s,m[20]=function JA(){return ZA++}(),m[21]=g,m[16]=2==t.type?e[16]:m,m}function Gl(e,t,n,r,i){let s=e.data[t];if(null===s)s=function Dm(e,t,n,r,i){const s=Te(),u=ot(),h=e.data[t]=function mR(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,u?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=h),null!==s&&(u?null==s.child&&null!==h.parent&&(s.child=h):null===s.next&&(s.next=h)),h}(e,t,n,r,i),function WN(){return xt.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const u=function Fe(){const e=xt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===u?-1:u.injectorIndex}return Qe(s,!0),s}function Hl(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Im(e,t,n){cg(t);try{const r=e.viewQuery;null!==r&&Tm(1,r,n);const i=e.template;null!==i&&bE(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&xE(e,t),e.staticViewQueries&&Tm(2,e.viewQuery,n);const s=e.components;null!==s&&function dR(e,t){for(let n=0;n<t.length;n++)TR(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,fg()}}function $h(e,t,n,r){const i=t[2];if(128!=(128&i)){cg(t);try{no(t),function Dl(e){return xt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&bE(e,t,n,2,r);const u=3==(3&i);if(u){const d=e.preOrderCheckHooks;null!==d&&vh(t,d,null)}else{const d=e.preOrderHooks;null!==d&&_h(t,d,0,null),hg(t,0)}if(function AR(e){for(let t=Rg(e);null!==t;t=Og(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&Cl(s,1),i[2]|=512}}}(t),function NR(e){for(let t=Rg(e);null!==t;t=Og(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];as(r)&&$h(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&xE(e,t),u){const d=e.contentCheckHooks;null!==d&&vh(t,d)}else{const d=e.contentHooks;null!==d&&_h(t,d,1),hg(t,1)}!function fR(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Su(~i);else{const s=i,u=n[++r],c=n[++r];YN(u,s),c(2,t[s])}}}finally{Su(-1)}}(e,t);const c=e.components;null!==c&&function hR(e,t){for(let n=0;n<t.length;n++)PR(e,t[n])}(t,c);const h=e.viewQuery;if(null!==h&&Tm(2,h,r),u){const d=e.viewCheckHooks;null!==d&&vh(t,d)}else{const d=e.viewHooks;null!==d&&_h(t,d,2),hg(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Cl(t[3],-1))}finally{fg()}}}function bE(e,t,n,r,i){const s=Ho(),u=2&r;try{Su(-1),u&&t.length>22&&iE(e,t,22,!1),n(r,i)}finally{Su(s)}}function NE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=bm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function bm(e,t,n,r,i,s,u,c,h,d){const g=22+r,m=g+i,y=function pR(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:tn);return n}(g,m),_="function"==typeof d?d():d;return y[1]={type:e,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:t,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof u?u():u,firstChild:null,schemas:h,consts:_,incompleteFirstPass:!1}}function PE(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function TE(e,t){const r=t.directiveEnd,i=e.data,s=t.attrs,u=[];let c=null,h=null;for(let d=t.directiveStart;d<r;d++){const g=i[d],m=g.inputs,y=null===s||tE(t)?null:MR(m,s);u.push(y),c=PE(m,d,c),h=PE(g.outputs,d,h)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=16),c.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=u,t.inputs=c,t.outputs=h}function RE(e,t){const n=ci(t,e);16&n[2]||(n[2]|=32)}function OE(e,t,n,r,i,s){const u=s.hostBindings;if(u){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const h=~t.index;(function ER(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=h&&c.push(h),c.push(r,i,u)}}function LE(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function FE(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function SR(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;or(t)&&(n[""]=e)}}function kE(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function BE(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=mo(i.type)),u=new Tc(s,or(i),et);e.blueprint[r]=u,n[r]=u,OE(e,t,0,r,Hl(e,n,i.hostVars,tn),i)}function xR(e,t,n){const r=Pi(t,e),i=NE(n),s=e[10],u=zh(e,jh(e,i,null,n.onPush?32:16,r,t,s,s.createRenderer(r,n),null,null,null));e[t.index]=u}function bR(e,t,n,r,i,s){const u=s[t];if(null!==u){const c=r.setInput;for(let h=0;h<u.length;){const d=u[h++],g=u[h++],m=u[h++];null!==c?r.setInput(n,m,d,g):n[g]=m}}}function MR(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function PR(e,t){const n=ci(t,e);if(as(n)){const r=n[1];48&n[2]?$h(r,n,r.template,n[8]):n[5]>0&&Am(n)}}function Am(e){for(let r=Rg(e);null!==r;r=Og(r))for(let i=10;i<r.length;i++){const s=r[i];if(as(s))if(512&s[2]){const u=s[1];$h(u,s,u.template,s[8])}else s[5]>0&&Am(s)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ci(n[r],e);as(i)&&i[5]>0&&Am(i)}}function TR(e,t){const n=ci(t,e),r=n[1];(function RR(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Im(r,n,n[8])}function zh(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Pm(e){for(;e;){e[2]|=32;const t=Yc(e);if(vi(e)&&!t)return e;e=t}return null}function qh(e,t,n,r=!0){const i=t[10];i.begin&&i.begin();try{$h(e,t,e.template,n)}catch(u){throw r&&jE(t,u),u}finally{i.end&&i.end()}}function Tm(e,t,n){lg(0),t(e,n)}function UE(e){return e[7]||(e[7]=[])}function GE(e){return e.cleanup||(e.cleanup=[])}function jE(e,t){const n=e[9],r=n?n.get(Bl,null):null;r&&r.handleError(t)}function Rm(e,t,n,r,i){for(let s=0;s<n.length;){const u=n[s++],c=n[s++],h=t[u],d=e.data[u];null!==d.setInput?d.setInput(h,i,r,c):h[c]=i}}function Wh(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let u=0;u<t.length;u++){const c=t[u];"number"==typeof c?s=c:1==s?i=nt(i,c):2==s&&(r=nt(r,c+": "+t[++u]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Yh(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(sr(s)),pr(s))for(let c=10;c<s.length;c++){const h=s[c],d=h[1].firstChild;null!==d&&Yh(h[1],h,d,r)}const u=n.type;if(8&u)Yh(e,t,n.child,r);else if(32&u){const c=Tg(n,t);let h;for(;h=c();)r.push(h)}else if(16&u){const c=S1(t,n);if(Array.isArray(c))r.push(...c);else{const h=Yc(t[16]);Yh(h[1],h,c,r,!0)}}n=i?n.projectionNext:n.next}return r}class tf{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Yh(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(kg(t,r),xh(n,r))}this._attachedToViewContainer=!1}m1(this._lView[1],this._lView)}onDestroy(t){!function AE(e,t,n,r){const i=UE(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&GE(e).push(r,i.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){Pm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){qh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pP(e,t){Xc(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=t}}class OR extends tf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;qh(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Om extends Qc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Kt(t);return new nf(n,this.ngModule)}}function $E(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class FR{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const i=this.injector.get(t,om,r);return i!==om||n===om?i:this.parentInjector.get(t,n,r)}}class nf extends X1{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function LT(e){return e.map(OT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return $E(this.componentDef.inputs)}get outputs(){return $E(this.componentDef.outputs)}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof Mu?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const u=s?new FR(t,s):t,c=u.get(J1,null);if(null===c)throw new Ye(407,!1);const h=u.get(pT,null),d=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?function gR(e,t,n){return e.selectRootElement(t,n===Bi.ShadowDom)}(d,r,this.componentDef.encapsulation):Fg(d,g,function LR(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g)),y=this.componentDef.onPush?288:272,_=bm(0,null,null,1,0,null,null,null,null,null),w=jh(null,_,null,y,null,null,c,d,h,u,null);let D,U;cg(w);try{const M=function VR(e,t,n,r,i,s){const u=n[1];n[22]=e;const h=Gl(u,22,2,"#host",null),d=h.mergedAttrs=t.hostAttrs;null!==d&&(Wh(h,d,!0),null!==e&&(Eh(i,e,d),null!==h.classes&&jg(i,e,h.classes),null!==h.styles&&b1(i,e,h.styles)));const g=r.createRenderer(e,t),m=jh(n,NE(t),null,t.onPush?32:16,n[22],h,r,g,s||null,null,null);return u.firstCreatePass&&(Ih(Oc(h,n),u,t.type),FE(u,h),kE(h,n.length,1)),zh(n,m),n[22]=m}(m,this.componentDef,w,c,d);if(m)if(r)Eh(d,m,["ng-version",gT.full]);else{const{attrs:x,classes:b}=function FT(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!Xs(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);x&&Eh(d,m,x),b&&b.length>0&&jg(d,m,b.join(" "))}if(U=za(_,22),void 0!==n){const x=U.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const re=n[b];x.push(null!=re?Array.from(re):null)}}D=function UR(e,t,n,r){const i=n[1],s=function _R(e,t,n){const r=oe();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),BE(e,r,t,Hl(e,t,1,null),n),TE(e,r));const i=Lc(t,e,r.directiveStart,r);Ao(i,t);const s=Pi(r,t);return s&&Ao(s,t),i}(i,n,t);if(e[8]=n[8]=s,null!==r)for(const c of r)c(s,t);if(t.contentQueries){const c=oe();t.contentQueries(1,s,c.directiveStart)}const u=oe();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Su(u.index),OE(n[1],u,0,u.directiveStart,u.directiveEnd,t),LE(t,s)),s}(M,this.componentDef,w,[GR]),Im(_,w,null)}finally{fg()}return new BR(this.componentType,D,kl(U,w),w,U)}}class BR extends class uT{}{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new OR(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const s=this._rootLView;Rm(s[1],s,i,t,n),RE(s,this._tNode.index)}}get injector(){return new bl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function GR(){const e=oe();yh(v()[1],e)}function vr(e){let t=function zE(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(or(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ye(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const u=e;u.inputs=Lm(e.inputs),u.declaredInputs=Lm(e.declaredInputs),u.outputs=Lm(e.outputs);const c=i.hostBindings;c&&zR(e,c);const h=i.viewQuery,d=i.contentQueries;if(h&&jR(e,h),d&&$R(e,d),je(e.inputs,i.inputs),je(e.declaredInputs,i.declaredInputs),je(e.outputs,i.outputs),or(i)&&i.data.animation){const g=e.data;g.animation=(g.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let u=0;u<s.length;u++){const c=s[u];c&&c.ngInherit&&c(e),c===vr&&(n=!1)}}t=Object.getPrototypeOf(t)}!function HR(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=wh(i.hostAttrs,n=wh(n,i.hostAttrs))}}(r)}function Lm(e){return e===en?{}:e===on?[]:e}function jR(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function $R(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,s)=>{t(r,i,s),n(r,i,s)}:t}function zR(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function To(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function _a(e,t,n){const r=v();return To(r,Il(),t)&&function Is(e,t,n,r,i,s,u,c){const h=Pi(t,n);let g,d=t.inputs;!c&&null!=d&&(g=d[r])?(Rm(e,n,g,r,i),rs(t)&&RE(n,t.index)):3&t.type&&(r=function yR(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=u?u(i,t.value||"",r):i,s.setProperty(h,r,i))}(E(),function Kr(){const e=xt.lFrame;return za(e.tView,e.selectedIndex)}(),r,e,t,r[11],n,!1),_a}function km(e,t,n,r,i){const u=i?"class":"style";Rm(e,n,t.inputs[u],u,r)}function Ir(e,t,n,r){const i=v(),s=E(),u=22+e,c=i[11],h=i[u]=Fg(c,t,function rA(){return xt.lFrame.currentNamespace}()),d=s.firstCreatePass?function rO(e,t,n,r,i,s,u){const c=t.consts,d=Gl(t,e,2,i,yo(c,s));return function Mm(e,t,n,r){let i=!1;if(l()){const s=function DR(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const u=r[s];nE(n,u.selectors,!1)&&(i||(i=[]),Ih(Oc(n,t),e,u.type),or(u)?(FE(e,n),i.unshift(u)):i.push(u))}return i}(e,t,n),u=null===r?null:{"":-1};if(null!==s){i=!0,kE(n,e.data.length,s.length);for(let g=0;g<s.length;g++){const m=s[g];m.providersResolver&&m.providersResolver(m)}let c=!1,h=!1,d=Hl(e,t,s.length,null);for(let g=0;g<s.length;g++){const m=s[g];n.mergedAttrs=wh(n.mergedAttrs,m.hostAttrs),BE(e,n,t,d,m),SR(d,m,u),null!==m.contentQueries&&(n.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(n.flags|=128);const y=m.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),!h&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),h=!0),d++}TE(e,n)}u&&function IR(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new Ye(-301,!1);r.push(t[i],s)}}}(n,r,u)}return n.mergedAttrs=wh(n.mergedAttrs,n.attrs),i}(t,n,d,yo(c,u)),null!==d.attrs&&Wh(d,d.attrs,!1),null!==d.mergedAttrs&&Wh(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(u,s,i,0,t,n,r):s.data[u];Qe(d,!0);const g=d.mergedAttrs;null!==g&&Eh(c,h,g);const m=d.classes;null!==m&&jg(c,h,m);const y=d.styles;return null!==y&&b1(c,h,y),64!=(64&d.flags)&&Th(s,i,h,d),0===function Wu(){return xt.lFrame.elementDepthCount}()&&Ao(h,i),function o(){xt.lFrame.elementDepthCount++}(),Ls(d)&&(function Sm(e,t,n){!l()||(function wR(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Oc(n,t),Ao(r,t);const u=n.initialInputs;for(let c=i;c<s;c++){const h=e.data[c],d=or(h);d&&xR(t,n,h);const g=Lc(t,e,c,n);Ao(g,t),null!==u&&bR(0,c-i,g,h,0,u),d&&(ci(n.index,t)[8]=g)}}(e,t,n,Pi(n,t)),128==(128&n.flags)&&function CR(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,u=function XN(){return xt.lFrame.currentDirectiveIndex}();try{Su(s);for(let c=r;c<i;c++){const h=e.data[c],d=t[c];ag(c),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&LE(h,d)}}finally{Su(-1),ag(u)}}(e,t,n))}(s,i,d),function ME(e,t,n){if(wl(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const u=e.data[s];u.contentQueries&&u.contentQueries(1,n[s],s)}}}(s,d,i)),null!==r&&function xm(e,t,n=Pi){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const u=r[s+1],c=-1===u?n(t,e):e[u];e[i++]=c}}}(i,d),Ir}function Ar(){let e=oe();ot()?function ft(){xt.lFrame.isParent=!1}():(e=e.parent,Qe(e,!1));const t=e;!function a(){xt.lFrame.elementDepthCount--}();const n=E();return n.firstCreatePass&&(yh(n,e),wl(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function uA(e){return 0!=(16&e.flags)}(t)&&km(n,t,v(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function lA(e){return 0!=(32&e.flags)}(t)&&km(n,t,v(),t.stylesWithoutHost,!1),Ar}function $o(e,t,n,r){return Ir(e,t,n,r),Ar(),$o}function af(e){return!!e&&"function"==typeof e.then}const Um=function nw(e){return!!e&&"function"==typeof e.subscribe};function vo(e,t,n,r){const i=v(),s=E(),u=oe();return function iw(e,t,n,r,i,s,u,c){const h=Ls(r),g=e.firstCreatePass&&GE(e),m=t[8],y=UE(t);let _=!0;if(3&r.type||c){const U=Pi(r,t),M=c?c(U):U,x=y.length,b=c?ae=>c(sr(ae[r.index])):r.index;let re=null;if(!c&&h&&(re=function sO(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const u=i[s];if(u===n&&i[s+1]===r){const c=t[7],h=i[s+2];return c.length>h?c[h]:null}"string"==typeof u&&(s+=2)}return null}(e,t,i,r.index)),null!==re)(re.__ngLastListenerFn__||re).__ngNextListenerFn__=s,re.__ngLastListenerFn__=s,_=!1;else{s=sw(r,t,m,s,!1);const ae=n.listen(M,i,s);y.push(s,ae),g&&g.push(i,b,x,x+1)}}else s=sw(r,t,m,s,!1);const w=r.outputs;let D;if(_&&null!==w&&(D=w[i])){const U=D.length;if(U)for(let M=0;M<U;M+=2){const Ce=t[D[M]][D[M+1]].subscribe(s),le=y.length;y.push(s,Ce),g&&g.push(i,r.index,le,-(le+1))}}}(s,i,i[11],u,e,t,0,r),vo}function ow(e,t,n,r){try{return!1!==n(r)}catch(i){return jE(e,i),!1}}function sw(e,t,n,r,i){return function s(u){if(u===Function)return r;Pm(2&e.flags?ci(e.index,t):t);let h=ow(t,0,r,u),d=s.__ngNextListenerFn__;for(;d;)h=ow(t,0,d,u)&&h,d=d.__ngNextListenerFn__;return i&&!1===h&&(u.preventDefault(),u.returnValue=!1),h}}function mw(e,t,n,r,i){const s=e[n+1],u=null===t;let c=r?Zs(s):Ja(s),h=!1;for(;0!==c&&(!1===h||u);){const g=e[c+1];dO(e[c],t)&&(h=!0,e[c+1]=r?gm(g):dm(g)),c=r?Zs(g):Ja(g)}h&&(e[n+1]=r?dm(s):gm(s))}function dO(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Tl(e,t)>=0}function Jh(e,t){return function Js(e,t,n,r){const i=v(),s=E(),u=function qa(e){const t=xt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function Sw(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Ho()],u=function Iw(e,t){return t>=e.expandoStartIndex}(e,n);(function Nw(e,t){return 0!=(e.flags&(t?16:32))})(s,r)&&null===t&&!u&&(t=!1),t=function CO(e,t,n,r){const i=function ug(e){const t=xt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=uf(n=Hm(null,e,t,n,r),t.attrs,r),s=null);else{const u=t.directiveStylingLast;if(-1===u||e[u]!==i)if(n=Hm(i,e,t,n,r),null===s){let h=function DO(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ja(r))return e[Zs(r)]}(e,t,r);void 0!==h&&Array.isArray(h)&&(h=Hm(null,e,t,h[1],r),h=uf(h,t.attrs,r),function IO(e,t,n,r){e[Zs(n?t.classBindings:t.styleBindings)]=r}(e,t,r,h))}else s=function SO(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=uf(r,e[s].hostAttrs,n);return uf(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function fO(e,t,n,r,i,s){let u=s?t.classBindings:t.styleBindings,c=Zs(u),h=Ja(u);e[r]=n;let g,d=!1;if(Array.isArray(n)){const m=n;g=m[1],(null===g||Tl(m,g)>0)&&(d=!0)}else g=n;if(i)if(0!==h){const y=Zs(e[c+1]);e[r+1]=Uh(y,c),0!==y&&(e[y+1]=pm(e[y+1],r)),e[c+1]=function tR(e,t){return 131071&e|t<<17}(e[c+1],r)}else e[r+1]=Uh(c,0),0!==c&&(e[c+1]=pm(e[c+1],r)),c=r;else e[r+1]=Uh(h,0),0===c?c=r:e[h+1]=pm(e[h+1],r),h=r;d&&(e[r+1]=dm(e[r+1])),mw(e,g,r,!0),mw(e,g,r,!1),function hO(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Tl(s,t)>=0&&(n[r+1]=gm(n[r+1]))}(t,g,e,r,s),u=Uh(c,h),s?t.classBindings=u:t.styleBindings=u}(i,s,t,n,u,r)}}(s,e,u,r),t!==tn&&To(i,u,t)&&function bw(e,t,n,r,i,s,u,c){if(!(3&t.type))return;const h=e.data,d=h[c+1];Kh(function vE(e){return 1==(1&e)}(d)?Mw(h,t,n,i,Ja(d),u):void 0)||(Kh(s)||function yE(e){return 2==(2&e)}(d)&&(s=Mw(h,null,n,i,c,u)),function IP(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:us.DashCase;null==i?e.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=us.Important),e.setStyle(n,r,i,s))}}(r,u,Du(Ho(),n),i,s))}(s,s.data[Ho()],i,i[11],e,i[u+1]=function MO(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ne(function bu(e){return e instanceof class T1{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,u)}(e,t,null,!0),Jh}function Hm(e,t,n,r,i){let s=null;const u=n.directiveEnd;let c=n.directiveStylingLast;for(-1===c?c=n.directiveStart:c++;c<u&&(s=t[c],r=uf(r,s.hostAttrs,i),s!==e);)c++;return null!==e&&(n.directiveStylingLast=c),r}function uf(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const u=t[s];"number"==typeof u?i=u:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ws(e,u,!!n||t[++s]))}return void 0===e?null:e}function Mw(e,t,n,r,i,s){const u=null===t;let c;for(;i>0;){const h=e[i],d=Array.isArray(h),g=d?h[1]:h,m=null===g;let y=n[i+1];y===tn&&(y=m?on:void 0);let _=m?Eg(y,r):g===r?y:void 0;if(d&&!Kh(_)&&(_=Eg(h,r)),Kh(_)&&(c=_,u))return c;const w=e[i+1];i=u?Zs(w):Ja(w)}if(null!==t){let h=s?t.residualClasses:t.residualStyles;null!=h&&(c=Eg(h,r))}return c}function Kh(e){return void 0!==e}function fi(e,t=""){const n=v(),r=E(),i=e+22,s=r.firstCreatePass?Gl(r,i,1,t,null):r.data[i],u=n[i]=function Lg(e,t){return e.createText(t)}(n[11],t);Th(r,n,u,s),Qe(s,!1)}function Ca(e,t,n){const r=v(),i=function $l(e,t,n,r){return To(e,Il(),n)?t+yt(n)+r:tn}(r,e,t,n);return i!==tn&&function Ka(e,t,n){const r=Du(t,e);!function p1(e,t,n){e.setValue(t,n)}(e[11],r,n)}(r,Ho(),i),Ca}const ec="en-US";let Kw=ec;function zm(e,t,n,r,i){if(e=ze(e),Array.isArray(e))for(let s=0;s<e.length;s++)zm(e[s],t,n,r,i);else{const s=E(),u=v();let c=Zu(e)?e:ze(e.provide),h=Y1(e);const d=oe(),g=1048575&d.providerIndexes,m=d.directiveStart,y=d.providerIndexes>>20;if(Zu(e)||!e.multi){const _=new Tc(h,i,et),w=Wm(c,t,i?g:g+y,m);-1===w?(Ih(Oc(d,u),s,c),qm(s,e,t.length),t.push(c),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),n.push(_),u.push(_)):(n[w]=_,u[w]=_)}else{const _=Wm(c,t,g+y,m),w=Wm(c,t,g,g+y),D=_>=0&&n[_],U=w>=0&&n[w];if(i&&!U||!i&&!D){Ih(Oc(d,u),s,c);const M=function qL(e,t,n,r,i){const s=new Tc(e,n,et);return s.multi=[],s.index=t,s.componentProviders=0,DC(s,i,r&&!n),s}(i?zL:$L,n.length,i,r,h);!i&&U&&(n[w].providerFactory=M),qm(s,e,t.length,0),t.push(c),d.directiveStart++,d.directiveEnd++,i&&(d.providerIndexes+=1048576),n.push(M),u.push(M)}else qm(s,e,_>-1?_:w,DC(n[i?w:_],h,!i&&r));!i&&r&&U&&n[w].componentProviders++}}}function qm(e,t,n,r){const i=Zu(t),s=function eT(e){return!!e.useClass}(t);if(i||s){const h=(s?ze(t.useClass):t).prototype.ngOnDestroy;if(h){const d=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const g=d.indexOf(n);-1===g?d.push(n,[r,h]):d[g+1].push(r,h)}else d.push(n,h)}}}function DC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Wm(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function $L(e,t,n,r){return Ym(this.multi,[])}function zL(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const u=this.providerFactory.componentProviders,c=Lc(n,n[1],this.providerFactory.index,r);s=c.slice(0,u),Ym(i,s);for(let h=u;h<c.length;h++)s.push(c[h])}else s=[],Ym(i,s);return s}function Ym(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function zr(e,t=[]){return n=>{n.providersResolver=(r,i)=>function jL(e,t,n){const r=E();if(r.firstCreatePass){const i=or(e);zm(n,r.data,r.blueprint,i,!0),zm(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class el{}class IC{}class SC extends el{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Om(this);const r=Zr(t);this._bootstrapComponents=Za(r.bootstrap),this._r3Injector=lE(t,n,[{provide:el,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver}],Ne(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xm extends IC{constructor(t){super(),this.moduleType=t}create(t){return new SC(this.moduleType,t)}}class YL extends el{constructor(t,n,r){super(),this.componentFactoryResolver=new Om(this),this.instance=null;const i=new W1([...t,{provide:el,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver}],n||Bh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rd(e,t,n=null){return new YL(e,t,n).injector}let XL=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=j1(0,n.type),i=r.length>0?rd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ot({token:e,providedIn:"environment",factory:()=>new e(Nt(Mu))}),e})();function xC(e){e.getStandaloneInjector=t=>t.get(XL).getOrCreateStandaloneInjector(e)}function Jm(e){return t=>{setTimeout(e,void 0,t)}}const di=class wF extends Oe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),u=r;if(t&&"object"==typeof t){const h=t;i=h.next?.bind(h),s=h.error?.bind(h),u=h.complete?.bind(h)}this.__isAsync&&(s=Jm(s),i&&(i=Jm(i)),u&&(u=Jm(u)));const c=super.subscribe({next:i,error:s,complete:u});return t instanceof ne&&t.add(c),c}};let Qs=(()=>{class e{}return e.__NG_ELEMENT_ID__=xF,e})();function xF(){return function UC(e,t){let n;const r=t[e.index];if(pr(r))n=r;else{let i;if(8&e.type)i=sr(r);else{const s=t[11];i=s.createComment("");const u=Pi(e,t);Yu(s,Ph(s,u),i,function wP(e,t){return e.nextSibling(t)}(s,u),!1)}t[e.index]=n=function VE(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}(r,t,i,e),zh(t,n)}return new BC(n,e,t)}(oe(),v())}const bF=Qs,BC=class extends bF{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return kl(this._hostTNode,this._hostLView)}get injector(){return new bl(this._hostTNode,this._hostLView)}get parentInjector(){const t=Dh(this._hostTNode,this._hostLView);if(P_(t)){const n=xl(t,this._hostLView),r=Sl(t);return new bl(n[1].data[r+8],n)}return new bl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=VC(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const u=t.createEmbeddedView(n||{},s);return this.insert(u,i),u}createComponent(t,n,r,i,s){const u=t&&!function Bc(e){return"function"==typeof e}(t);let c;if(u)c=n;else{const m=n||{};c=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const h=u?t:new nf(Kt(t)),d=r||this.parentInjector;if(!s&&null==h.ngModule){const y=(u?d:this.parentInjector).get(Mu,null);y&&(s=y)}const g=h.create(d,i,void 0,s);return this.insert(g.hostView,c),g}insert(t,n){const r=t._lView,i=r[1];if(function Iu(e){return pr(e[3])}(r)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const m=r[3],y=new BC(m,m[6],m[3]);y.detach(y.indexOf(t))}}const s=this._adjustIndex(n),u=this._lContainer;!function mP(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],H_(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const u=t[17];null!==u&&n!==u&&function yP(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(u,t);const c=t[19];null!==c&&c.insertView(e),t[2]|=64}(i,r,u,s);const c=Ug(s,u),h=r[11],d=Ph(h,u[7]);return null!==d&&function dP(e,t,n,r,i,s){r[0]=i,r[6]=t,Xc(e,r,n,1,i,s)}(i,u[6],h,r,d,c),t.attachToViewContainerRef(),H_(Qm(u),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=VC(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=kg(this._lContainer,n);r&&(xh(Qm(this._lContainer),n),m1(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=kg(this._lContainer,n);return r&&null!=xh(Qm(this._lContainer),n)?new tf(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function VC(e){return e[8]}function Qm(e){return e[8]||(e[8]=[])}function sd(...e){}const ad=new Ft("Application Initializer");let ud=(()=>{class e{constructor(n){this.appInits=n,this.resolve=sd,this.reject=sd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(af(s))n.push(s);else if(Um(s)){const u=new Promise((c,h)=>{s.subscribe({complete:c,error:h})});n.push(u)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Nt(ad,8))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const yf=new Ft("AppId",{providedIn:"root",factory:function cD(){return`${hy()}${hy()}${hy()}`}});function hy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fD=new Ft("Platform Initializer"),dy=new Ft("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hD=new Ft("appBootstrapListener");let r2=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const eu=new Ft("LocaleId",{providedIn:"root",factory:()=>wi(eu,_t.Optional|_t.SkipSelf)||function i2(){return typeof $localize<"u"&&$localize.locale||ec}()});class s2{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let py=(()=>{class e{compileModuleSync(n){return new Xm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Za(Zr(n).declarations).reduce((u,c)=>{const h=Kt(c);return h&&u.push(new nf(h)),u},[]);return new s2(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const l2=(()=>Promise.resolve(0))();function gy(e){typeof Zone>"u"?l2.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class qi{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new di(!1),this.onMicrotaskEmpty=new di(!1),this.onStable=new di(!1),this.onError=new di(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function c2(){let e=ir.requestAnimationFrame,t=ir.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function d2(e){const t=()=>{!function h2(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ir,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,yy(e),e.isCheckStableRunning=!0,my(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),yy(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,u,c)=>{try{return gD(e),n.invokeTask(i,s,u,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),mD(e)}},onInvoke:(n,r,i,s,u,c,h)=>{try{return gD(e),n.invoke(i,s,u,c,h)}finally{e.shouldCoalesceRunChangeDetection&&t(),mD(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,yy(e),my(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qi.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(qi.isInAngularZone())throw new Ye(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,u=s.scheduleEventTask("NgZoneEvent: "+i,t,f2,sd,sd);try{return s.runTask(u,n,r)}finally{s.cancelTask(u)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const f2={};function my(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yy(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function gD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function mD(e){e._nesting--,my(e)}class p2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new di,this.onMicrotaskEmpty=new di,this.onStable=new di,this.onError=new di}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const yD=new Ft(""),ld=new Ft("");let Ey,vy=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ey||(function g2(e){Ey=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qi.assertNotInAngularZone(),gy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(u=>u.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Nt(qi),Nt(_y),Nt(ld))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})(),_y=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ey?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Pu=null;const vD=new Ft("AllowMultipleToken"),wy=new Ft("PlatformDestroyListeners");class _D{constructor(t,n){this.name=t,this.token=n}}function wD(e,t,n=[]){const r=`Platform: ${t}`,i=new Ft(r);return(s=[])=>{let u=Cy();if(!u||u.injector.get(vD,!1)){const c=[...n,...s,{provide:i,useValue:!0}];e?e(c):function v2(e){if(Pu&&!Pu.get(vD,!1))throw new Ye(400,!1);Pu=e;const t=e.get(DD);(function ED(e){const t=e.get(fD,null);t&&t.forEach(n=>n())})(e)}(function CD(e=[],t){return Ds.create({name:t,providers:[{provide:tm,useValue:"platform"},{provide:wy,useValue:new Set([()=>Pu=null])},...e]})}(c,r))}return function E2(e){const t=Cy();if(!t)throw new Ye(401,!1);return t}()}}function Cy(){return Pu?.get(DD)??null}let DD=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function SD(e,t){let n;return n="noop"===e?new p2:("zone.js"===e?void 0:e)||new qi(t),n}(r?.ngZone,function ID(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:qi,useValue:i}];return i.run(()=>{const u=Ds.create({providers:s,parent:this.injector,name:n.moduleType.name}),c=n.create(u),h=c.injector.get(Bl,null);if(!h)throw new Ye(402,!1);return i.runOutsideAngular(()=>{const d=i.onError.subscribe({next:g=>{h.handleError(g)}});c.onDestroy(()=>{fd(this._modules,c),d.unsubscribe()})}),function xD(e,t,n){try{const r=n();return af(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(h,i,()=>{const d=c.injector.get(ud);return d.runInitializers(),d.donePromise.then(()=>(function Qw(e){dr(e,"Expected localeId to be defined"),"string"==typeof e&&(Kw=e.toLowerCase().replace(/_/g,"-"))}(c.injector.get(eu,ec)||ec),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,r=[]){const i=bD({},r);return function m2(e,t,n){const r=new Xm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(cd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Ye(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(wy,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Nt(Ds))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function bD(e,t){return Array.isArray(t)?t.reduce(bD,e):{...e,...t}}let cd=(()=>{class e{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new q(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new q(c=>{let h;this._zone.runOutsideAngular(()=>{h=this._zone.onStable.subscribe(()=>{qi.assertNotInAngularZone(),gy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{qi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),d.unsubscribe()}});this.isStable=function K(...e){const t=Uo(e),n=function xi(e,t){return"number"==typeof Io(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?ki(r[0]):Ps(n)(ce(r,t)):Un}(s,u.pipe(function ye(e={}){const{connector:t=(()=>new Oe),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let u,c,h,d=0,g=!1,m=!1;const y=()=>{c?.unsubscribe(),c=void 0},_=()=>{y(),u=h=void 0,g=m=!1},w=()=>{const D=u;_(),D?.unsubscribe()};return st((D,U)=>{d++,!m&&!g&&y();const M=h=h??t();U.add(()=>{d--,0===d&&!m&&!g&&(c=xe(w,i))}),M.subscribe(U),!u&&d>0&&(u=new C({next:x=>M.next(x),error:x=>{m=!0,y(),c=xe(_,n,x),M.error(x)},complete:()=>{g=!0,y(),c=xe(_,r),M.complete()}}),ki(D).subscribe(u))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof X1;if(!this._injector.get(ud).done)throw!i&&function Va(e){const t=Kt(e)||Wn(e)||fo(e);return null!==t&&t.standalone}(n),new Ye(405,false);let u;u=i?n:this._injector.get(Qc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);const c=function y2(e){return e.isBoundToModule}(u)?void 0:this._injector.get(el),d=u.create(Ds.NULL,[],r||u.selector,c),g=d.location.nativeElement,m=d.injector.get(yD,null);return m?.registerApplication(g),d.onDestroy(()=>{this.detachView(d.hostView),fd(this.components,d),m?.unregisterApplication(g)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;fd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(hD,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>fd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ye(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Nt(qi),Nt(Mu),Nt(Bl))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function fd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let ND=!0,hd=(()=>{class e{}return e.__NG_ELEMENT_ID__=D2,e})();function D2(e){return function I2(e,t,n){if(rs(e)&&!n){const r=ci(e.index,t);return new tf(r,r)}return 47&e.type?new tf(t[16],t):null}(oe(),v(),16==(16&e))}const k2=wD(null,"core",[]);let B2=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Nt(cd))},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({}),e})(),md=null;function Da(){return md}const Wo=new Ft("DocumentToken");let by=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:function(){return function H2(){return Nt(UD)}()},providedIn:"platform"}),e})();const j2=new Ft("Location Initialized");let UD=(()=>{class e extends by{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Da().getBaseHref(this._doc)}onPopState(n){const r=Da().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Da().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){GD()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){GD()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Nt(Wo))},e.\u0275prov=Ot({token:e,factory:function(){return function $2(){return new UD(Nt(Wo))}()},providedIn:"platform"}),e})();function GD(){return!!window.history.pushState}function My(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function HD(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ru(e){return e&&"?"!==e[0]?"?"+e:e}let nl=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:function(){return wi($D)},providedIn:"root"}),e})();const jD=new Ft("appBaseHref");let $D=(()=>{class e extends nl{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??wi(Wo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return My(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ru(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const u=this.prepareExternalUrl(i+ru(s));this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,s){const u=this.prepareExternalUrl(i+ru(s));this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Nt(by),Nt(jD,8))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),z2=(()=>{class e extends nl{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=My(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let u=this.prepareExternalUrl(i+ru(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(n,r,u)}replaceState(n,r,i,s){let u=this.prepareExternalUrl(i+ru(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Nt(by),Nt(jD,8))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})(),Ny=(()=>{class e{constructor(n){this._subject=new di,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=HD(zD(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ru(r))}normalize(n){return e.stripTrailingSlash(function W2(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,zD(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ru(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ru(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=ru,e.joinWithSlash=My,e.stripTrailingSlash=HD,e.\u0275fac=function(n){return new(n||e)(Nt(nl))},e.\u0275prov=Ot({token:e,factory:function(){return function q2(){return new Ny(Nt(nl))}()},providedIn:"root"}),e})();function zD(e){return e.replace(/\/index.html$/,"")}function eI(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}let lB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({}),e})();let dB=(()=>{class e{}return e.\u0275prov=Ot({token:e,providedIn:"root",factory:()=>new pB(Nt(Wo),window)}),e})();class pB{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function gB(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=uI(this.window.history)||uI(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function uI(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class lI{}class zy extends class HB extends class G2{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function U2(e){md||(md=e)}(new zy)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function jB(){return Cf=Cf||document.querySelector("base"),Cf?Cf.getAttribute("href"):null}();return null==n?null:function $B(e){Md=Md||document.createElement("a"),Md.setAttribute("href",e);const t=Md.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Cf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return eI(document.cookie,t)}}let Md,Cf=null;const pI=new Ft("TRANSITION_ID"),qB=[{provide:ad,useFactory:function zB(e,t,n){return()=>{n.get(ud).donePromise.then(()=>{const r=Da(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[pI,Wo,Ds],multi:!0}];let YB=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();const Nd=new Ft("EventManagerPlugins");let Ad=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const u=i[s];if(u.supports(n))return this._eventNameToPlugin.set(n,u),u}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Nt(Nd),Nt(qi))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();class gI{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Da().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let mI=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})(),Df=(()=>{class e extends mI{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,i.push(r.appendChild(u))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(yI),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(yI))}}return e.\u0275fac=function(n){return new(n||e)(Nt(Wo))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();function yI(e){Da().remove(e)}const qy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wy=/%COMP%/g;function Pd(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Pd(e,i,n):(i=i.replace(Wy,e),n.push(i))}return n}function EI(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Yy=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Xy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Bi.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new e3(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Bi.ShadowDom:return new t3(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Pd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Nt(Ad),Nt(Df),Nt(yf))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();class Xy{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(qy[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(CI(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(CI(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=qy[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=qy[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(us.DashCase|us.Important)?t.style.setProperty(n,r,i&us.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&us.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,EI(r)):this.eventManager.addEventListener(t,n,EI(r))}}function CI(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class e3 extends Xy{constructor(t,n,r,i){super(t),this.component=r;const s=Pd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function JB(e){return"_ngcontent-%COMP%".replace(Wy,e)}(i+"-"+r.id),this.hostAttr=function KB(e){return"_nghost-%COMP%".replace(Wy,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class t3 extends Xy{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Pd(i.id,i.styles,[]);for(let u=0;u<s.length;u++){const c=document.createElement("style");c.textContent=s[u],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let n3=(()=>{class e extends gI{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Nt(Wo))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();const DI=["alt","control","meta","shift"],r3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},i3={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let o3=(()=>{class e extends gI{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),u=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Da().onAndCancel(n,s.domEventName,u))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let u="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),u="code."),DI.forEach(d=>{const g=r.indexOf(d);g>-1&&(r.splice(g,1),u+=d+".")}),u+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=i,h.fullKey=u,h}static matchEventFullKeyCode(n,r){let i=r3[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),DI.forEach(u=>{u!==i&&(0,i3[u])(n)&&(s+=u+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Nt(Wo))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();const l3=wD(k2,"browser",[{provide:dy,useValue:"browser"},{provide:fD,useValue:function s3(){zy.makeCurrent()},multi:!0},{provide:Wo,useFactory:function u3(){return function MP(e){zg=e}(document),document},deps:[]}]),xI=new Ft(""),bI=[{provide:ld,useClass:class WB{addToWindow(t){ir.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ir.getAllAngularTestabilities=()=>t.getAllTestabilities(),ir.getAllAngularRootElements=()=>t.getAllRootElements(),ir.frameworkStabilizers||(ir.frameworkStabilizers=[]),ir.frameworkStabilizers.push(r=>{const i=ir.getAllAngularTestabilities();let s=i.length,u=!1;const c=function(h){u=u||h,s--,0==s&&r(u)};i.forEach(function(h){h.whenStable(c)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Da().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:yD,useClass:vy,deps:[qi,_y,ld]},{provide:vy,useClass:vy,deps:[qi,_y,ld]}],MI=[{provide:tm,useValue:"root"},{provide:Bl,useFactory:function a3(){return new Bl},deps:[]},{provide:Nd,useClass:n3,multi:!0,deps:[Wo,qi,dy]},{provide:Nd,useClass:o3,multi:!0,deps:[Wo]},{provide:Yy,useClass:Yy,deps:[Ad,Df,yf]},{provide:J1,useExisting:Yy},{provide:mI,useExisting:Df},{provide:Df,useClass:Df,deps:[Wo]},{provide:Ad,useClass:Ad,deps:[Nd,qi]},{provide:lI,useClass:YB,deps:[]},[]];let c3=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:yf,useValue:n.appId},{provide:pI,useExisting:yf},qB]}}}return e.\u0275fac=function(n){return new(n||e)(Nt(xI,12))},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({providers:[...MI,...bI],imports:[lB,B2]}),e})(),NI=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Nt(Wo))},e.\u0275prov=Ot({token:e,factory:function(n){let r=null;return r=n?new n:function h3(){return new NI(Nt(Wo))}(),r},providedIn:"root"}),e})();function jt(...e){return ce(e,Uo(e))}typeof window<"u"&&window;class ra extends Oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Td=X(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:E3}=Array,{getPrototypeOf:w3,prototype:C3,keys:D3}=Object;function TI(e){if(1===e.length){const t=e[0];if(E3(t))return{args:t,keys:null};if(function I3(e){return e&&"object"==typeof e&&w3(e)===C3}(t)){const n=D3(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:S3}=Array;function RI(e){return Xe(t=>function x3(e,t){return S3(t)?e(...t):e(t)}(e,t))}function OI(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function LI(...e){const t=Uo(e),n=rr(e),{args:r,keys:i}=TI(e);if(0===r.length)return ce([],t);const s=new q(function b3(e,t,n=Me){return r=>{FI(t,()=>{const{length:i}=e,s=new Array(i);let u=i,c=i;for(let h=0;h<i;h++)FI(t,()=>{const d=ce(e[h],t);let g=!1;d.subscribe(at(r,m=>{s[h]=m,g||(g=!0,c--),c||r.next(n(s.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,t,i?u=>OI(i,u):Me));return n?s.pipe(RI(n)):s}function FI(e,t,n){e?Tr(n,e,t):t()}function Ky(...e){return function M3(){return Ps(1)}()(ce(e,Uo(e)))}function kI(e){return new q(t=>{ki(e()).subscribe(t)})}function If(e,t){const n=H(e)?e:()=>e,r=i=>i.error(n());return new q(t?i=>t.schedule(r,0,i):r)}function Qy(){return st((e,t)=>{let n=null;e._refCount++;const r=at(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class BI extends q{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Le(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ne;const n=this.getSubject();t.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ne.EMPTY)}return t}refCount(){return Qy()(this)}}function Ia(e,t){return st((n,r)=>{let i=null,s=0,u=!1;const c=()=>u&&!i&&r.complete();n.subscribe(at(r,h=>{i?.unsubscribe();let d=0;const g=s++;ki(e(h,g)).subscribe(i=at(r,m=>r.next(t?t(h,m,g,d++):m),()=>{i=null,c()}))},()=>{u=!0,c()}))})}function Sf(e){return e<=0?()=>Un:st((t,n)=>{let r=0;t.subscribe(at(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ou(e,t){return st((n,r)=>{let i=0;n.subscribe(at(r,s=>e.call(t,s,i++)&&r.next(s)))})}function Rd(e){return st((t,n)=>{let r=!1;t.subscribe(at(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function VI(e=A3){return st((t,n)=>{let r=!1;t.subscribe(at(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function A3(){return new Td}function Ru(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ou((i,s)=>e(i,s,r)):Me,Sf(1),n?Rd(t):VI(()=>new Td))}function Ou(e,t){return H(t)?Zn(e,t,1):Zn(e,1)}function Ro(e,t,n){const r=H(e)||t||n?{next:e,error:t,complete:n}:e;return r?st((i,s)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let c=!0;i.subscribe(at(s,h=>{var d;null===(d=r.next)||void 0===d||d.call(r,h),s.next(h)},()=>{var h;c=!1,null===(h=r.complete)||void 0===h||h.call(r),s.complete()},h=>{var d;c=!1,null===(d=r.error)||void 0===d||d.call(r,h),s.error(h)},()=>{var h,d;c&&(null===(h=r.unsubscribe)||void 0===h||h.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):Me}function Lu(e){return st((t,n)=>{let s,r=null,i=!1;r=t.subscribe(at(n,void 0,void 0,u=>{s=ki(e(u,Lu(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function P3(e,t,n,r,i){return(s,u)=>{let c=n,h=t,d=0;s.subscribe(at(u,g=>{const m=d++;h=c?e(h,g,m):(c=!0,g),r&&u.next(h)},i&&(()=>{c&&u.next(h),u.complete()})))}}function UI(e,t){return st(P3(e,t,arguments.length>=2,!0))}function ev(e){return e<=0?()=>Un:st((t,n)=>{let r=[];t.subscribe(at(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function GI(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ou((i,s)=>e(i,s,r)):Me,ev(1),n?Rd(t):VI(()=>new Td))}function tv(e){return st((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const cn="primary",xf=Symbol("RouteTitle");class O3{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function rc(e){return new O3(e)}function L3(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const u=r[s],c=e[s];if(u.startsWith(":"))i[u.substring(1)]=c;else if(u!==c.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Sa(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!HI(e[i],t[i]))return!1;return!0}function HI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function jI(e){return Array.prototype.concat.apply([],e)}function $I(e){return e.length>0?e[e.length-1]:null}function _o(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Fu(e){return Um(e)?e:af(e)?ce(Promise.resolve(e)):jt(e)}const B3={exact:function WI(e,t,n){if(!il(e.segments,t.segments)||!Od(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!WI(e.children[r],t.children[r],n))return!1;return!0},subset:YI},zI={exact:function V3(e,t){return Sa(e,t)},subset:function U3(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>HI(e[n],t[n]))},ignored:()=>!0};function qI(e,t,n){return B3[n.paths](e.root,t.root,n.matrixParams)&&zI[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function YI(e,t,n){return XI(e,t,t.segments,n)}function XI(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!il(i,n)||t.hasChildren()||!Od(i,n,r))}if(e.segments.length===n.length){if(!il(e.segments,n)||!Od(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!YI(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(il(e.segments,i)&&Od(e.segments,i,r)&&e.children[cn])&&XI(e.children[cn],t,s,r)}}function Od(e,t,n){return t.every((r,i)=>zI[n](e[i].parameters,r.parameters))}class rl{constructor(t,n,r){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rc(this.queryParams)),this._queryParamMap}toString(){return j3.serialize(this)}}class Fn{constructor(t,n){this.segments=t,this.children=n,this.parent=null,_o(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ld(this)}}class bf{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=rc(this.parameters)),this._parameterMap}toString(){return QI(this)}}function il(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let ZI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:function(){return new rv},providedIn:"root"}),e})();class rv{parse(t){const n=new K3(t);return new rl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Mf(t.root,!0)}`,r=function q3(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Fd(n)}=${Fd(i)}`).join("&"):`${Fd(n)}=${Fd(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function $3(e){return encodeURI(e)}(t.fragment)}`:""}`}}const j3=new rv;function Ld(e){return e.segments.map(t=>QI(t)).join("/")}function Mf(e,t){if(!e.hasChildren())return Ld(e);if(t){const n=e.children[cn]?Mf(e.children[cn],!1):"",r=[];return _o(e.children,(i,s)=>{s!==cn&&r.push(`${s}:${Mf(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function H3(e,t){let n=[];return _o(e.children,(r,i)=>{i===cn&&(n=n.concat(t(r,i)))}),_o(e.children,(r,i)=>{i!==cn&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===cn?[Mf(e.children[cn],!1)]:[`${i}:${Mf(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[cn]?`${Ld(e)}/${n[0]}`:`${Ld(e)}/(${n.join("//")})`}}function JI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fd(e){return JI(e).replace(/%3B/gi,";")}function iv(e){return JI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kd(e){return decodeURIComponent(e)}function KI(e){return kd(e.replace(/\+/g,"%20"))}function QI(e){return`${iv(e.path)}${function z3(e){return Object.keys(e).map(t=>`;${iv(t)}=${iv(e[t])}`).join("")}(e.parameters)}`}const W3=/^[^\/()?;=#]+/;function Bd(e){const t=e.match(W3);return t?t[0]:""}const Y3=/^[^=?&#]+/,Z3=/^[^&#]+/;class K3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[cn]=new Fn(t,n)),r}parseSegment(){const t=Bd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ye(4009,!1);return this.capture(t),new bf(kd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Bd(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Bd(this.remaining);i&&(r=i,this.capture(r))}t[kd(n)]=kd(r)}parseQueryParam(t){const n=function X3(e){const t=e.match(Y3);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const u=function J3(e){const t=e.match(Z3);return t?t[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=KI(n),s=KI(r);if(t.hasOwnProperty(i)){let u=t[i];Array.isArray(u)||(u=[u],t[i]=u),u.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ye(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=cn);const u=this.parseChildren();n[s]=1===Object.keys(u).length?u[cn]:new Fn([],u),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ye(4011,!1)}}function ov(e){return e.segments.length>0?new Fn([],{[cn]:e}):e}function Vd(e){const t={};for(const r of Object.keys(e.children)){const s=Vd(e.children[r]);(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function Q3(e){if(1===e.numberOfChildren&&e.children[cn]){const t=e.children[cn];return new Fn(e.segments.concat(t.segments),t.children)}return e}(new Fn(e.segments,t))}function ol(e){return e instanceof rl}function nV(e,t,n,r,i){if(0===n.length)return ic(t.root,t.root,t.root,r,i);const s=function nS(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new tS(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return _o(s.outlets,(h,d)=>{c[d]="string"==typeof h?h.split("/"):h}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===u?(s.split("/").forEach((c,h)=>{0==h&&"."===c||(0==h&&""===c?n=!0:".."===c?t++:""!=c&&i.push(c))}),i):[...i,s]},[]);return new tS(n,t,r)}(n);return s.toRoot()?ic(t.root,t.root,new Fn([],{}),r,i):function u(h){const d=function iV(e,t,n,r){if(e.isAbsolute)return new oc(t.root,!0,0);if(-1===r)return new oc(n,n===t.root,0);return function rS(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ye(4005,!1);i=r.segments.length}return new oc(r,!1,i-s)}(n,r+(Nf(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,t,e.snapshot?._urlSegment,h),g=d.processChildren?Pf(d.segmentGroup,d.index,s.commands):av(d.segmentGroup,d.index,s.commands);return ic(t.root,d.segmentGroup,g,r,i)}(e.snapshot?._lastPathIndex)}function Nf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Af(e){return"object"==typeof e&&null!=e&&e.outlets}function ic(e,t,n,r,i){let u,s={};r&&_o(r,(h,d)=>{s[d]=Array.isArray(h)?h.map(g=>`${g}`):`${h}`}),u=e===t?n:eS(e,t,n);const c=ov(Vd(u));return new rl(c,s,i)}function eS(e,t,n){const r={};return _o(e.children,(i,s)=>{r[s]=i===t?n:eS(i,t,n)}),new Fn(e.segments,r)}class tS{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Nf(r[0]))throw new Ye(4003,!1);const i=r.find(Af);if(i&&i!==$I(r))throw new Ye(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oc{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function av(e,t,n){if(e||(e=new Fn([],{})),0===e.segments.length&&e.hasChildren())return Pf(e,t,n);const r=function sV(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const u=e.segments[i],c=n[r];if(Af(c))break;const h=`${c}`,d=r<n.length-1?n[r+1]:null;if(i>0&&void 0===h)break;if(h&&d&&"object"==typeof d&&void 0===d.outlets){if(!oS(h,d,u))return s;r+=2}else{if(!oS(h,{},u))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Fn(e.segments.slice(0,r.pathIndex),{});return s.children[cn]=new Fn(e.segments.slice(r.pathIndex),e.children),Pf(s,0,i)}return r.match&&0===i.length?new Fn(e.segments,{}):r.match&&!e.hasChildren()?uv(e,t,n):r.match?Pf(e,0,i):uv(e,t,n)}function Pf(e,t,n){if(0===n.length)return new Fn(e.segments,{});{const r=function oV(e){return Af(e[0])?e[0].outlets:{[cn]:e}}(n),i={};return _o(r,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[u]=av(e.children[u],t,s))}),_o(e.children,(s,u)=>{void 0===r[u]&&(i[u]=s)}),new Fn(e.segments,i)}}function uv(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Af(s)){const h=aV(s.outlets);return new Fn(r,h)}if(0===i&&Nf(n[0])){r.push(new bf(e.segments[t].path,iS(n[0]))),i++;continue}const u=Af(s)?s.outlets[cn]:`${s}`,c=i<n.length-1?n[i+1]:null;u&&c&&Nf(c)?(r.push(new bf(u,iS(c))),i+=2):(r.push(new bf(u,{})),i++)}return new Fn(r,{})}function aV(e){const t={};return _o(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=uv(new Fn([],{}),0,n))}),t}function iS(e){const t={};return _o(e,(n,r)=>t[r]=`${n}`),t}function oS(e,t,n){return e==n.path&&Sa(t,n.parameters)}class su{constructor(t,n){this.id=t,this.url=n}}class lv extends su{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sl extends su{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ud extends su{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sS extends su{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uV extends su{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lV extends su{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cV extends su{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fV extends su{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hV extends su{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dV{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pV{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gV{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mV{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yV{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vV{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aS{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class uS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=cv(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=cv(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=fv(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return fv(t,this._root).map(n=>n.value)}}function cv(e,t){if(e===t.value)return t;for(const n of t.children){const r=cv(e,n);if(r)return r}return null}function fv(e,t){if(e===t.value)return[t];for(const n of t.children){const r=fv(e,n);if(r.length)return r.unshift(t),r}return[]}class au{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function sc(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class lS extends uS{constructor(t,n){super(t),this.snapshot=n,hv(this,t)}toString(){return this.snapshot.toString()}}function cS(e,t){const n=function EV(e,t){const u=new Gd([],{},{},"",{},cn,t,null,e.root,-1,{});return new hS("",new au(u,[]))}(e,t),r=new ra([new bf("",{})]),i=new ra({}),s=new ra({}),u=new ra({}),c=new ra(""),h=new al(r,i,u,c,s,cn,t,n.root);return h.snapshot=n.root,new lS(new au(h,[]),n)}class al{constructor(t,n,r,i,s,u,c,h){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=c,this.title=this.data?.pipe(Xe(d=>d[xf]))??jt(void 0),this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Xe(t=>rc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Xe(t=>rc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fS(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function wV(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gd{constructor(t,n,r,i,s,u,c,h,d,g,m,y){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=u,this.component=c,this.title=this.data?.[xf],this.routeConfig=h,this._urlSegment=d,this._lastPathIndex=g,this._correctedLastPathIndex=y??g,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=rc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=rc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hS extends uS{constructor(t,n){super(n),this.url=t,hv(this,n)}toString(){return dS(this._root)}}function hv(e,t){t.value._routerState=e,t.children.forEach(n=>hv(e,n))}function dS(e){const t=e.children.length>0?` { ${e.children.map(dS).join(", ")} } `:"";return`${e.value}${t}`}function dv(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Sa(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Sa(t.params,n.params)||e.params.next(n.params),function F3(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Sa(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Sa(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function pv(e,t){const n=Sa(e.params,t.params)&&function G3(e,t){return il(e,t)&&e.every((n,r)=>Sa(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||pv(e.parent,t.parent))}function Tf(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function DV(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Tf(e,r,i);return Tf(e,r)})}(e,t,n);return new au(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(c=>Tf(e,c)),u}}const r=function IV(e){return new al(new ra(e.url),new ra(e.params),new ra(e.queryParams),new ra(e.fragment),new ra(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Tf(e,s));return new au(r,i)}}const gv="ngNavigationCancelingError";function pS(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ol(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=gS(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function gS(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[gv]=!0,r.cancellationCode=t,n&&(r.url=n),r}function mS(e){return yS(e)&&ol(e.url)}function yS(e){return e&&e[gv]}class SV{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rf,this.attachRef=null}}let Rf=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new SV,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Hd=!1;let vS=(()=>{class e{constructor(n,r,i,s,u){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new di,this.deactivateEvents=new di,this.attachEvents=new di,this.detachEvents=new di,this.name=i||cn,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ye(4012,Hd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ye(4012,Hd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ye(4012,Hd);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Ye(4013,Hd);this._activatedRoute=n;const i=this.location,u=n._futureSnapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,h=new xV(n,c,i.injector);if(r&&function bV(e){return!!e.resolveComponentFactory}(r)){const d=r.resolveComponentFactory(u);this.activated=i.createComponent(d,i.length,h)}else this.activated=i.createComponent(u,{index:i.length,injector:h,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(et(Rf),et(Qs),function Fc(e){return function dA(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(M_(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(oe(),e)}("name"),et(hd),et(Mu))},e.\u0275dir=Lt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),e})();class xV{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===al?this.route:t===Rf?this.childContexts:this.parent.get(t,n)}}let mv=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=la({type:e,selectors:[["ng-component"]],standalone:!0,features:[xC],decls:1,vars:0,template:function(n,r){1&n&&$o(0,"router-outlet")},dependencies:[vS],encapsulation:2}),e})();function _S(e,t){return e.providers&&!e._injector&&(e._injector=rd(e.providers,t,`Route: ${e.path}`)),e._injector??t}function vv(e){const t=e.children&&e.children.map(vv),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==cn&&(n.component=mv),n}function Us(e){return e.outlet||cn}function ES(e,t){const n=e.filter(r=>Us(r)===t);return n.push(...e.filter(r=>Us(r)!==t)),n}function Of(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class TV{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),dv(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=sc(n);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,i[u],r),delete i[u]}),_o(i,(s,u)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(t,n,u.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=sc(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);if(r&&r.outlet){const u=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:c})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=sc(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=sc(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new vV(s.value.snapshot))}),t.children.length&&this.forwardEvent(new mV(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(dv(i),i===s)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,u.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(c.contexts),u.attachRef=c.componentRef,u.route=c.route.value,u.outlet&&u.outlet.attach(c.componentRef,c.route.value),dv(c.route.value),this.activateChildRoutes(t,null,u.children)}else{const c=Of(i.snapshot),h=c?.get(Qc)??null;u.attachRef=null,u.route=i,u.resolver=h,u.injector=c,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,r)}}class wS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jd{constructor(t,n){this.component=t,this.route=n}}function RV(e,t,n){const r=e._root;return Lf(r,t?t._root:null,n,[r.value])}function ac(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function Rr(e){return null!==Qi(e)}(e)?t.get(e):e:r}function Lf(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=sc(t);return e.children.forEach(u=>{(function LV(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,u=t?t.value:null,c=n?n.getContext(e.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const h=function FV(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!il(e.url,t.url);case"pathParamsOrQueryParamsChange":return!il(e.url,t.url)||!Sa(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pv(e,t)||!Sa(e.queryParams,t.queryParams);default:return!pv(e,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);h?i.canActivateChecks.push(new wS(r)):(s.data=u.data,s._resolvedData=u._resolvedData),Lf(e,t,s.component?c?c.children:null:n,r,i),h&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new jd(c.outlet.component,u))}else u&&Ff(t,c,i),i.canActivateChecks.push(new wS(r)),Lf(e,null,s.component?c?c.children:null:n,r,i)})(u,s[u.value.outlet],n,r.concat([u.value]),i),delete s[u.value.outlet]}),_o(s,(u,c)=>Ff(u,n.getContext(c),i)),i}function Ff(e,t,n){const r=sc(e),i=e.value;_o(r,(s,u)=>{Ff(s,i.component?t?t.children.getContext(u):null:t,n)}),n.canDeactivateChecks.push(new jd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function kf(e){return"function"==typeof e}function _v(e){return e instanceof Td||"EmptyError"===e?.name}const $d=Symbol("INITIAL_VALUE");function uc(){return Ia(e=>LI(e.map(t=>t.pipe(Sf(1),function N3(...e){const t=Uo(e);return st((n,r)=>{(t?Ky(e,n,t):Ky(e,n)).subscribe(r)})}($d)))).pipe(Xe(t=>{for(const n of t)if(!0!==n){if(n===$d)return $d;if(!1===n||n instanceof rl)return n}return!0}),ou(t=>t!==$d),Sf(1)))}function CS(e){return function W(...e){return me(e)}(Ro(t=>{if(ol(t))throw pS(0,t)}),Xe(t=>!0===t))}const Ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DS(e,t,n,r,i){const s=wv(e,t,n);return s.matched?function QV(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?jt(i.map(u=>{const c=ac(u,e);return Fu(function HV(e){return e&&kf(e.canMatch)}(c)?c.canMatch(t,n):e.runInContext(()=>c(t,n)))})).pipe(uc(),CS()):jt(!0)}(r=_S(t,r),t,n).pipe(Xe(u=>!0===u?s:{...Ev})):jt(s)}function wv(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Ev}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||L3)(n,e,t);if(!i)return{...Ev};const s={};_o(i.posParams,(c,h)=>{s[h]=c.path});const u=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function zd(e,t,n,r,i="corrected"){if(n.length>0&&function nU(e,t,n){return n.some(r=>qd(e,t,r)&&Us(r)!==cn)}(e,n,r)){const u=new Fn(t,function tU(e,t,n,r){const i={};i[cn]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Us(s)!==cn){const u=new Fn([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[Us(s)]=u}return i}(e,t,r,new Fn(n,e.children)));return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===n.length&&function rU(e,t,n){return n.some(r=>qd(e,t,r))}(e,n,r)){const u=new Fn(e.segments,function eU(e,t,n,r,i,s){const u={};for(const c of r)if(qd(e,n,c)&&!i[Us(c)]){const h=new Fn([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===s?e.segments.length:t.length,u[Us(c)]=h}return{...i,...u}}(e,t,n,r,e.children,i));return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:n}}const s=new Fn(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function qd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function IS(e,t,n,r){return!!(Us(e)===r||r!==cn&&qd(t,n,e))&&("**"===e.path||wv(t,e,n).matched)}function SS(e,t,n){return 0===t.length&&!e.children[n]}const Wd=!1;class Yd{constructor(t){this.segmentGroup=t||null}}class xS{constructor(t){this.urlTree=t}}function Bf(e){return If(new Yd(e))}function bS(e){return If(new xS(e))}class aU{constructor(t,n,r,i,s){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const t=zd(this.urlTree.root,[],[],this.config).segmentGroup,n=new Fn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,cn).pipe(Xe(s=>this.createUrlTree(Vd(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lu(s=>{if(s instanceof xS)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Yd?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,cn).pipe(Xe(i=>this.createUrlTree(Vd(i),t.queryParams,t.fragment))).pipe(Lu(i=>{throw i instanceof Yd?this.noMatchError(i):i}))}noMatchError(t){return new Ye(4002,Wd)}createUrlTree(t,n,r){const i=ov(t);return new rl(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(Xe(s=>new Fn([],s))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ce(i).pipe(Ou(s=>{const u=r.children[s],c=ES(n,s);return this.expandSegmentGroup(t,c,u,s).pipe(Xe(h=>({segment:h,outlet:s})))}),UI((s,u)=>(s[u.outlet]=u.segment,s),{}),GI())}expandSegment(t,n,r,i,s,u){return ce(r).pipe(Ou(c=>this.expandSegmentAgainstRoute(t,n,r,c,i,s,u).pipe(Lu(d=>{if(d instanceof Yd)return jt(null);throw d}))),Ru(c=>!!c),Lu((c,h)=>{if(_v(c))return SS(n,i,s)?jt(new Fn([],{})):Bf(n);throw c}))}expandSegmentAgainstRoute(t,n,r,i,s,u,c){return IS(i,n,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,s,u):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u):Bf(n):Bf(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bS(s):this.lineralizeSegments(r,s).pipe(Zn(u=>{const c=new Fn(u,{});return this.expandSegment(t,c,n,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,u){const{matched:c,consumedSegments:h,remainingSegments:d,positionalParamSegments:g}=wv(n,i,s);if(!c)return Bf(n);const m=this.applyRedirectCommands(h,i.redirectTo,g);return i.redirectTo.startsWith("/")?bS(m):this.lineralizeSegments(i,m).pipe(Zn(y=>this.expandSegment(t,n,r,y.concat(d),u,!1)))}matchSegmentAgainstRoute(t,n,r,i,s){return"**"===r.path?(t=_S(r,t),r.loadChildren?(r._loadedRoutes?jt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(Xe(c=>(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,new Fn(i,{})))):jt(new Fn(i,{}))):DS(n,r,i,t).pipe(Ia(({matched:u,consumedSegments:c,remainingSegments:h})=>u?this.getChildConfig(t=r._injector??t,r,i).pipe(Zn(g=>{const m=g.injector??t,y=g.routes,{segmentGroup:_,slicedSegments:w}=zd(n,c,h,y),D=new Fn(_.segments,_.children);if(0===w.length&&D.hasChildren())return this.expandChildren(m,y,D).pipe(Xe(b=>new Fn(c,b)));if(0===y.length&&0===w.length)return jt(new Fn(c,{}));const U=Us(r)===s;return this.expandSegment(m,D,y,w,U?cn:s,!0).pipe(Xe(x=>new Fn(c.concat(x.segments),x.children)))})):Bf(n)))}getChildConfig(t,n,r){return n.children?jt({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?jt({routes:n._loadedRoutes,injector:n._loadedInjector}):function KV(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?jt(!0):jt(i.map(u=>{const c=ac(u,e);return Fu(function BV(e){return e&&kf(e.canLoad)}(c)?c.canLoad(t,n):e.runInContext(()=>c(t,n)))})).pipe(uc(),CS())}(t,n,r).pipe(Zn(i=>i?this.configLoader.loadChildren(t,n).pipe(Ro(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function oU(e){return If(gS(Wd,3))}())):jt({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return jt(r);if(i.numberOfChildren>1||!i.children[cn])return If(new Ye(4e3,Wd));i=i.children[cn]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new rl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return _o(t,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const c=i.substring(1);r[s]=n[c]}else r[s]=i}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let u={};return _o(n.children,(c,h)=>{u[h]=this.createSegmentGroup(t,c,r,i)}),new Fn(s,u)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Ye(4001,Wd);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class lU{}class hU{constructor(t,n,r,i,s,u,c,h){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c,this.urlSerializer=h}recognize(){const t=zd(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,cn).pipe(Xe(n=>{if(null===n)return null;const r=new Gd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new au(r,n),s=new hS(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const n=t.value,r=fS(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return ce(Object.keys(r.children)).pipe(Ou(i=>{const s=r.children[i],u=ES(n,i);return this.processSegmentGroup(t,u,s,i)}),UI((i,s)=>i&&s?(i.push(...s),i):null),function T3(e,t=!1){return st((n,r)=>{let i=0;n.subscribe(at(r,s=>{const u=e(s,i++);(u||t)&&r.next(s),!u&&r.complete()}))})}(i=>null!==i),Rd(null),GI(),Xe(i=>{if(null===i)return null;const s=MS(i);return function dU(e){e.sort((t,n)=>t.value.outlet===cn?-1:n.value.outlet===cn?1:t.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(t,n,r,i,s){return ce(n).pipe(Ou(u=>this.processSegmentAgainstRoute(u._injector??t,u,r,i,s)),Ru(u=>!!u),Lu(u=>{if(_v(u))return SS(r,i,s)?jt([]):jt(null);throw u}))}processSegmentAgainstRoute(t,n,r,i,s){if(n.redirectTo||!IS(n,r,i,s))return jt(null);let u;if("**"===n.path){const c=i.length>0?$I(i).parameters:{},h=AS(r)+i.length;u=jt({snapshot:new Gd(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TS(n),Us(n),n.component??n._loadedComponent??null,n,NS(r),h,RS(n),h),consumedSegments:[],remainingSegments:[]})}else u=DS(r,n,i,t).pipe(Xe(({matched:c,consumedSegments:h,remainingSegments:d,parameters:g})=>{if(!c)return null;const m=AS(r)+h.length;return{snapshot:new Gd(h,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,TS(n),Us(n),n.component??n._loadedComponent??null,n,NS(r),m,RS(n),m),consumedSegments:h,remainingSegments:d}}));return u.pipe(Ia(c=>{if(null===c)return jt(null);const{snapshot:h,consumedSegments:d,remainingSegments:g}=c;t=n._injector??t;const m=n._loadedInjector??t,y=function pU(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:_,slicedSegments:w}=zd(r,d,g,y.filter(U=>void 0===U.redirectTo),this.relativeLinkResolution);if(0===w.length&&_.hasChildren())return this.processChildren(m,y,_).pipe(Xe(U=>null===U?null:[new au(h,U)]));if(0===y.length&&0===w.length)return jt([new au(h,[])]);const D=Us(n)===s;return this.processSegment(m,y,_,w,D?cn:s).pipe(Xe(U=>null===U?null:[new au(h,U)]))}))}}function gU(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function MS(e){const t=[],n=new Set;for(const r of e){if(!gU(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=MS(r.children);t.push(new au(r.value,i))}return t.filter(r=>!n.has(r))}function NS(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function AS(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function TS(e){return e.data||{}}function RS(e){return e.resolve||{}}function OS(e){return"string"==typeof e.title||null===e.title}function Cv(e){return Ia(t=>{const n=e(t);return n?ce(n).pipe(Xe(()=>t)):jt(t)})}let LS=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===cn);return r}getResolvedTitleForRoute(n){return n.data[xf]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:function(){return wi(FS)},providedIn:"root"}),e})(),FS=(()=>{class e extends LS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(Nt(NI))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class DU{}class SU extends class IU{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const Zd=new Ft("",{providedIn:"root",factory:()=>({})}),Dv=new Ft("ROUTES");let Iv=(()=>{class e{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return jt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Fu(n.loadComponent()).pipe(Ro(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),tv(()=>{this.componentLoaders.delete(n)})),i=new BI(r,()=>new Oe).pipe(Qy());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return jt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Xe(c=>{this.onLoadEndListener&&this.onLoadEndListener(r);let h,d,g=!1;Array.isArray(c)?d=c:(h=c.create(n).injector,d=jI(h.get(Dv,[],_t.Self|_t.Optional)));return{routes:d.map(vv),injector:h}}),tv(()=>{this.childrenLoaders.delete(r)})),u=new BI(s,()=>new Oe).pipe(Qy());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(n){return Fu(n()).pipe(Zn(r=>r instanceof IC||Array.isArray(r)?jt(r):ce(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)(Nt(Ds),Nt(py))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class bU{}class MU{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function NU(e){throw e}function AU(e,t,n){return t.parse("/")}const PU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function BS(){const e=wi(ZI),t=wi(Rf),n=wi(Ny),r=wi(Ds),i=wi(py),s=wi(Dv,{optional:!0})??[],u=wi(Zd,{optional:!0})??{},c=wi(FS),h=wi(LS,{optional:!0}),d=wi(bU,{optional:!0}),g=wi(DU,{optional:!0}),m=new Eo(null,e,t,n,r,i,jI(s));return d&&(m.urlHandlingStrategy=d),g&&(m.routeReuseStrategy=g),m.titleStrategy=h??c,function RU(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(u,m),m}let Eo=(()=>{class e{constructor(n,r,i,s,u,c,h){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Oe,this.errorHandler=NU,this.malformedUriErrorHandler=AU,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>jt(void 0),this.urlHandlingStrategy=new MU,this.routeReuseStrategy=new SU,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Iv),this.configLoader.onLoadEndListener=y=>this.triggerEvent(new pV(y)),this.configLoader.onLoadStartListener=y=>this.triggerEvent(new dV(y)),this.ngModule=u.get(el),this.console=u.get(r2);const m=u.get(qi);this.isNgZoneEnabled=m instanceof qi&&qi.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function k3(){return new rl(new Fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cS(this.currentUrlTree,this.rootComponentType),this.transitions=new ra({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ou(i=>0!==i.id),Xe(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ia(i=>{let s=!1,u=!1;return jt(i).pipe(Ro(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ia(c=>{const h=this.browserUrlTree.toString(),d=!this.navigated||c.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||d)&&this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return VS(c.source)&&(this.browserUrlTree=c.extractedUrl),jt(c).pipe(Ia(m=>{const y=this.transitions.getValue();return r.next(new lv(m.id,this.serializeUrl(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions.getValue()?Un:Promise.resolve(m)}),function uU(e,t,n,r){return Ia(i=>function sU(e,t,n,r,i){return new aU(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(Xe(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ro(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},i.urlAfterRedirects=m.urlAfterRedirects}),function yU(e,t,n,r,i,s){return Zn(u=>function fU(e,t,n,r,i,s,u="emptyOnly",c="legacy"){return new hU(e,t,n,r,i,u,c,s).recognize().pipe(Ia(h=>null===h?function cU(e){return new q(t=>t.error(e))}(new lU):jt(h)))}(e,t,n,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,s).pipe(Xe(c=>({...u,targetSnapshot:c}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Ro(m=>{if(i.targetSnapshot=m.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!m.extras.skipLocationChange){const _=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);this.setBrowserUrl(_,m)}this.browserUrlTree=m.urlAfterRedirects}const y=new uV(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);r.next(y)}));if(d&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:y,extractedUrl:_,source:w,restoredState:D,extras:U}=c,M=new lv(y,this.serializeUrl(_),w,D);r.next(M);const x=cS(_,this.rootComponentType).snapshot;return jt(i={...c,targetSnapshot:x,urlAfterRedirects:_,extras:{...U,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=c.rawUrl,c.resolve(null),Un}),Ro(c=>{const h=new lV(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(h)}),Xe(c=>i={...c,guards:RV(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function $V(e,t){return Zn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:u}}=n;return 0===u.length&&0===s.length?jt({...n,guardsResult:!0}):function zV(e,t,n,r){return ce(e).pipe(Zn(i=>function JV(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?jt(s.map(c=>{const h=Of(t)??i,d=ac(c,h);return Fu(function GV(e){return e&&kf(e.canDeactivate)}(d)?d.canDeactivate(e,t,n,r):h.runInContext(()=>d(e,t,n,r))).pipe(Ru())})).pipe(uc()):jt(!0)}(i.component,i.route,n,t,r)),Ru(i=>!0!==i,!0))}(u,r,i,e).pipe(Zn(c=>c&&function kV(e){return"boolean"==typeof e}(c)?function qV(e,t,n,r){return ce(t).pipe(Ou(i=>Ky(function YV(e,t){return null!==e&&t&&t(new gV(e)),jt(!0)}(i.route.parent,r),function WV(e,t){return null!==e&&t&&t(new yV(e)),jt(!0)}(i.route,r),function ZV(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function OV(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(u)).filter(u=>null!==u).map(u=>kI(()=>jt(u.guards.map(h=>{const d=Of(u.node)??n,g=ac(h,d);return Fu(function UV(e){return e&&kf(e.canActivateChild)}(g)?g.canActivateChild(r,e):d.runInContext(()=>g(r,e))).pipe(Ru())})).pipe(uc())));return jt(s).pipe(uc())}(e,i.path,n),function XV(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return jt(!0);const i=r.map(s=>kI(()=>{const u=Of(t)??n,c=ac(s,u);return Fu(function VV(e){return e&&kf(e.canActivate)}(c)?c.canActivate(t,e):u.runInContext(()=>c(t,e))).pipe(Ru())}));return jt(i).pipe(uc())}(e,i.route,n))),Ru(i=>!0!==i,!0))}(r,s,e,t):jt(c)),Xe(c=>({...n,guardsResult:c})))})}(this.ngModule.injector,c=>this.triggerEvent(c)),Ro(c=>{if(i.guardsResult=c.guardsResult,ol(c.guardsResult))throw pS(0,c.guardsResult);const h=new cV(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.triggerEvent(h)}),ou(c=>!!c.guardsResult||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Cv(c=>{if(c.guards.canActivateChecks.length)return jt(c).pipe(Ro(h=>{const d=new fV(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(d)}),Ia(h=>{let d=!1;return jt(h).pipe(function vU(e,t){return Zn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return jt(n);let s=0;return ce(i).pipe(Ou(u=>function _U(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!OS(i)&&(s[xf]=i.title),function EU(e,t,n,r){const i=function wU(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return jt({});const s={};return ce(i).pipe(Zn(u=>function CU(e,t,n,r){const i=Of(t)??r,s=ac(e,i);return Fu(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[u],t,n,r).pipe(Ru(),Ro(c=>{s[u]=c}))),ev(1),function R3(e){return Xe(()=>e)}(s),Lu(u=>_v(u)?Un:If(u)))}(s,e,t,r).pipe(Xe(u=>(e._resolvedData=u,e.data=fS(e,n).resolve,i&&OS(i)&&(e.data[xf]=i.title),null)))}(u.route,r,e,t)),Ro(()=>s++),ev(1),Zn(u=>s===i.length?jt(n):Un))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ro({next:()=>d=!0,complete:()=>{d||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),Ro(h=>{const d=new hV(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(d)}))}),Cv(c=>{const h=d=>{const g=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ro(m=>{d.component=m}),Xe(()=>{})));for(const m of d.children)g.push(...h(m));return g};return LI(h(c.targetSnapshot.root)).pipe(Rd(),Sf(1))}),Cv(()=>this.afterPreactivation()),Xe(c=>{const h=function CV(e,t,n){const r=Tf(e,t._root,n?n._root:void 0);return new lS(r,t)}(this.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:h}}),Ro(c=>{this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects)}),((e,t,n)=>Xe(r=>(new TV(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,c=>this.triggerEvent(c)),Ro({next(){s=!0},complete(){s=!0}}),tv(()=>{s||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Lu(c=>{if(u=!0,yS(c)){mS(c)||(this.navigated=!0,this.restoreHistory(i,!0));const h=new Ud(i.id,this.serializeUrl(i.extractedUrl),c.message,c.cancellationCode);if(r.next(h),mS(c)){const d=this.urlHandlingStrategy.merge(c.url,this.rawUrlTree),g={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||VS(i.source)};this.scheduleNavigation(d,"imperative",null,g,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const h=new sS(i.id,this.serializeUrl(i.extractedUrl),c,i.targetSnapshot??void 0);r.next(h);try{i.resolve(this.errorHandler(c))}catch(d){i.reject(d)}}return Un}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const u=this.parseUrl(n.url);this.scheduleNavigation(u,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(vv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:u,queryParamsHandling:c,preserveFragment:h}=r,d=i||this.routerState.root,g=h?this.currentUrlTree.fragment:u;let m=null;switch(c){case"merge":m={...this.currentUrlTree.queryParams,...s};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}return null!==m&&(m=this.removeEmptyProps(m)),nV(d,this.currentUrlTree,n,m,g??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ol(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function OU(e){for(let t=0;t<e.length;t++){if(null==e[t])throw new Ye(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...PU}:!1===r?{...TU}:r,ol(n))return qI(this.currentUrlTree,n,i);const s=this.parseUrl(n);return qI(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new sl(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,u){if(this.disposed)return Promise.resolve(!1);let c,h,d;u?(c=u.resolve,h=u.reject,d=u.promise):d=new Promise((y,_)=>{c=y,h=_});const g=++this.navigationId;let m;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),m=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):m=0,this.setTransition({id:g,targetPageId:m,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:c,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(y=>Promise.reject(y))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new Ud(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){hm()},e.\u0275prov=Ot({token:e,factory:function(){return BS()},providedIn:"root"}),e})();function VS(e){return"imperative"!==e}class US{}let kU=(()=>{class e{constructor(n,r,i,s,u){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ou(n=>n instanceof sl),Ou(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=rd(s.providers,n,`Route: ${s.path}`));const u=s._injector??n,c=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ce(i).pipe(Ps())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):jt(null);const s=i.pipe(Zn(u=>null===u?jt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??n,u.routes))));return r.loadComponent&&!r._loadedComponent?ce([s,this.loader.loadComponent(r)]).pipe(Ps()):s})}}return e.\u0275fac=function(n){return new(n||e)(Nt(Eo),Nt(py),Nt(Mu),Nt(US),Nt(Iv))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bv=new Ft("");let GS=(()=>{class e{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof lv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof sl&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof aS&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new aS(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){hm()},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();function lc(e,t){return{\u0275kind:e,\u0275providers:t}}function Mv(e){return[{provide:Dv,multi:!0,useValue:e}]}function jS(){const e=wi(Ds);return t=>{const n=e.get(cd);if(t!==n.components[0])return;const r=e.get(Eo),i=e.get($S);1===e.get(Nv)&&r.initialNavigation(),e.get(zS,null,_t.Optional)?.setUpPreloading(),e.get(bv,null,_t.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const $S=new Ft("",{factory:()=>new Oe}),Nv=new Ft("",{providedIn:"root",factory:()=>1});const zS=new Ft("");function GU(e){return lc(0,[{provide:zS,useExisting:kU},{provide:US,useExisting:e}])}const qS=new Ft("ROUTER_FORROOT_GUARD"),HU=[Ny,{provide:ZI,useClass:rv},{provide:Eo,useFactory:BS},Rf,{provide:al,useFactory:function HS(e){return e.routerState.root},deps:[Eo]},Iv];function jU(){return new _D("Router",Eo)}let WS=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[HU,[],Mv(n),{provide:qS,useFactory:WU,deps:[[Eo,new jc,new $c]]},{provide:Zd,useValue:r||{}},r?.useHash?{provide:nl,useClass:z2}:{provide:nl,useClass:$D},{provide:bv,useFactory:()=>{const e=wi(Eo),t=wi(dB),n=wi(Zd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new GS(e,t,n)}},r?.preloadingStrategy?GU(r.preloadingStrategy).\u0275providers:[],{provide:_D,multi:!0,useFactory:jU},r?.initialNavigation?YU(r):[],[{provide:YS,useFactory:jS},{provide:hD,multi:!0,useExisting:YS}]]}}static forChild(n){return{ngModule:e,providers:[Mv(n)]}}}return e.\u0275fac=function(n){return new(n||e)(Nt(qS,8))},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({imports:[mv]}),e})();function WU(e){return"guarded"}function YU(e){return["disabled"===e.initialNavigation?lc(3,[{provide:ad,multi:!0,useFactory:()=>{const t=wi(Eo);return()=>{t.setUpLocationChangeListener()}}},{provide:Nv,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?lc(2,[{provide:Nv,useValue:0},{provide:ad,multi:!0,deps:[Ds],useFactory:t=>{const n=t.get(j2,Promise.resolve());let r=!1;return()=>n.then(()=>new Promise(s=>{const u=t.get(Eo),c=t.get($S);(function i(s){t.get(Eo).events.pipe(ou(c=>c instanceof sl||c instanceof Ud||c instanceof sS),Xe(c=>c instanceof sl||c instanceof Ud&&(0===c.code||1===c.code)&&null),ou(c=>null!==c),Sf(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),u.afterPreactivation=()=>(s(!0),r||c.closed?jt(void 0):c),u.initialNavigation()}))}}]).\u0275providers:[]]}const YS=new Ft(""),ZU=[];let JU=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({imports:[WS.forRoot(ZU),WS]}),e})();var Yo=6371008.8,XS={centimeters:100*Yo,centimetres:100*Yo,degrees:Yo/111325,feet:3.28084*Yo,inches:39.37*Yo,kilometers:Yo/1e3,kilometres:Yo/1e3,meters:Yo,metres:Yo,miles:Yo/1609.344,millimeters:1e3*Yo,millimetres:1e3*Yo,nauticalmiles:Yo/1852,radians:1,yards:1.0936*Yo};function uu(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function ul(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ov(e[0])||!Ov(e[1]))throw new Error("coordinates must contain numbers");return uu({type:"Point",coordinates:e},t,n)}function ia(e,t,n){void 0===n&&(n={});for(var r=0,i=e;r<i.length;r++){var s=i[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var u=0;u<s[s.length-1].length;u++)if(s[s.length-1][u]!==s[0][u])throw new Error("First and last Position are not equivalent.")}return uu({type:"Polygon",coordinates:e},t,n)}function Rv(e){return e%(2*Math.PI)*180/Math.PI}function ll(e){return e%360*Math.PI/180}function Ov(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function Vf(e,t,n){if(null!==e)for(var r,i,s,u,c,h,d,y,g=0,m=0,_=e.type,w="FeatureCollection"===_,D="Feature"===_,U=w?e.features.length:1,M=0;M<U;M++){c=(y=!!(d=w?e.features[M].geometry:D?e.geometry:e)&&"GeometryCollection"===d.type)?d.geometries.length:1;for(var x=0;x<c;x++){var b=0,re=0;if(null!==(u=y?d.geometries[x]:d)){h=u.coordinates;var ae=u.type;switch(g=!n||"Polygon"!==ae&&"MultiPolygon"!==ae?0:1,ae){case null:break;case"Point":if(!1===t(h,m,M,b,re))return!1;m++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<h.length;r++){if(!1===t(h[r],m,M,b,re))return!1;m++,"MultiPoint"===ae&&b++}"LineString"===ae&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<h.length;r++){for(i=0;i<h[r].length-g;i++){if(!1===t(h[r][i],m,M,b,re))return!1;m++}"MultiLineString"===ae&&b++,"Polygon"===ae&&re++}"Polygon"===ae&&b++;break;case"MultiPolygon":for(r=0;r<h.length;r++){for(re=0,i=0;i<h[r].length;i++){for(s=0;s<h[r][i].length-g;s++){if(!1===t(h[r][i][s],m,M,b,re))return!1;m++}re++}b++}break;case"GeometryCollection":for(r=0;r<u.geometries.length;r++)if(!1===Vf(u.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ep(e,t){!function QS(e,t){var n,r,i,s,u,c,h,d,g,m,y=0,_="FeatureCollection"===e.type,w="Feature"===e.type,D=_?e.features.length:1;for(n=0;n<D;n++){for(d=_?e.features[n].properties:w?e.properties:{},g=_?e.features[n].bbox:w?e.bbox:void 0,m=_?e.features[n].id:w?e.id:void 0,u=(h=!!(c=_?e.features[n].geometry:w?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1,i=0;i<u;i++)if(null!==(s=h?c.geometries[i]:c))switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(s,y,d,g,m))return!1;break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===t(s.geometries[r],y,d,g,m))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,y,d,g,m))return!1;y++}}(e,function(n,r,i,s,u){var h,c=null===n?null:n.type;switch(c){case null:case"Point":case"LineString":case"Polygon":return!1!==t(uu(n,i,{bbox:s,id:u}),r,0)&&void 0}switch(c){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var d=0;d<n.coordinates.length;d++)if(!1===t(uu({type:h,coordinates:n.coordinates[d]},i),r,d))return!1})}function Lv(e){var t=[1/0,1/0,-1/0,-1/0];return Vf(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}Lv.default=Lv;const oG=Lv;function tp(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ku(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r=tp(e),i=function uG(e){return"Feature"===e.type?e.geometry:e}(t),s=i.type,u=t.bbox,c=i.coordinates;if(u&&!1===function vG(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(r,u))return!1;"Polygon"===s&&(c=[c]);for(var h=!1,d=0;d<c.length&&!h;d++)if(rx(r,c[d][0],n.ignoreBoundary)){for(var g=!1,m=1;m<c[d].length&&!g;)rx(r,c[d][m],!n.ignoreBoundary)&&(g=!0),m++;g||(h=!0)}return h}function rx(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,s=t.length-1;i<t.length;s=i++){var u=t[i][0],c=t[i][1],h=t[s][0],d=t[s][1];if(e[1]*(u-h)+c*(h-e[0])+d*(e[0]-u)==0&&(u-e[0])*(h-e[0])<=0&&(c-e[1])*(d-e[1])<=0)return!n;c>e[1]!=d>e[1]&&e[0]<(h-u)*(e[1]-c)/(d-c)+u&&(r=!r)}return r}ee(5943),ee(1335);const EG=function _G(e,t,n){void 0===n&&(n={});var r=tp(e),i=tp(t),s=ll(i[1]-r[1]),u=ll(i[0]-r[0]),c=ll(r[1]),h=ll(i[1]),d=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(h);return function KS(e,t){void 0===t&&(t="kilometers");var n=XS[t];if(!n)throw new Error(t+" units is invalid");return e*n}(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),n.units)};var ox=new ArrayBuffer(16);new Float64Array(ox),new Uint32Array(ox),ee(3544),function(){function e(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var n=0;n<this.length;n++)this.points[n].z=this.points[n].z||0;for(n=0;n<this.length-1;n++){var r=this.points[n],i=this.points[n+1];this.centers.push({x:(r.x+i.x)/2,y:(r.y+i.y)/2,z:(r.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),n=0;n<this.centers.length-1;n++){var s=this.points[n+1].x-(this.centers[n].x+this.centers[n+1].x)/2,u=this.points[n+1].y-(this.centers[n].y+this.centers[n+1].y)/2,c=this.points[n+1].z-(this.centers[n].y+this.centers[n+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n].x+s),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n].y+u),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n].z+c)},{x:(1-this.sharpness)*this.points[n+1].x+this.sharpness*(this.centers[n+1].x+s),y:(1-this.sharpness)*this.points[n+1].y+this.sharpness*(this.centers[n+1].y+u),z:(1-this.sharpness)*this.points[n+1].z+this.sharpness*(this.centers[n+1].z+c)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}e.prototype.cacheSteps=function(t){var n=[],r=this.pos(0);n.push(0);for(var i=0;i<this.duration;i+=10){var s=this.pos(i);Math.sqrt((s.x-r.x)*(s.x-r.x)+(s.y-r.y)*(s.y-r.y)+(s.z-r.z)*(s.z-r.z))>t&&(n.push(i),r=s)}return n},e.prototype.vector=function(t){var n=this.pos(t+10),r=this.pos(t-10);return{angle:180*Math.atan2(n.y-r.y,n.x-r.x)/3.14,speed:Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))}},e.prototype.pos=function(t){var n=t-this.delay;n<0&&(n=0),n>this.duration&&(n=this.duration-1);var r=n/this.duration;if(r>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*r);return function FG(e,t,n,r,i){var s=function kG(e){var t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}(e);return{x:i.x*s[0]+r.x*s[1]+n.x*s[2]+t.x*s[3],y:i.y*s[0]+r.y*s[1]+n.y*s[2]+t.y*s[3],z:i.z*s[0]+r.z*s[1]+n.z*s[2]+t.z*s[3]}}((this.length-1)*r-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])}}();function HG(e,t,n,r){void 0===r&&(r={});var i=tp(e),s=ll(i[0]),u=ll(i[1]),c=ll(n),h=function Tv(e,t){void 0===t&&(t="kilometers");var n=XS[t];if(!n)throw new Error(t+" units is invalid");return e/n}(t,r.units),d=Math.asin(Math.sin(u)*Math.cos(h)+Math.cos(u)*Math.sin(h)*Math.cos(c));return ul([Rv(s+Math.atan2(Math.sin(c)*Math.sin(h)*Math.cos(u),Math.cos(h)-Math.sin(u)*Math.sin(d))),Rv(d)],r.properties)}ee(5469),ee(5406);var Cx=Math.PI/180,Dx=180/Math.PI,Hf=function(e,t){this.lon=e,this.lat=t,this.x=Cx*e,this.y=Cx*t};Hf.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Hf.prototype.antipode=function(){return new Hf(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var Ix=function(){this.coords=[],this.length=0};Ix.prototype.move_to=function(e){this.length++,this.coords.push(e)};var jv=function(e){this.properties=e||{},this.geometries=[]};jv.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},jv.prototype.wkt=function(){for(var e="",t="LINESTRING(",n=function(s){t+=s[0]+" "+s[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),e+=t.substring(0,t.length-1)+")"}return e};var $v=function(e,t,n){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Hf(e.x,e.y),this.end=new Hf(t.x,t.y),this.properties=n||{};var r=this.start.x-this.end.x,s=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(s)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};$v.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),n=Math.sin(e*this.g)/Math.sin(this.g),r=t*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=t*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),s=t*Math.sin(this.start.y)+n*Math.sin(this.end.y),u=Dx*Math.atan2(s,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[Dx*Math.atan2(i,r),u]},$v.prototype.Arc=function(e,t){var n=[];if(!e||e<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),i=0;i<e;++i){var u=this.interpolate(r*i);n.push(u)}for(var c=!1,h=0,d=t&&t.offset?t.offset:10,g=180-d,m=-180+d,y=360-d,_=1;_<n.length;++_){var w=n[_-1][0],D=n[_][0],U=Math.abs(D-w);U>y&&(D>g&&w<m||w>g&&D<m)?c=!0:U>h&&(h=U)}var M=[];if(c&&h<d){var x=[];M.push(x);for(var b=0;b<n.length;++b){var re=parseFloat(n[b][0]);if(b>0&&Math.abs(re-n[b-1][0])>y){var ae=parseFloat(n[b-1][0]),Ce=parseFloat(n[b-1][1]),le=parseFloat(n[b][0]),_e=parseFloat(n[b][1]);if(ae>-180&&ae<m&&180===le&&b+1<n.length&&n[b-1][0]>-180&&n[b-1][0]<m){x.push([-180,n[b][1]]),b++,x.push([n[b][0],n[b][1]]);continue}if(ae>g&&ae<180&&-180===le&&b+1<n.length&&n[b-1][0]>g&&n[b-1][0]<180){x.push([180,n[b][1]]),b++,x.push([n[b][0],n[b][1]]);continue}if(ae<m&&le>g){var ie=ae;ae=le,le=ie;var bt=Ce;Ce=_e,_e=bt}if(ae>g&&le<m&&(le+=360),ae<=180&&le>=180&&ae<le){var ct=(180-ae)/(le-ae),Bt=ct*_e+(1-ct)*Ce;x.push([n[b-1][0]>g?180:-180,Bt]),(x=[]).push([n[b-1][0]>g?-180:180,Bt]),M.push(x)}else M.push(x=[]);x.push([re,n[b][1]])}else x.push([n[b][0],n[b][1]])}}else{var Xt=[];M.push(Xt);for(var rt=0;rt<n.length;++rt)Xt.push([n[rt][0],n[rt][1]])}for(var St=new jv(this.properties),vt=0;vt<M.length;++vt){var Kn=new Ix;St.geometries.push(Kn);for(var Yn=M[vt],nn=0;nn<Yn.length;++nn)Kn.move_to(Yn[nn])}return St},ee(6952);var fn=[],hn=[],dn=[],pn=[],gn=[],mn=[],yn=[],vn=[],_n=[],En=[],wn=[],Cn=[],Dn=[],In=[],Sn=[],xn=[],bn=[],Mn=[],Nn=[],An=[],Pn=[],Tn=[],Rn=[],On=[];yn[85]=En[85]=-1,vn[85]=wn[85]=0,_n[85]=Cn[85]=1,Nn[85]=Tn[85]=1,An[85]=Rn[85]=0,Pn[85]=On[85]=1,fn[85]=pn[85]=0,hn[85]=gn[85]=-1,dn[85]=Sn[85]=0,xn[85]=Dn[85]=0,bn[85]=In[85]=1,mn[85]=Mn[85]=1,Tn[1]=Tn[169]=0,Rn[1]=Rn[169]=-1,On[1]=On[169]=0,Dn[1]=Dn[169]=-1,In[1]=In[169]=0,Sn[1]=Sn[169]=0,En[4]=En[166]=0,wn[4]=wn[166]=-1,Cn[4]=Cn[166]=1,xn[4]=xn[166]=1,bn[4]=bn[166]=0,Mn[4]=Mn[166]=0,yn[16]=yn[154]=0,vn[16]=vn[154]=1,_n[16]=_n[154]=1,pn[16]=pn[154]=1,gn[16]=gn[154]=0,mn[16]=mn[154]=1,Nn[64]=Nn[106]=0,An[64]=An[106]=1,Pn[64]=Pn[106]=0,fn[64]=fn[106]=-1,hn[64]=hn[106]=0,dn[64]=dn[106]=1,Nn[2]=Nn[168]=0,An[2]=An[168]=-1,Pn[2]=Pn[168]=1,Tn[2]=Tn[168]=0,Rn[2]=Rn[168]=-1,On[2]=On[168]=0,Dn[2]=Dn[168]=-1,In[2]=In[168]=0,Sn[2]=Sn[168]=0,xn[2]=xn[168]=-1,bn[2]=bn[168]=0,Mn[2]=Mn[168]=1,yn[8]=yn[162]=0,vn[8]=vn[162]=-1,_n[8]=_n[162]=0,En[8]=En[162]=0,wn[8]=wn[162]=-1,Cn[8]=Cn[162]=1,Dn[8]=Dn[162]=1,In[8]=In[162]=0,Sn[8]=Sn[162]=1,xn[8]=xn[162]=1,bn[8]=bn[162]=0,Mn[8]=Mn[162]=0,yn[32]=yn[138]=0,vn[32]=vn[138]=1,_n[32]=_n[138]=1,En[32]=En[138]=0,wn[32]=wn[138]=1,Cn[32]=Cn[138]=0,fn[32]=fn[138]=1,hn[32]=hn[138]=0,dn[32]=dn[138]=0,pn[32]=pn[138]=1,gn[32]=gn[138]=0,mn[32]=mn[138]=1,Tn[128]=Tn[42]=0,Rn[128]=Rn[42]=1,On[128]=On[42]=1,Nn[128]=Nn[42]=0,An[128]=An[42]=1,Pn[128]=Pn[42]=0,fn[128]=fn[42]=-1,hn[128]=hn[42]=0,dn[128]=dn[42]=1,pn[128]=pn[42]=-1,gn[128]=gn[42]=0,mn[128]=mn[42]=0,En[5]=En[165]=-1,wn[5]=wn[165]=0,Cn[5]=Cn[165]=0,Tn[5]=Tn[165]=1,Rn[5]=Rn[165]=0,On[5]=On[165]=0,xn[20]=xn[150]=0,bn[20]=bn[150]=1,Mn[20]=Mn[150]=1,pn[20]=pn[150]=0,gn[20]=gn[150]=-1,mn[20]=mn[150]=1,yn[80]=yn[90]=-1,vn[80]=vn[90]=0,_n[80]=_n[90]=1,Nn[80]=Nn[90]=1,An[80]=An[90]=0,Pn[80]=Pn[90]=1,Dn[65]=Dn[105]=0,In[65]=In[105]=1,Sn[65]=Sn[105]=0,fn[65]=fn[105]=0,hn[65]=hn[105]=-1,dn[65]=dn[105]=0,yn[160]=yn[10]=-1,vn[160]=vn[10]=0,_n[160]=_n[10]=1,En[160]=En[10]=-1,wn[160]=wn[10]=0,Cn[160]=Cn[10]=0,Tn[160]=Tn[10]=1,Rn[160]=Rn[10]=0,On[160]=On[10]=0,Nn[160]=Nn[10]=1,An[160]=An[10]=0,Pn[160]=Pn[10]=1,xn[130]=xn[40]=0,bn[130]=bn[40]=1,Mn[130]=Mn[40]=1,Dn[130]=Dn[40]=0,In[130]=In[40]=1,Sn[130]=Sn[40]=0,fn[130]=fn[40]=0,hn[130]=hn[40]=-1,dn[130]=dn[40]=0,pn[130]=pn[40]=0,gn[130]=gn[40]=-1,mn[130]=mn[40]=1,En[37]=En[133]=0,wn[37]=wn[133]=1,Cn[37]=Cn[133]=1,Tn[37]=Tn[133]=0,Rn[37]=Rn[133]=1,On[37]=On[133]=0,fn[37]=fn[133]=-1,hn[37]=hn[133]=0,dn[37]=dn[133]=0,pn[37]=pn[133]=1,gn[37]=gn[133]=0,mn[37]=mn[133]=0,xn[148]=xn[22]=-1,bn[148]=bn[22]=0,Mn[148]=Mn[22]=0,Tn[148]=Tn[22]=0,Rn[148]=Rn[22]=-1,On[148]=On[22]=1,Nn[148]=Nn[22]=0,An[148]=An[22]=1,Pn[148]=Pn[22]=1,pn[148]=pn[22]=-1,gn[148]=gn[22]=0,mn[148]=mn[22]=1,yn[82]=yn[88]=0,vn[82]=vn[88]=-1,_n[82]=_n[88]=1,xn[82]=xn[88]=1,bn[82]=bn[88]=0,Mn[82]=Mn[88]=1,Dn[82]=Dn[88]=-1,In[82]=In[88]=0,Sn[82]=Sn[88]=1,Nn[82]=Nn[88]=0,An[82]=An[88]=-1,Pn[82]=Pn[88]=0,yn[73]=yn[97]=0,vn[73]=vn[97]=1,_n[73]=_n[97]=0,En[73]=En[97]=0,wn[73]=wn[97]=-1,Cn[73]=Cn[97]=0,Dn[73]=Dn[97]=1,In[73]=In[97]=0,Sn[73]=Sn[97]=0,fn[73]=fn[97]=1,hn[73]=hn[97]=0,dn[73]=dn[97]=1,yn[145]=yn[25]=0,vn[145]=vn[25]=-1,_n[145]=_n[25]=0,Dn[145]=Dn[25]=1,In[145]=In[25]=0,Sn[145]=Sn[25]=1,Tn[145]=Tn[25]=0,Rn[145]=Rn[25]=1,On[145]=On[25]=1,pn[145]=pn[25]=-1,gn[145]=gn[25]=0,mn[145]=mn[25]=0,En[70]=En[100]=0,wn[70]=wn[100]=1,Cn[70]=Cn[100]=0,xn[70]=xn[100]=-1,bn[70]=bn[100]=0,Mn[70]=Mn[100]=1,Nn[70]=Nn[100]=0,An[70]=An[100]=-1,Pn[70]=Pn[100]=1,fn[70]=fn[100]=1,hn[70]=hn[100]=0,dn[70]=dn[100]=0,En[101]=En[69]=0,wn[101]=wn[69]=1,Cn[101]=Cn[69]=0,fn[101]=fn[69]=1,hn[101]=hn[69]=0,dn[101]=dn[69]=0,Tn[149]=Tn[21]=0,Rn[149]=Rn[21]=1,On[149]=On[21]=1,pn[149]=pn[21]=-1,gn[149]=gn[21]=0,mn[149]=mn[21]=0,xn[86]=xn[84]=-1,bn[86]=bn[84]=0,Mn[86]=Mn[84]=1,Nn[86]=Nn[84]=0,An[86]=An[84]=-1,Pn[86]=Pn[84]=1,yn[89]=yn[81]=0,vn[89]=vn[81]=-1,_n[89]=_n[81]=0,Dn[89]=Dn[81]=1,In[89]=In[81]=0,Sn[89]=Sn[81]=1,yn[96]=yn[74]=0,vn[96]=vn[74]=1,_n[96]=_n[74]=0,En[96]=En[74]=-1,wn[96]=wn[74]=0,Cn[96]=Cn[74]=1,Nn[96]=Nn[74]=1,An[96]=An[74]=0,Pn[96]=Pn[74]=0,fn[96]=fn[74]=1,hn[96]=hn[74]=0,dn[96]=dn[74]=1,yn[24]=yn[146]=0,vn[24]=vn[146]=-1,_n[24]=_n[146]=1,xn[24]=xn[146]=1,bn[24]=bn[146]=0,Mn[24]=Mn[146]=1,Dn[24]=Dn[146]=0,In[24]=In[146]=1,Sn[24]=Sn[146]=1,pn[24]=pn[146]=0,gn[24]=gn[146]=-1,mn[24]=mn[146]=0,En[6]=En[164]=-1,wn[6]=wn[164]=0,Cn[6]=Cn[164]=1,xn[6]=xn[164]=-1,bn[6]=bn[164]=0,Mn[6]=Mn[164]=0,Tn[6]=Tn[164]=0,Rn[6]=Rn[164]=-1,On[6]=On[164]=1,Nn[6]=Nn[164]=1,An[6]=An[164]=0,Pn[6]=Pn[164]=0,Dn[129]=Dn[41]=0,In[129]=In[41]=1,Sn[129]=Sn[41]=1,Tn[129]=Tn[41]=0,Rn[129]=Rn[41]=1,On[129]=On[41]=0,fn[129]=fn[41]=-1,hn[129]=hn[41]=0,dn[129]=dn[41]=0,pn[129]=pn[41]=0,gn[129]=gn[41]=-1,mn[129]=mn[41]=0,xn[66]=xn[104]=0,bn[66]=bn[104]=1,Mn[66]=Mn[104]=0,Dn[66]=Dn[104]=-1,In[66]=In[104]=0,Sn[66]=Sn[104]=1,Nn[66]=Nn[104]=0,An[66]=An[104]=-1,Pn[66]=Pn[104]=0,fn[66]=fn[104]=0,hn[66]=hn[104]=-1,dn[66]=dn[104]=1,yn[144]=yn[26]=-1,vn[144]=vn[26]=0,_n[144]=_n[26]=0,Tn[144]=Tn[26]=1,Rn[144]=Rn[26]=0,On[144]=On[26]=1,Nn[144]=Nn[26]=0,An[144]=An[26]=1,Pn[144]=Pn[26]=1,pn[144]=pn[26]=-1,gn[144]=gn[26]=0,mn[144]=mn[26]=1,En[36]=En[134]=0,wn[36]=wn[134]=1,Cn[36]=Cn[134]=1,xn[36]=xn[134]=0,bn[36]=bn[134]=1,Mn[36]=Mn[134]=0,fn[36]=fn[134]=0,hn[36]=hn[134]=-1,dn[36]=dn[134]=1,pn[36]=pn[134]=1,gn[36]=gn[134]=0,mn[36]=mn[134]=0,yn[9]=yn[161]=-1,vn[9]=vn[161]=0,_n[9]=_n[161]=0,En[9]=En[161]=0,wn[9]=wn[161]=-1,Cn[9]=Cn[161]=0,Dn[9]=Dn[161]=1,In[9]=In[161]=0,Sn[9]=Sn[161]=0,Tn[9]=Tn[161]=1,Rn[9]=Rn[161]=0,On[9]=On[161]=1,yn[136]=0,vn[136]=1,_n[136]=1,En[136]=0,wn[136]=1,Cn[136]=0,xn[136]=-1,bn[136]=0,Mn[136]=1,Dn[136]=-1,In[136]=0,Sn[136]=0,Tn[136]=0,Rn[136]=-1,On[136]=0,Nn[136]=0,An[136]=-1,Pn[136]=1,fn[136]=1,hn[136]=0,dn[136]=0,pn[136]=1,gn[136]=0,mn[136]=1,yn[34]=0,vn[34]=-1,_n[34]=0,En[34]=0,wn[34]=-1,Cn[34]=1,xn[34]=1,bn[34]=0,Mn[34]=0,Dn[34]=1,In[34]=0,Sn[34]=1,Tn[34]=0,Rn[34]=1,On[34]=1,Nn[34]=0,An[34]=1,Pn[34]=0,fn[34]=-1,hn[34]=0,dn[34]=1,pn[34]=-1,gn[34]=0,mn[34]=0,yn[35]=0,vn[35]=1,_n[35]=1,En[35]=0,wn[35]=-1,Cn[35]=1,xn[35]=1,bn[35]=0,Mn[35]=0,Dn[35]=-1,In[35]=0,Sn[35]=0,Tn[35]=0,Rn[35]=-1,On[35]=0,Nn[35]=0,An[35]=1,Pn[35]=0,fn[35]=-1,hn[35]=0,dn[35]=1,pn[35]=1,gn[35]=0,mn[35]=1,yn[153]=0,vn[153]=1,_n[153]=1,Dn[153]=-1,In[153]=0,Sn[153]=0,Tn[153]=0,Rn[153]=-1,On[153]=0,pn[153]=1,gn[153]=0,mn[153]=1,En[102]=0,wn[102]=-1,Cn[102]=1,xn[102]=1,bn[102]=0,Mn[102]=0,Nn[102]=0,An[102]=1,Pn[102]=0,fn[102]=-1,hn[102]=0,dn[102]=1,yn[155]=0,vn[155]=-1,_n[155]=0,Dn[155]=1,In[155]=0,Sn[155]=1,Tn[155]=0,Rn[155]=1,On[155]=1,pn[155]=-1,gn[155]=0,mn[155]=0,En[103]=0,wn[103]=1,Cn[103]=0,xn[103]=-1,bn[103]=0,Mn[103]=1,Nn[103]=0,An[103]=-1,Pn[103]=1,fn[103]=1,hn[103]=0,dn[103]=0,yn[152]=0,vn[152]=1,_n[152]=1,xn[152]=-1,bn[152]=0,Mn[152]=1,Dn[152]=-1,In[152]=0,Sn[152]=0,Tn[152]=0,Rn[152]=-1,On[152]=0,Nn[152]=0,An[152]=-1,Pn[152]=1,pn[152]=1,gn[152]=0,mn[152]=1,yn[156]=0,vn[156]=-1,_n[156]=1,xn[156]=1,bn[156]=0,Mn[156]=1,Dn[156]=-1,In[156]=0,Sn[156]=0,Tn[156]=0,Rn[156]=-1,On[156]=0,Nn[156]=0,An[156]=1,Pn[156]=1,pn[156]=-1,gn[156]=0,mn[156]=1,yn[137]=0,vn[137]=1,_n[137]=1,En[137]=0,wn[137]=1,Cn[137]=0,Dn[137]=-1,In[137]=0,Sn[137]=0,Tn[137]=0,Rn[137]=-1,On[137]=0,fn[137]=1,hn[137]=0,dn[137]=0,pn[137]=1,gn[137]=0,mn[137]=1,yn[139]=0,vn[139]=1,_n[139]=1,En[139]=0,wn[139]=-1,Cn[139]=0,Dn[139]=1,In[139]=0,Sn[139]=0,Tn[139]=0,Rn[139]=1,On[139]=0,fn[139]=-1,hn[139]=0,dn[139]=0,pn[139]=1,gn[139]=0,mn[139]=1,yn[98]=0,vn[98]=-1,_n[98]=0,En[98]=0,wn[98]=-1,Cn[98]=1,xn[98]=1,bn[98]=0,Mn[98]=0,Dn[98]=1,In[98]=0,Sn[98]=1,Nn[98]=0,An[98]=1,Pn[98]=0,fn[98]=-1,hn[98]=0,dn[98]=1,yn[99]=0,vn[99]=1,_n[99]=0,En[99]=0,wn[99]=-1,Cn[99]=1,xn[99]=1,bn[99]=0,Mn[99]=0,Dn[99]=-1,In[99]=0,Sn[99]=1,Nn[99]=0,An[99]=-1,Pn[99]=0,fn[99]=1,hn[99]=0,dn[99]=1,En[38]=0,wn[38]=-1,Cn[38]=1,xn[38]=1,bn[38]=0,Mn[38]=0,Tn[38]=0,Rn[38]=1,On[38]=1,Nn[38]=0,An[38]=1,Pn[38]=0,fn[38]=-1,hn[38]=0,dn[38]=1,pn[38]=-1,gn[38]=0,mn[38]=0,En[39]=0,wn[39]=1,Cn[39]=1,xn[39]=-1,bn[39]=0,Mn[39]=0,Tn[39]=0,Rn[39]=-1,On[39]=1,Nn[39]=0,An[39]=1,Pn[39]=0,fn[39]=-1,hn[39]=0,dn[39]=1,pn[39]=1,gn[39]=0,mn[39]=0;var Yv=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},Xv=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},Zv=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},Jv=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},Kv=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},Qv=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},e0=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},t0=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},mt=[],pt=[],Pt=[],Dt=[],$t=[],kt=[],Ln=[],kn=[];Dt[1]=$t[1]=18,Dt[169]=$t[169]=18,Pt[4]=pt[4]=12,Pt[166]=pt[166]=12,mt[16]=kn[16]=4,mt[154]=kn[154]=4,kt[64]=Ln[64]=22,kt[106]=Ln[106]=22,Pt[2]=kt[2]=17,Dt[2]=$t[2]=18,Pt[168]=kt[168]=17,Dt[168]=$t[168]=18,mt[8]=Dt[8]=9,pt[8]=Pt[8]=12,mt[162]=Dt[162]=9,pt[162]=Pt[162]=12,mt[32]=kn[32]=4,pt[32]=Ln[32]=1,mt[138]=kn[138]=4,pt[138]=Ln[138]=1,$t[128]=kn[128]=21,kt[128]=Ln[128]=22,$t[42]=kn[42]=21,kt[42]=Ln[42]=22,pt[5]=$t[5]=14,pt[165]=$t[165]=14,Pt[20]=kn[20]=6,Pt[150]=kn[150]=6,mt[80]=kt[80]=11,mt[90]=kt[90]=11,Dt[65]=Ln[65]=3,Dt[105]=Ln[105]=3,mt[160]=kt[160]=11,pt[160]=$t[160]=14,mt[10]=kt[10]=11,pt[10]=$t[10]=14,Pt[130]=kn[130]=6,Dt[130]=Ln[130]=3,Pt[40]=kn[40]=6,Dt[40]=Ln[40]=3,pt[101]=Ln[101]=1,pt[69]=Ln[69]=1,$t[149]=kn[149]=21,$t[21]=kn[21]=21,Pt[86]=kt[86]=17,Pt[84]=kt[84]=17,mt[89]=Dt[89]=9,mt[81]=Dt[81]=9,mt[96]=Ln[96]=0,pt[96]=kt[96]=15,mt[74]=Ln[74]=0,pt[74]=kt[74]=15,mt[24]=Pt[24]=8,Dt[24]=kn[24]=7,mt[146]=Pt[146]=8,Dt[146]=kn[146]=7,pt[6]=kt[6]=15,Pt[6]=$t[6]=16,pt[164]=kt[164]=15,Pt[164]=$t[164]=16,Dt[129]=kn[129]=7,$t[129]=Ln[129]=20,Dt[41]=kn[41]=7,$t[41]=Ln[41]=20,Pt[66]=Ln[66]=2,Dt[66]=kt[66]=19,Pt[104]=Ln[104]=2,Dt[104]=kt[104]=19,mt[144]=$t[144]=10,kt[144]=kn[144]=23,mt[26]=$t[26]=10,kt[26]=kn[26]=23,pt[36]=kn[36]=5,Pt[36]=Ln[36]=2,pt[134]=kn[134]=5,Pt[134]=Ln[134]=2,mt[9]=$t[9]=10,pt[9]=Dt[9]=13,mt[161]=$t[161]=10,pt[161]=Dt[161]=13,pt[37]=kn[37]=5,$t[37]=Ln[37]=20,pt[133]=kn[133]=5,$t[133]=Ln[133]=20,Pt[148]=$t[148]=16,kt[148]=kn[148]=23,Pt[22]=$t[22]=16,kt[22]=kn[22]=23,mt[82]=Pt[82]=8,Dt[82]=kt[82]=19,mt[88]=Pt[88]=8,Dt[88]=kt[88]=19,mt[73]=Ln[73]=0,pt[73]=Dt[73]=13,mt[97]=Ln[97]=0,pt[97]=Dt[97]=13,mt[145]=Dt[145]=9,$t[145]=kn[145]=21,mt[25]=Dt[25]=9,$t[25]=kn[25]=21,pt[70]=Ln[70]=1,Pt[70]=kt[70]=17,pt[100]=Ln[100]=1,Pt[100]=kt[100]=17,mt[34]=Dt[34]=9,pt[34]=Pt[34]=12,$t[34]=kn[34]=21,kt[34]=Ln[34]=22,mt[136]=kn[136]=4,pt[136]=Ln[136]=1,Pt[136]=kt[136]=17,Dt[136]=$t[136]=18,mt[35]=kn[35]=4,pt[35]=Pt[35]=12,Dt[35]=$t[35]=18,kt[35]=Ln[35]=22,mt[153]=kn[153]=4,Dt[153]=$t[153]=18,pt[102]=Pt[102]=12,kt[102]=Ln[102]=22,mt[155]=Dt[155]=9,$t[155]=kn[155]=23,pt[103]=Ln[103]=1,Pt[103]=kt[103]=17,mt[152]=kn[152]=4,Pt[152]=kt[152]=17,Dt[152]=$t[152]=18,mt[156]=Pt[156]=8,Dt[156]=$t[156]=18,kt[156]=kn[156]=23,mt[137]=kn[137]=4,pt[137]=Ln[137]=1,Dt[137]=$t[137]=18,mt[139]=kn[139]=4,pt[139]=Dt[139]=13,$t[139]=Ln[139]=20,mt[98]=Dt[98]=9,pt[98]=Pt[98]=12,kt[98]=Ln[98]=22,mt[99]=Ln[99]=0,pt[99]=Pt[99]=12,Dt[99]=kt[99]=19,pt[38]=Pt[38]=12,$t[38]=kn[38]=21,kt[38]=Ln[38]=22,pt[39]=kn[39]=5,Pt[39]=$t[39]=16,kt[39]=Ln[39]=22;var lt=[];function o0(e,t,n){return function M8(e){return(e>0)-(e<0)||+e}((t[0]-e[0])*(n[1]-t[1])-(n[0]-t[0])*(t[1]-e[1]))}function Ux(e,t){return t.geometry.coordinates[0].every(function(n){return ku(ul(n),e)})}lt[1]=lt[169]=Yv,lt[4]=lt[166]=Xv,lt[16]=lt[154]=Zv,lt[64]=lt[106]=Jv,lt[168]=lt[2]=Kv,lt[162]=lt[8]=Qv,lt[138]=lt[32]=e0,lt[42]=lt[128]=t0,lt[5]=lt[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},lt[20]=lt[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},lt[80]=lt[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},lt[65]=lt[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},lt[160]=lt[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},lt[130]=lt[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},lt[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},lt[101]=lt[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},lt[149]=lt[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},lt[86]=lt[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},lt[89]=lt[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},lt[96]=lt[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},lt[24]=lt[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},lt[6]=lt[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},lt[129]=lt[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},lt[66]=lt[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},lt[144]=lt[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},lt[36]=lt[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},lt[9]=lt[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},lt[37]=lt[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},lt[148]=lt[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},lt[82]=lt[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},lt[73]=lt[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},lt[145]=lt[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},lt[70]=lt[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},lt[34]=function(e){return[t0(e),Qv(e)]},lt[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},lt[136]=function(e){return[e0(e),Kv(e)]},lt[153]=function(e){return[Zv(e),Yv(e)]},lt[102]=function(e){return[Xv(e),Jv(e)]},lt[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},lt[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},lt[152]=function(e){return[Zv(e),Kv(e)]},lt[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},lt[137]=function(e){return[e0(e),Yv(e)]},lt[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},lt[98]=function(e){return[Qv(e),Jv(e)]},lt[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},lt[38]=function(e){return[Xv(e),t0(e)]},lt[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};const Gx=function(){function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(t){return t.join(",")},e.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(n){return n.from.id!==t.from.id})},e.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(n){return n.to.id!==t.to.id})},e.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(n,r){var i=n.to,s=r.to;if(i.coordinates[0]-t.coordinates[0]>=0&&s.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&s.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&s.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||s.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-s.coordinates[1]:s.coordinates[1]-i.coordinates[1];var u=o0(t.coordinates,i.coordinates,s.coordinates);return u<0?1:u>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(s.coordinates[0]-t.coordinates[0],2)+Math.pow(s.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},e.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},e}(),R8=function(){function e(t,n){this.from=t,this.to=n,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return function Av(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return uu({type:"LineString",coordinates:e},t,n)}([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(t){return o0(t.from.coordinates,t.to.coordinates,this.to.coordinates)},e}(),L8=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},e.prototype.get=function(t){return this.edges[t]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(t){this.edges.forEach(t)},e.prototype.map=function(t){return this.edges.map(t)},e.prototype.some=function(t){return this.edges.some(t)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var t=this,n=this.edges.reduce(function(u,c,h){return c.from.coordinates[1]>t.edges[u].from.coordinates[1]&&(u=h),u},0),r=(0===n?this.length:n)-1,i=(n+1)%this.length,s=o0(this.edges[r].from.coordinates,this.edges[n].from.coordinates,this.edges[i].from.coordinates);return 0===s?this.edges[r].from.coordinates[0]>this.edges[i].from.coordinates[0]:s>0},e.prototype.toMultiPoint=function(){return function JS(e,t,n){return void 0===n&&(n={}),uu({type:"MultiPoint",coordinates:e},t,n)}(this.edges.map(function(t){return t.from.coordinates}))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(n){return n.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=ia([t])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=function UG(e){return function VG(e,t){void 0===t&&(t={});var n=Number(e[0]),r=Number(e[1]),i=Number(e[2]),s=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var u=[n,r];return ia([[u,[i,r],[i,s],[n,s],u]],t.properties,{bbox:e,id:t.id})}(oG(e))}(this.toPolygon())},e.findEdgeRingContaining=function(t,n){var i,s,r=t.getEnvelope();return n.forEach(function(u){var c=u.getEnvelope();if(s&&(i=s.getEnvelope()),!function N8(e,t){var n=e.geometry.coordinates[0].map(function(u){return u[0]}),r=e.geometry.coordinates[0].map(function(u){return u[1]}),i=t.geometry.coordinates[0].map(function(u){return u[0]}),s=t.geometry.coordinates[0].map(function(u){return u[1]});return Math.max.apply(null,n)===Math.max.apply(null,i)&&Math.max.apply(null,r)===Math.max.apply(null,s)&&Math.min.apply(null,n)===Math.min.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,s)}(c,r)&&Ux(c,r)){for(var h=t.map(function(w){return w.from.coordinates}),d=void 0,g=function(w){u.some(function(D){return function A8(e,t){return e[0]===t[0]&&e[1]===t[1]}(w,D.from.coordinates)})||(d=w)},m=0,y=h;m<y.length;m++)g(y[m]);d&&u.inside(ul(d))&&(!s||Ux(i,c))&&(s=u)}}),s},e.prototype.inside=function(t){return ku(t,this.toPolygon())},e}();function Zx(e){for(var t=e,n=[];t.parent;)n.unshift(t),t=t.parent;return n}!function(){function e(){this.edges=[],this.nodes={}}e.fromGeoJson=function(t){!function F8(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var n=new e;return ep(t,function(r){(function aG(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)})(r,"LineString","Graph::fromGeoJson"),function eG(e,t,n,r){var i=n;Vf(e,function(s,u,c,h,d){i=0===u&&void 0===n?s:t(i,s,u,c,h,d)},r)}(r,function(i,s){if(i){var u=n.getNode(i),c=n.getNode(s);n.addEdge(u,c)}return s})}),n},e.prototype.getNode=function(t){var n=Gx.buildId(t),r=this.nodes[n];return r||(r=this.nodes[n]=new Gx(t)),r},e.prototype.addEdge=function(t,n){var r=new R8(t,n),i=r.getSymetric();this.edges.push(r),this.edges.push(i)},e.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(n){return t.nodes[n]}).forEach(function(n){return t._removeIfDangle(n)})},e.prototype._removeIfDangle=function(t){var n=this;if(t.innerEdges.length<=1){var r=t.getOuterEdges().map(function(i){return i.to});this.removeNode(t),r.forEach(function(i){return n._removeIfDangle(i)})}},e.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(n){n.label===n.symetric.label&&(t.removeEdge(n.symetric),t.removeEdge(n))})},e.prototype._computeNextCWEdges=function(t){var n=this;typeof t>"u"?Object.keys(this.nodes).forEach(function(r){return n._computeNextCWEdges(n.nodes[r])}):t.getOuterEdges().forEach(function(r,i){t.getOuterEdge((0===i?t.getOuterEdges().length:i)-1).symetric.next=r})},e.prototype._computeNextCCWEdges=function(t,n){for(var i,s,r=t.getOuterEdges(),u=r.length-1;u>=0;--u){var c=r[u],h=c.symetric,d=void 0,g=void 0;c.label===n&&(d=c),h.label===n&&(g=h),d&&g&&(g&&(s=g),d&&(s&&(s.next=d,s=void 0),i||(i=d)))}s&&(s.next=i)},e.prototype._findLabeledEdgeRings=function(){var t=[],n=0;return this.edges.forEach(function(r){if(!(r.label>=0)){t.push(r);var i=r;do{i.label=n,i=i.next}while(!r.isEqual(i));n++}}),t},e.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(r){r.label=void 0}),this._findLabeledEdgeRings().forEach(function(r){t._findIntersectionNodes(r).forEach(function(i){t._computeNextCCWEdges(i,r.label)})});var n=[];return this.edges.forEach(function(r){r.ring||n.push(t._findEdgeRing(r))}),n},e.prototype._findIntersectionNodes=function(t){var n=[],r=t,i=function(){var s=0;r.from.getOuterEdges().forEach(function(u){u.label===t.label&&++s}),s>1&&n.push(r.from),r=r.next};do{i()}while(!t.isEqual(r));return n},e.prototype._findEdgeRing=function(t){var n=t,r=new L8;do{r.push(n),n.ring=r,n=n.next}while(!t.isEqual(n));return r},e.prototype.removeNode=function(t){var n=this;t.getOuterEdges().forEach(function(r){return n.removeEdge(r)}),t.innerEdges.forEach(function(r){return n.removeEdge(r)}),delete this.nodes[t.id]},e.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(n){return!n.isEqual(t)}),t.deleteEdge()}}(),ee(5013),ee(7470),ee(9475);var up={search:function(e,t,n,r){e.cleanDirty();var i=(r=r||{}).heuristic||up.heuristics.manhattan,s=r.closest||!1,u=function K8(){return new Jx(function(e){return e.f})}(),c=t;for(t.h=i(t,n),u.push(t);u.size()>0;){var h=u.pop();if(h===n)return Zx(h);h.closed=!0;for(var d=e.neighbors(h),g=0,m=d.length;g<m;++g){var y=d[g];if(!y.closed&&!y.isWall()){var _=h.g+y.getCost(h),w=y.visited;(!w||_<y.g)&&(y.visited=!0,y.parent=h,y.h=y.h||i(y,n),y.g=_,y.f=y.g+y.h,e.markDirty(y),s&&(y.h<c.h||y.h===c.h&&y.g<c.g)&&(c=y),w?u.rescoreElement(y):u.push(y))}}}return s?Zx(c):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var r=Math.sqrt(2),i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);return 1*(i+s)+(r-2)*Math.min(i,s)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function fc(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var n=0;n<e.length;n++){this.grid[n]=[];for(var r=0,i=e[n];r<i.length;r++){var s=new lp(n,r,i[r]);this.grid[n][r]=s,this.nodes.push(s)}}this.init()}function lp(e,t,n){this.x=e,this.y=t,this.weight=n}function Jx(e){this.content=[],this.scoreFunction=e}function a0(){this._=null}function cp(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function $f(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function zf(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Kx(e){for(;e.L;)e=e.L;return e}fc.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)up.cleanNode(this.nodes[e])},fc.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)up.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},fc.prototype.markDirty=function(e){this.dirtyNodes.push(e)},fc.prototype.neighbors=function(e){var t=[],n=e.x,r=e.y,i=this.grid;return i[n-1]&&i[n-1][r]&&t.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&t.push(i[n+1][r]),i[n]&&i[n][r-1]&&t.push(i[n][r-1]),i[n]&&i[n][r+1]&&t.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&t.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&t.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&t.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&t.push(i[n+1][r+1])),t},fc.prototype.toString=function(){for(var n,r,i,s,e=[],t=this.grid,u=0,c=t.length;u<c;u++){for(n=[],i=0,s=(r=t[u]).length;i<s;i++)n.push(r[i].weight);e.push(n.join(" "))}return e.join("\n")},lp.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},lp.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},lp.prototype.isWall=function(){return 0===this.weight},Jx.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},bubbleUp:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var c,i=e+1<<1,s=i-1,u=null;if(s<t&&(c=this.scoreFunction(this.content[s]))<r&&(u=s),i<t&&this.scoreFunction(this.content[i])<(null===u?r:c)&&(u=i),null===u)break;this.content[e]=this.content[u],this.content[u]=n,e=u}}},a0.prototype={constructor:a0,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Kx(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&($f(this,n),n=(e=n).U),n.C=!1,r.C=!0,zf(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(zf(this,n),n=(e=n).U),n.C=!1,r.C=!0,$f(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var n,s,u,t=e.U,r=e.L,i=e.R;if(s=r?i?Kx(i):r:i,t?t.L===e?t.L=s:t.R=s:this._=s,r&&i?(u=s.C,s.C=e.C,s.L=r,r.U=s,s!==i?(t=s.U,s.U=e.U,t.L=e=s.R,s.R=i,i.U=s):(s.U=t,t=s,e=s.R)):(u=e.C,e=s),e&&(e.U=t),!u){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===t.L){if((n=t.R).C&&(n.C=!1,t.C=!0,$f(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,zf(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,$f(this,t),e=this._;break}}else if((n=t.L).C&&(n.C=!1,t.C=!0,zf(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,$f(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,zf(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};const Qx=a0;function qf(e,t,n,r){var i=[null,null],s=Oo.push(i)-1;return i.left=e,i.right=t,n&&fp(i,e,t,n),r&&fp(i,t,e,r),Ss[e.index].halfedges.push(s),Ss[t.index].halfedges.push(s),i}function Wf(e,t,n){var r=[t,n];return r.left=e,r}function fp(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function e6(e,t,n,r,i){var D,s=e[0],u=e[1],c=s[0],h=s[1],m=0,y=1,_=u[0]-c,w=u[1]-h;if(D=t-c,_||!(D>0)){if(D/=_,_<0){if(D<m)return;D<y&&(y=D)}else if(_>0){if(D>y)return;D>m&&(m=D)}if(D=r-c,_||!(D<0)){if(D/=_,_<0){if(D>y)return;D>m&&(m=D)}else if(_>0){if(D<m)return;D<y&&(y=D)}if(D=n-h,w||!(D>0)){if(D/=w,w<0){if(D<m)return;D<y&&(y=D)}else if(w>0){if(D>y)return;D>m&&(m=D)}if(D=i-h,w||!(D<0)){if(D/=w,w<0){if(D>y)return;D>m&&(m=D)}else if(w>0){if(D<m)return;D<y&&(y=D)}return!(m>0)&&!(y<1)||(m>0&&(e[0]=[c+m*_,h+m*w]),y<1&&(e[1]=[c+y*_,h+y*w])),!0}}}}}function t6(e,t,n,r,i){var s=e[1];if(s)return!0;var D,U,u=e[0],c=e.left,h=e.right,d=c[0],g=c[1],m=h[0],y=h[1],_=(d+m)/2;if(y===g){if(_<t||_>=r)return;if(d>m){if(u){if(u[1]>=i)return}else u=[_,n];s=[_,i]}else{if(u){if(u[1]<n)return}else u=[_,i];s=[_,n]}}else if(U=(g+y)/2-(D=(d-m)/(y-g))*_,D<-1||D>1)if(d>m){if(u){if(u[1]>=i)return}else u=[(n-U)/D,n];s=[(i-U)/D,i]}else{if(u){if(u[1]<n)return}else u=[(i-U)/D,i];s=[(n-U)/D,n]}else if(g<y){if(u){if(u[0]>=r)return}else u=[t,D*t+U];s=[r,D*r+U]}else{if(u){if(u[0]<t)return}else u=[r,D*r+U];s=[t,D*t+U]}return e[0]=u,e[1]=s,!0}function i6(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function eb(e,t){return t[+(t.left!==e.site)]}function o6(e,t){return t[+(t.left===e.site)]}var u0,tb=[];function u6(){cp(this),this.x=this.y=this.arc=this.site=this.cy=null}function hc(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,s=n.site;if(r!==s){var u=i[0],c=i[1],h=r[0]-u,d=r[1]-c,g=s[0]-u,m=s[1]-c,y=2*(h*m-d*g);if(!(y>=-d6)){var _=h*h+d*d,w=g*g+m*m,D=(m*_-d*w)/y,U=(h*w-g*_)/y,M=tb.pop()||new u6;M.arc=e,M.site=i,M.x=D+u,M.y=(M.cy=U+c)+Math.sqrt(D*D+U*U),e.circle=M;for(var x=null,b=Yf._;b;)if(M.y<b.y||M.y===b.y&&M.x<=b.x){if(!b.L){x=b.P;break}b=b.L}else{if(!b.R){x=b;break}b=b.R}Yf.insert(x,M),x||(u0=M)}}}}function dc(e){var t=e.circle;t&&(t.P||(u0=t.N),Yf.remove(t),tb.push(t),cp(t),e.circle=null)}var nb=[];function l6(){cp(this),this.edge=this.site=this.circle=null}function rb(e){var t=nb.pop()||new l6;return t.site=e,t}function l0(e){dc(e),pc.remove(e),nb.push(e),cp(e)}function c6(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],s=e.P,u=e.N,c=[e];l0(e);for(var h=s;h.circle&&Math.abs(n-h.circle.x)<qr&&Math.abs(r-h.circle.cy)<qr;)s=h.P,c.unshift(h),l0(h),h=s;c.unshift(h),dc(h);for(var d=u;d.circle&&Math.abs(n-d.circle.x)<qr&&Math.abs(r-d.circle.cy)<qr;)u=d.N,c.push(d),l0(d),d=u;c.push(d),dc(d);var m,g=c.length;for(m=1;m<g;++m)fp((d=c[m]).edge,(h=c[m-1]).site,d.site,i);(d=c[g-1]).edge=qf((h=c[0]).site,d.site,null,i),hc(h),hc(d)}function f6(e){for(var r,i,s,u,t=e[0],n=e[1],c=pc._;c;)if((s=ib(c,n)-t)>qr)c=c.L;else{if(!((u=t-h6(c,n))>qr)){s>-qr?(r=c.P,i=c):u>-qr?(r=c,i=c.N):r=i=c;break}if(!c.R){r=c;break}c=c.R}!function r6(e){Ss[e.index]={site:e,halfedges:[]}}(e);var h=rb(e);if(pc.insert(r,h),r||i){if(r===i)return dc(r),i=rb(r.site),pc.insert(h,i),h.edge=i.edge=qf(r.site,h.site),hc(r),void hc(i);if(!i)return void(h.edge=qf(r.site,h.site));dc(r),dc(i);var d=r.site,g=d[0],m=d[1],y=e[0]-g,_=e[1]-m,w=i.site,D=w[0]-g,U=w[1]-m,M=2*(y*U-_*D),x=y*y+_*_,b=D*D+U*U,re=[(U*x-_*b)/M+g,(y*b-D*x)/M+m];fp(i.edge,d,w,re),h.edge=qf(d,e,null,re),i.edge=qf(e,w,null,re),hc(r),hc(i)}}function ib(e,t){var n=e.site,r=n[0],i=n[1],s=i-t;if(!s)return r;var u=e.P;if(!u)return-1/0;var c=(n=u.site)[0],h=n[1],d=h-t;if(!d)return c;var g=c-r,m=1/s-1/d,y=g/d;return m?(-y+Math.sqrt(y*y-2*m*(g*g/(-2*d)-h+d/2+i-s/2)))/m+r:(r+c)/2}function h6(e,t){var n=e.N;if(n)return ib(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var pc,Ss,Yf,Oo,qr=1e-6,d6=1e-12;function p6(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function g6(e,t){return t[1]-e[1]||t[0]-e[0]}function ob(e,t){var r,i,s,n=e.sort(g6).pop();for(Oo=[],Ss=new Array(e.length),pc=new Qx,Yf=new Qx;;)if(s=u0,n&&(!s||n[1]<s.y||n[1]===s.y&&n[0]<s.x))(n[0]!==r||n[1]!==i)&&(f6(n),r=n[0],i=n[1]),n=e.pop();else{if(!s)break;c6(s.arc)}if(function s6(){for(var n,r,i,s,e=0,t=Ss.length;e<t;++e)if((n=Ss[e])&&(s=(r=n.halfedges).length)){var u=new Array(s),c=new Array(s);for(i=0;i<s;++i)u[i]=i,c[i]=i6(n,Oo[r[i]]);for(u.sort(function(h,d){return c[d]-c[h]}),i=0;i<s;++i)c[i]=r[u[i]];for(i=0;i<s;++i)r[i]=c[i]}}(),t){var u=+t[0][0],c=+t[0][1],h=+t[1][0],d=+t[1][1];(function n6(e,t,n,r){for(var s,i=Oo.length;i--;)t6(s=Oo[i],e,t,n,r)&&e6(s,e,t,n,r)&&(Math.abs(s[0][0]-s[1][0])>qr||Math.abs(s[0][1]-s[1][1])>qr)||delete Oo[i]})(u,c,h,d),function a6(e,t,n,r){var s,u,c,h,d,g,m,y,_,w,D,U,i=Ss.length,M=!0;for(s=0;s<i;++s)if(u=Ss[s]){for(c=u.site,h=(d=u.halfedges).length;h--;)Oo[d[h]]||d.splice(h,1);for(h=0,g=d.length;h<g;)D=(w=o6(u,Oo[d[h]]))[0],U=w[1],y=(m=eb(u,Oo[d[++h%g]]))[0],_=m[1],(Math.abs(D-y)>qr||Math.abs(U-_)>qr)&&(d.splice(h,0,Oo.push(Wf(c,w,Math.abs(D-e)<qr&&r-U>qr?[e,Math.abs(y-e)<qr?_:r]:Math.abs(U-r)<qr&&n-D>qr?[Math.abs(_-r)<qr?y:n,r]:Math.abs(D-n)<qr&&U-t>qr?[n,Math.abs(y-n)<qr?_:t]:Math.abs(U-t)<qr&&D-e>qr?[Math.abs(_-t)<qr?y:e,t]:null))-1),++g);g&&(M=!1)}if(M){var x,b,re,ae=1/0;for(s=0,M=null;s<i;++s)(u=Ss[s])&&(re=(x=(c=u.site)[0]-e)*x+(b=c[1]-t)*b)<ae&&(ae=re,M=u);if(M){var Ce=[e,t],le=[e,r],_e=[n,r],ie=[n,t];M.halfedges.push(Oo.push(Wf(c=M.site,Ce,le))-1,Oo.push(Wf(c,le,_e))-1,Oo.push(Wf(c,_e,ie))-1,Oo.push(Wf(c,ie,Ce))-1)}}for(s=0;s<i;++s)(u=Ss[s])&&(u.halfedges.length||delete Ss[s])}(u,c,h,d)}this.edges=Oo,this.cells=Ss,pc=Yf=Oo=Ss=null}function Bu(){return new hp}function hp(){this.reset()}ob.prototype={constructor:ob,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(r){return eb(t,e[r])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(c=(s=n.halfedges).length)for(var s,c,h,i=n.site,u=-1,d=t[s[c-1]],g=d.left===i?d.right:d.left;++u<c;)h=g,g=(d=t[s[u]]).left===i?d.right:d.left,h&&g&&r<h.index&&r<g.index&&p6(i,h,g)<0&&e.push([i.data,h.data,g.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var i,c,r=this,s=r._found||0,u=r.cells.length;!(c=r.cells[s]);)if(++s>=u)return null;var h=e-c.site[0],d=t-c.site[1],g=h*h+d*d;do{c=r.cells[i=s],s=null,c.halfedges.forEach(function(m){var y=r.edges[m],_=y.left;if(_!==c.site&&_||(_=y.right)){var w=e-_[0],D=t-_[1],U=w*w+D*D;U<g&&(g=U,s=_.index)}})}while(null!==s);return r._found=i,null==n||g<=n*n?c.site:null}},ee(9855),ee(770),hp.prototype={constructor:hp,reset:function(){this.s=this.t=0},add:function(e){mb(dp,e,this.t),mb(this,dp.s,this.s),this.s?this.t+=dp.t:this.s=dp.t},valueOf:function(){return this.s}};var dp=new hp;function mb(e,t,n){var r=e.s=t+n,i=r-t;e.t=t-(r-i)+(n-i)}var ei=Math.PI,cs=ei/2,gc=2*ei,Gr=ei/180,Xf=(Math,Math.atan),mc=Math.atan2,tr=Math.cos,Bn=(Math,Math,Math,Math,Math,Math.sin),lu=(Math,Math.sqrt);Math;function yc(e){return e>1?cs:e<-1?-cs:Math.asin(e)}function D0(e,t){return[e>ei?e-gc:e<-ei?e+gc:e,t]}function jb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Bu(),Bu(),Bu(),D0.invert=D0,function W6(e){1===e.length&&(e=function Y6(e){return function(t,n){return jb(e(t),n)}}(e))}(jb),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);Bu();function H0(){}function gM(e){return function(t,n){var r=tr(t),i=tr(n),s=e(r*i);return[s*i*Bn(t),s*Bn(n)]}}function oh(e){return function(t,n){var r=lu(t*t+n*n),i=e(r),s=Bn(i),u=tr(i);return[mc(t*s,r*u),yc(r&&n*s/r)]}}function $0(e,t){return[e,t]}Bu(),Bu(),Bu(),Bu(),function hM(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}(4.5),H0.prototype={constructor:H0,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},tr(30*Gr),function dM(e){return function(t){var n=new H0;for(var r in e)n[r]=e[r];return n.stream=t,n}}({point:function(e,t){this.stream.point(e*Gr,t*Gr)}}),gM(function(e){return lu(2/(1+e))}).invert=oh(function(e){return 2*yc(e/2)}),gM(function(e){return(e=function N6(e){return e>1?0:e<-1?ei:Math.acos(e)}(e))&&e/Bn(e)}).invert=oh(function(e){return e}),$0.invert=$0,oh(Xf),oh(yc),oh(function(e){return 2*Xf(e)});let bM=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(et(Xa),et(Cs))},e.\u0275dir=Lt({type:e}),e})(),pl=(()=>{class e extends bM{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=No(e)))(r||e)}}(),e.\u0275dir=Lt({type:e,features:[vr]}),e})();const Aa=new Ft("NgValueAccessor"),jH={provide:Aa,useExisting:We(()=>Vp),multi:!0},zH=new Ft("CompositionEventMode");let Vp=(()=>{class e extends bM{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $H(){const e=Da()?Da().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(et(Xa),et(Cs),et(zH,8))},e.\u0275dir=Lt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&vo("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[zr([jH]),vr]}),e})();const Lo=new Ft("NgValidators"),Gu=new Ft("NgAsyncValidators");function BM(e){return null!=e}function VM(e){return af(e)?ce(e):e}function UM(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function GM(e,t){return t.map(n=>n(e))}function HM(e){return e.map(t=>function YH(e){return!e.validate}(t)?t:n=>t.validate(n))}function z0(e){return null!=e?function jM(e){if(!e)return null;const t=e.filter(BM);return 0==t.length?null:function(n){return UM(GM(n,t))}}(HM(e)):null}function q0(e){return null!=e?function $M(e){if(!e)return null;const t=e.filter(BM);return 0==t.length?null:function(n){return function GH(...e){const t=rr(e),{args:n,keys:r}=TI(e),i=new q(s=>{const{length:u}=n;if(!u)return void s.complete();const c=new Array(u);let h=u,d=u;for(let g=0;g<u;g++){let m=!1;ki(n[g]).subscribe(at(s,y=>{m||(m=!0,d--),c[g]=y},()=>h--,void 0,()=>{(!h||!m)&&(d||s.next(r?OI(r,c):c),s.complete())}))}});return t?i.pipe(RI(t)):i}(GM(n,t).map(VM)).pipe(Xe(UM))}}(HM(e)):null}function zM(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function qM(e){return e._rawValidators}function WM(e){return e._rawAsyncValidators}function W0(e){return e?Array.isArray(e)?e:[e]:[]}function Gp(e,t){return Array.isArray(e)?e.includes(t):e===t}function YM(e,t){const n=W0(t);return W0(e).forEach(i=>{Gp(n,i)||n.push(i)}),n}function XM(e,t){return W0(t).filter(n=>!Gp(e,n))}class Hu extends class ZM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=z0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=q0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let KM=(()=>{class e extends class JM{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(et(Hu,2))},e.\u0275dir=Lt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Jh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[vr]}),e})();const sh="VALID",jp="INVALID",Cc="PENDING",ah="DISABLED";function eN(e){return Array.isArray(e)?z0(e):e||null}function tN(e){return Array.isArray(e)?q0(e):e||null}function $p(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function uh(e,t){(function e_(e,t){const n=qM(e);null!==t.validator?e.setValidators(zM(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=WM(e);null!==t.asyncValidator?e.setAsyncValidators(zM(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Wp(t._rawValidators,i),Wp(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),e.disabled&&t.valueAccessor.setDisabledState?.(!0),function ij(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&oN(e,t)})}(e,t),function sj(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function oj(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&oN(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function rj(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function qp(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),function Yp(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=qM(e);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==t.validator);s.length!==i.length&&(n=!0,e.setValidators(s))}}if(null!==t.asyncValidator){const i=WM(e);if(Array.isArray(i)&&i.length>0){const s=i.filter(u=>u!==t.asyncValidator);s.length!==i.length&&(n=!0,e.setAsyncValidators(s))}}}const r=()=>{};return Wp(t._rawValidators,r),Wp(t._rawAsyncValidators,r),n}(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Wp(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function oN(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function lN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function cN(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const ju=class extends class iN{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=eN(this._rawValidators),this._composedAsyncValidatorFn=tN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===sh}get invalid(){return this.status===jp}get pending(){return this.status==Cc}get disabled(){return this.status===ah}get enabled(){return this.status!==ah}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=eN(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=tN(t)}addValidators(t){this.setValidators(YM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(XM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(XM(t,this._rawAsyncValidators))}hasValidator(t){return Gp(this._rawValidators,t)}hasAsyncValidator(t){return Gp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Cc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ah,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=sh,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sh||this.status===Cc)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ah:sh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Cc,this._hasOwnPendingAsyncValidator=!0;const n=VM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new di,this.statusChanges=new di}_calculateStatus(){return this._allControlsDisabled()?ah:this.errors?jp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cc)?Cc:this._anyControlsHaveStatus(jp)?jp:sh}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$p(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,n,r){super(function J0(e){return($p(e)?e.validators:e)||null}(n),function K0(e,t){return($p(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$p(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=cN(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lN(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lN(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){cN(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},mj={provide:Aa,useExisting:We(()=>i_),multi:!0};let i_=(()=>{class e extends pl{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=No(e)))(r||e)}}(),e.\u0275dir=Lt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&vo("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[zr([mj]),vr]}),e})(),gN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({}),e})();const o_=new Ft("NgModelWithFormControlWarning"),Ej={provide:Hu,useExisting:We(()=>s_)};let s_=(()=>{class e extends Hu{constructor(n,r,i,s){super(),this._ngModelWarningConfig=s,this.update=new di,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function n_(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===Vp?n=s:function lj(e){return Object.getPrototypeOf(e.constructor)===pl}(s)?r=s:i=s}),i||r||n||null}(0,i)}set isDisabled(n){}ngOnChanges(n){if(this._isControlChanged(n)){const r=n.form.previousValue;r&&qp(r,this,!1),uh(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}(function t_(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)})(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&qp(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(et(Lo,10),et(Gu,10),et(Aa,10),et(o_,8))},e.\u0275dir=Lt({type:e,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[zr([Ej]),vr,Ni]}),e})();const Sj={provide:Aa,useExisting:We(()=>Xp),multi:!0};function EN(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Xp=(()=>{class e extends pl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=EN(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function xj(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=No(e)))(r||e)}}(),e.\u0275dir=Lt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&vo("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[zr([Sj]),vr]}),e})(),wN=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(EN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(et(Cs),et(Xa),et(Xp,9))},e.\u0275dir=Lt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const bj={provide:Aa,useExisting:We(()=>c_),multi:!0};function CN(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let c_=(()=>{class e extends pl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,u)=>{s._setSelected(i.indexOf(u.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const u=s;for(let c=0;c<u.length;c++){const d=this._getOptionValue(u[c].value);i.push(d)}}else{const u=r.options;for(let c=0;c<u.length;c++){const h=u[c];if(h.selected){const d=this._getOptionValue(h.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Mj(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=No(e)))(r||e)}}(),e.\u0275dir=Lt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&vo("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[zr([bj]),vr]}),e})(),DN=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(CN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(CN(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(et(Cs),et(Xa),et(c_,9))},e.\u0275dir=Lt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),RN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({imports:[gN]}),e})(),kj=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({imports:[RN]}),e})(),Bj=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:o_,useValue:n.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({imports:[RN]}),e})(),ON=(()=>{class e{constructor(){}Cargar(n){for(let r of n){let i=document.createElement("script");i.src="./assets/js/"+r+".js",document.getElementsByTagName("body")[0].appendChild(i)}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class LN{}class FN{}class hu{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),u=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let r=t[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof hu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new hu;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof hu?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=t.value;if(s){let u=this.headers.get(n);if(!u)return;u=u.filter(c=>-1===s.indexOf(c)),0===u.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,u)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class Uj{encodeKey(t){return kN(t)}encodeValue(t){return kN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Hj=/%(\d[a-f0-9])/gi,jj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kN(e){return encodeURIComponent(e).replace(Hj,(t,n)=>jj[n]??t)}function Zp(e){return`${e}`}class $u{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Uj,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Gj(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[u,c]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],h=n.get(u)||[];h.push(c),n.set(u,h)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(Zp):[Zp(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new $u({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Zp(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Zp(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class $j{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function BN(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function VN(e){return typeof Blob<"u"&&e instanceof Blob}function UN(e){return typeof FormData<"u"&&e instanceof FormData}class ch{constructor(t,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function zj(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new hu),this.context||(this.context=new $j),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=n;else{const c=n.indexOf("?");this.urlWithParams=n+(-1===c?"?":c<n.length-1?"&":"")+u}}else this.params=new $u,this.urlWithParams=n}serializeBody(){return null===this.body?null:BN(this.body)||VN(this.body)||UN(this.body)||function qj(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $u?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||UN(this.body)?null:VN(this.body)?this.body.type||null:BN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $u?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,d=t.params||this.params;const g=t.context??this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((m,y)=>m.set(y,t.setHeaders[y]),h)),t.setParams&&(d=Object.keys(t.setParams).reduce((m,y)=>m.set(y,t.setParams[y]),d)),new ch(n,r,s,{params:d,headers:h,context:g,reportProgress:c,responseType:i,withCredentials:u})}}var Li=(()=>((Li=Li||{})[Li.Sent=0]="Sent",Li[Li.UploadProgress=1]="UploadProgress",Li[Li.ResponseHeader=2]="ResponseHeader",Li[Li.DownloadProgress=3]="DownloadProgress",Li[Li.Response=4]="Response",Li[Li.User=5]="User",Li))();class h_{constructor(t,n=200,r="OK"){this.headers=t.headers||new hu,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class d_ extends h_{constructor(t={}){super(t),this.type=Li.ResponseHeader}clone(t={}){return new d_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Jp extends h_{constructor(t={}){super(t),this.type=Li.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Jp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class GN extends h_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function p_(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let HN=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ch)s=n;else{let h,d;h=i.headers instanceof hu?i.headers:new hu(i.headers),i.params&&(d=i.params instanceof $u?i.params:new $u({fromObject:i.params})),s=new ch(n,r,void 0!==i.body?i.body:null,{headers:h,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=jt(s).pipe(Ou(h=>this.handler.handle(h)));if(n instanceof ch||"events"===i.observe)return u;const c=u.pipe(ou(h=>h instanceof Jp));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Xe(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return c.pipe(Xe(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return c.pipe(Xe(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return c.pipe(Xe(h=>h.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new $u).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,p_(i,r))}post(n,r,i={}){return this.request("POST",n,p_(i,r))}put(n,r,i={}){return this.request("PUT",n,p_(i,r))}}return e.\u0275fac=function(n){return new(n||e)(Nt(LN))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();class jN{constructor(t,n){this.next=t,this.interceptor=n}handle(t){return this.interceptor.intercept(t,this.next)}}const $N=new Ft("HTTP_INTERCEPTORS");let Wj=(()=>{class e{intercept(n,r){return r.handle(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();const Yj=/^\)\]\}',?\n/;let zN=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new q(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((_,w)=>i.setRequestHeader(_,w.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const _=n.detectContentTypeHeader();null!==_&&i.setRequestHeader("Content-Type",_)}if(n.responseType){const _=n.responseType.toLowerCase();i.responseType="json"!==_?_:"text"}const s=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const _=i.statusText||"OK",w=new hu(i.getAllResponseHeaders()),D=function Xj(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return u=new d_({headers:w,status:i.status,statusText:_,url:D}),u},h=()=>{let{headers:_,status:w,statusText:D,url:U}=c(),M=null;204!==w&&(M=typeof i.response>"u"?i.responseText:i.response),0===w&&(w=M?200:0);let x=w>=200&&w<300;if("json"===n.responseType&&"string"==typeof M){const b=M;M=M.replace(Yj,"");try{M=""!==M?JSON.parse(M):null}catch(re){M=b,x&&(x=!1,M={error:re,text:M})}}x?(r.next(new Jp({body:M,headers:_,status:w,statusText:D,url:U||void 0})),r.complete()):r.error(new GN({error:M,headers:_,status:w,statusText:D,url:U||void 0}))},d=_=>{const{url:w}=c(),D=new GN({error:_,status:i.status||0,statusText:i.statusText||"Unknown Error",url:w||void 0});r.error(D)};let g=!1;const m=_=>{g||(r.next(c()),g=!0);let w={type:Li.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),"text"===n.responseType&&!!i.responseText&&(w.partialText=i.responseText),r.next(w)},y=_=>{let w={type:Li.UploadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),r.next(w)};return i.addEventListener("load",h),i.addEventListener("error",d),i.addEventListener("timeout",d),i.addEventListener("abort",d),n.reportProgress&&(i.addEventListener("progress",m),null!==s&&i.upload&&i.upload.addEventListener("progress",y)),i.send(s),r.next({type:Li.Sent}),()=>{i.removeEventListener("error",d),i.removeEventListener("abort",d),i.removeEventListener("load",h),i.removeEventListener("timeout",d),n.reportProgress&&(i.removeEventListener("progress",m),null!==s&&i.upload&&i.upload.removeEventListener("progress",y)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(Nt(lI))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})();const g_=new Ft("XSRF_COOKIE_NAME"),m_=new Ft("XSRF_HEADER_NAME");class qN{}let Zj=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=eI(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(Nt(Wo),Nt(dy),Nt(g_))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})(),y_=(()=>{class e{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(Nt(qN),Nt(m_))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})(),Jj=(()=>{class e{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get($N,[]);this.chain=r.reduceRight((i,s)=>new jN(i,s),this.backend)}return this.chain.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(Nt(FN),Nt(Ds))},e.\u0275prov=Ot({token:e,factory:e.\u0275fac}),e})(),Kj=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:y_,useClass:Wj}]}}static withOptions(n={}){return{ngModule:e,providers:[n.cookieName?{provide:g_,useValue:n.cookieName}:[],n.headerName?{provide:m_,useValue:n.headerName}:[]]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({providers:[y_,{provide:$N,useExisting:y_,multi:!0},{provide:qN,useClass:Zj},{provide:g_,useValue:"XSRF-TOKEN"},{provide:m_,useValue:"X-XSRF-TOKEN"}]}),e})(),Qj=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=oi({type:e}),e.\u0275inj=ao({providers:[HN,{provide:LN,useClass:Jj},zN,{provide:FN,useExisting:zN}],imports:[Kj.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),e})();var Kp=ee(4424);let e5=(()=>{class e{constructor(){this.centroides=Kp.createInstance({name:"centroides"}),this.poligons=Kp.createInstance({name:"poligons"})}getCentroides(){return this.centroides}getPoligons(){return this.poligons}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ot({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),t5=(()=>{class e{constructor(n,r,i){this.addScriptService=n,this.httpClient=r,this.localStorageService=i,this.existCentroids=!0,this.existPoligons=!0,this.selection=new ju("kilometers"),this.distance=new ju(10),this.longitude=new ju(-88.6942109374484),this.latitude=new ju(18.0066415093998),this.radio=new ju(.5),this.circlePoints=new ju(50),this.centroides={},this.poligons=[],this.dataArray=[],this.isNear=!1,this.fieldId=[],this.initCentroide=0,this.isInside=!1,this.insidePolygon=[],this.polygonArray=[],this.otherPolygons=[],this.poligonsNulls=[],this.strangePolygons=[],this.nearbyPolygons=[],this.localStorageService.getCentroides().keys().then(c=>{0!==c.length?(console.log("existe la base de datos centroides"),this.existCentroids=!0):this.existCentroids=!1}),this.localStorageService.getPoligons().keys().then(c=>{0!==c.length?(console.log("existe la base de datos pol\xedgonos"),this.existPoligons=!0):this.existPoligons=!1})}ngOnInit(){this.httpClient.get("assets/centroides/Cane_Layer_Centroid_Features.json").subscribe(n=>{this.centroides=n}),this.httpClient.get("assets/poligonos/Cane_Layer_PE_2022_2023_Jason.geojson").subscribe(n=>{this.poligons=n})}saveCentroids(){const n=this.localStorageService.getCentroides(),r=this.centroides.features;if(r)for(let i of r)n.setItem(i.attributes?.FIELD_ID,{longitude:i.attributes?.Longitude,latitude:i.attributes?.Latitude}).then(()=>{console.log("Nombres guardados con \xe9xito")}).catch(s=>{console.error("Error al guardar nombres:",s)})}savePoligons(){const n=this.localStorageService.getPoligons(),r=this.poligons.features;if(r)for(let i of r){let s="";s=i.properties.FIELD_ID||"vacio",console.log(i.properties),n.setItem(s,{coordinates:i.geometry.coordinates,PRODUCTION_OWNER:i.properties.PRODUCTION_OWNER,STATUS:i.properties.STATUS,CROP_CLASS:i.properties.CROP_CLASS,BSI_CODE:i.properties.BSI_CODE,PARCEL_LOCATION:i.properties.PARCEL_LOCATION,CreationDate:i.properties.CreationDate,EditDate:i.properties.EditDate,ACREAGE:i.properties.ACREAGE,GlobalID:i.properties.GlobalID,OBJECTID:i.properties.OBJECTID,TERRAIN:i.properties.TERRAIN,DATE_PLANTED:i.properties.DATE_PLANTED,GEOGRAPHICAL_ZONE:i.properties.GEOGRAPHICAL_ZONE}).then(()=>{console.log("Poligonos guardados con \xe9xito")}).catch(u=>{console.error("Error al guardar nombres:",u)})}}checkCentroids(){this.fieldId=[],this.dataArray=[],this.isNear=!1,this.initCentroide=0;const n=performance.now(),r=this.localStorageService.getCentroides();r.keys().then(i=>{const s=i.map(u=>r.getItem(u).then(c=>{this.dataArray.push({key:u,value:c})}));return Promise.all(s)}).then(()=>{const i=ul([this.longitude.value,this.latitude.value]),s=this.distance.value;for(const m of this.dataArray)EG(i,[m.value.longitude,m.value.latitude],{units:this.selection.value})<=s&&(this.isNear=!0,this.fieldId.push(m.key));const c=(performance.now()-n)/1e3,h=document.getElementById("centroids"),d={Total:this.fieldId.length,centroidesFieldId:this.fieldId};document.getElementById("timeCentroids").textContent=`Total time: ${c} seconds`,h.textContent=JSON.stringify(d,null,2)}).catch(i=>{console.error(i)})}insideThePolygon(){this.isInside=!1,this.insidePolygon=[],this.polygonArray=[],this.otherPolygons=[],this.poligonsNulls=[],this.strangePolygons=[],this.nearbyPolygons=[];const n=performance.now(),r=this.localStorageService.getPoligons(),i=this.fieldId,s=i.map(c=>r.getItem(c)),u=ul([this.longitude.value,this.latitude.value]);Promise.all(s).then(c=>{console.log("total values. ",c.length),c.forEach((h,d)=>{if(null!==h){if(1==h.coordinates.length&&this.polygonArray.push({fieldId:i[d],coordinates:h.coordinates,PRODUCTION_OWNER:h.PRODUCTION_OWNER,STATUS:h.STATUS,CROP_CLASS:h.CROP_CLASS,ACREAGE:h.ACREAGE,BSI_CODE:h.BSI_CODE,PARCEL_LOCATION:h.PARCEL_LOCATION,CreationDate:h.CreationDate,EditDate:h.EditDate,GlobalID:h.GlobalID,OBJECTID:h.OBJECTID,TERRAIN:h.TERRAIN,DATE_PLANTED:h.DATE_PLANTED,GEOGRAPHICAL_ZONE:h.GEOGRAPHICAL_ZONE}),h.coordinates.length>1){const g=i[d];for(let m of h.coordinates)1===m.length?this.otherPolygons.push({fieldId:g,coordinates:m,PRODUCTION_OWNER:h.PRODUCTION_OWNER,STATUS:h.STATUS,CROP_CLASS:h.CROP_CLASS,ACREAGE:h.ACREAGE,BSI_CODE:h.BSI_CODE,PARCEL_LOCATION:h.PARCEL_LOCATION,CreationDate:h.CreationDate,EditDate:h.EditDate,GlobalID:h.GlobalID,OBJECTID:h.OBJECTID,TERRAIN:h.TERRAIN,DATE_PLANTED:h.DATE_PLANTED,GEOGRAPHICAL_ZONE:h.GEOGRAPHICAL_ZONE}):this.strangePolygons.push({fieldId:g,coordinates:[m],PRODUCTION_OWNER:h.PRODUCTION_OWNER,STATUS:h.STATUS,CROP_CLASS:h.CROP_CLASS,ACREAGE:h.ACREAGE,BSI_CODE:h.BSI_CODE,PARCEL_LOCATION:h.PARCEL_LOCATION,CreationDate:h.CreationDate,EditDate:h.EditDate,GlobalID:h.GlobalID,OBJECTID:h.OBJECTID,TERRAIN:h.TERRAIN,DATE_PLANTED:h.DATE_PLANTED,GEOGRAPHICAL_ZONE:h.GEOGRAPHICAL_ZONE})}}else null===h&&this.poligonsNulls.push(i[d])})}).then(()=>{let d=function jG(e,t,n){void 0===n&&(n={});for(var r=n.steps||64,i=n.properties?n.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},s=[],u=0;u<r;u++)s.push(HG(e,t,-360*u/r,n).geometry.coordinates);return s.push(s[0]),ia([s],i)}(u,this.radio.value,{steps:this.circlePoints.value,units:this.selection.value,properties:{radioPoint:"radioPoint"}});for(let le of d.geometry.coordinates[0]){for(let _e of this.polygonArray)ku(le,ia(_e.coordinates))&&this.nearbyPolygons.push({fieldId:_e.fieldId,PRODUCTION_OWNER:_e.PRODUCTION_OWNER,STATUS:_e.STATUS,CROP_CLASS:_e.CROP_CLASS,ACREAGE:_e.ACREAGE,BSI_CODE:_e.BSI_CODE,PARCEL_LOCATION:_e.PARCEL_LOCATION,CreationDate:_e.CreationDate,EditDate:_e.EditDate,GlobalID:_e.GlobalID,OBJECTID:_e.OBJECTID,TERRAIN:_e.TERRAIN,DATE_PLANTED:_e.DATE_PLANTED,GEOGRAPHICAL_ZONE:_e.GEOGRAPHICAL_ZONE});for(let _e of this.otherPolygons)ku(le,ia(_e.coordinates))&&this.nearbyPolygons.push({fieldId:_e.fieldId,PRODUCTION_OWNER:_e.PRODUCTION_OWNER,STATUS:_e.STATUS,CROP_CLASS:_e.CROP_CLASS,ACREAGE:_e.ACREAGE,BSI_CODE:_e.BSI_CODE,PARCEL_LOCATION:_e.PARCEL_LOCATION,CreationDate:_e.CreationDate,EditDate:_e.EditDate,GlobalID:_e.GlobalID,OBJECTID:_e.OBJECTID,TERRAIN:_e.TERRAIN,DATE_PLANTED:_e.DATE_PLANTED,GEOGRAPHICAL_ZONE:_e.GEOGRAPHICAL_ZONE});for(let _e of this.strangePolygons)ku(le,ia(_e.coordinates))&&this.nearbyPolygons.push({fieldId:_e.fieldId,PRODUCTION_OWNER:_e.PRODUCTION_OWNER,STATUS:_e.STATUS,CROP_CLASS:_e.CROP_CLASS,ACREAGE:_e.ACREAGE,BSI_CODE:_e.BSI_CODE,PARCEL_LOCATION:_e.PARCEL_LOCATION,CreationDate:_e.CreationDate,EditDate:_e.EditDate,GlobalID:_e.GlobalID,OBJECTID:_e.OBJECTID,TERRAIN:_e.TERRAIN,DATE_PLANTED:_e.DATE_PLANTED,GEOGRAPHICAL_ZONE:_e.GEOGRAPHICAL_ZONE})}for(let le of this.polygonArray){let _e=ia(le.coordinates);ku(u,_e)&&(this.isInside=!0,this.insidePolygon.push({fieldId:le.fieldId,PRODUCTION_OWNER:le.PRODUCTION_OWNER,STATUS:le.STATUS,CROP_CLASS:le.CROP_CLASS,ACREAGE:le.ACREAGE,BSI_CODE:le.BSI_CODE,PARCEL_LOCATION:le.PARCEL_LOCATION,CreationDate:le.CreationDate,EditDate:le.EditDate,GlobalID:le.GlobalID,OBJECTID:le.OBJECTID,TERRAIN:le.TERRAIN,DATE_PLANTED:le.DATE_PLANTED,GEOGRAPHICAL_ZONE:le.GEOGRAPHICAL_ZONE}))}for(let le of this.otherPolygons){let _e=ia(le.coordinates);ku(u,_e)&&(this.isInside=!0,this.insidePolygon.push({fieldId:le.fieldId,PRODUCTION_OWNER:le.PRODUCTION_OWNER,STATUS:le.STATUS,CROP_CLASS:le.CROP_CLASS,ACREAGE:le.ACREAGE,BSI_CODE:le.BSI_CODE,PARCEL_LOCATION:le.PARCEL_LOCATION,CreationDate:le.CreationDate,EditDate:le.EditDate,GlobalID:le.GlobalID,OBJECTID:le.OBJECTID,TERRAIN:le.TERRAIN,DATE_PLANTED:le.DATE_PLANTED,GEOGRAPHICAL_ZONE:le.GEOGRAPHICAL_ZONE}))}for(let le of this.strangePolygons){let _e=ia(le.coordinates);ku(u,_e)&&(this.isInside=!0,this.insidePolygon.push({fieldId:le.fieldId,PRODUCTION_OWNER:le.PRODUCTION_OWNER,STATUS:le.STATUS,CROP_CLASS:le.CROP_CLASS,ACREAGE:le.ACREAGE,BSI_CODE:le.BSI_CODE,PARCEL_LOCATION:le.PARCEL_LOCATION,CreationDate:le.CreationDate,EditDate:le.EditDate,GlobalID:le.GlobalID,OBJECTID:le.OBJECTID,TERRAIN:le.TERRAIN,DATE_PLANTED:le.DATE_PLANTED,GEOGRAPHICAL_ZONE:le.GEOGRAPHICAL_ZONE}))}const m=(performance.now()-n)/1e3,y=[],_=new Set;for(const le of this.nearbyPolygons){const _e=le.fieldId;_.has(_e)||(y.push(le),_.add(_e))}const w=document.getElementById("timePoligons"),D=document.getElementById("poligons"),U=document.getElementById("poligon"),M=document.getElementById("normalPolygons"),x=document.getElementById("morePolygons"),b=document.getElementById("strangePolygons"),re=document.getElementById("nullPolygons"),ae={total:this.insidePolygon.length,insidePolygon:this.insidePolygon},Ce={total:y.length,nearbyPolygons:y};w.textContent=`Total time: ${m} seconds`,U.textContent=JSON.stringify(ae,null,2),D.textContent=JSON.stringify(Ce,null,2),M.textContent=`Normal Poligons: ${this.polygonArray.length}`,x.textContent=`More than one polygon: ${this.otherPolygons.length}`,b.textContent=`Strange Poligons: ${this.strangePolygons.length}`,re.textContent=`Null polygons: ${this.poligonsNulls.length}`}).catch(c=>{console.error("Error al buscar claves:",c)})}verificarPunto(){if(this.isInside?console.log(`El punto est\xe1 dentro de los pol\xedgonos: ${this.insidePolygon.join(", ")}.`):console.log("El punto no est\xe1 dentro de ninguna ciudad."),0!==this.nearbyPolygons){let r=[...new Set(this.nearbyPolygons)];console.log("Los Pol\xedgonos cercanos son: ",r)}}}return e.\u0275fac=function(n){return new(n||e)(et(ON),et(HN),et(e5))},e.\u0275cmp=la({type:e,selectors:[["app-root"]],decls:65,vars:15,consts:[["name","","id","",3,"formControl"],["value","kilometers"],["value","miles"],["type","number",3,"formControl"],[3,"disabled","click"],[3,"click"],[1,"content"],["id","timeCentroids"],["id","centroids"],["id","timePoligons"],["id","poligons"],["id","poligon"],["id","normalPolygons"],["id","morePolygons"],["id","strangePolygons"],["id","nullPolygons"]],template:function(n,r){1&n&&(Ir(0,"h1"),fi(1,"Coordinate Verification"),Ar(),Ir(2,"p"),fi(3," select a measurement kilometers or miles "),Ir(4,"select",0)(5,"option",1),fi(6,"kilometers"),Ar(),Ir(7,"option",2),fi(8,"miles"),Ar()()(),Ir(9,"p"),fi(10),$o(11,"input",3),Ar(),Ir(12,"h2"),fi(13),Ar(),Ir(14,"p"),fi(15," add the longitude coordinate "),$o(16,"input",3),Ar(),Ir(17,"h2"),fi(18),Ar(),Ir(19,"p"),fi(20," add the latitude coordinate "),$o(21,"input",3),Ar(),Ir(22,"h2"),fi(23),Ar(),Ir(24,"p"),fi(25),$o(26,"input",3),Ar(),Ir(27,"h2"),fi(28),Ar(),Ir(29,"p"),fi(30," Number of points in the radius of the circle "),$o(31,"input",3),Ar(),Ir(32,"h2"),fi(33),Ar(),Ir(34,"button",4),vo("click",function(){return r.saveCentroids()}),fi(35," Save Centroids\n"),Ar(),Ir(36,"button",5),vo("click",function(){return r.checkCentroids()}),fi(37,"verificar Centroides"),Ar(),Ir(38,"button",5),vo("click",function(){return r.insideThePolygon()}),fi(39,"Verificar con DB de poligonos"),Ar(),$o(40,"br"),Ir(41,"button",4),vo("click",function(){return r.savePoligons()}),fi(42," Save polygons\n"),Ar(),Ir(43,"div",6)(44,"div")(45,"h2"),fi(46,"near centroids"),Ar(),$o(47,"h3",7),Ir(48,"code"),$o(49,"pre",8),Ar()(),Ir(50,"div")(51,"h2"),fi(52,"nearby Polygons"),Ar(),$o(53,"h3",9),Ir(54,"code"),$o(55,"pre",10),Ar(),Ir(56,"h2"),fi(57,"Inside Polygon"),Ar(),Ir(58,"code"),$o(59,"pre",11),Ar()(),Ir(60,"div"),$o(61,"p",12)(62,"p",13)(63,"p",14)(64,"p",15),Ar()()),2&n&&(Po(4),_a("formControl",r.selection),Po(6),Ca(" add distance to check in ",r.selection.value," "),Po(1),_a("formControl",r.distance),Po(2),Ca("Distance = ",r.distance.value,""),Po(3),_a("formControl",r.longitude),Po(2),Ca("Longitude = ",r.longitude.value,""),Po(3),_a("formControl",r.latitude),Po(2),Ca("Latitude = ",r.latitude.value,""),Po(2),Ca(" Point radius in ",r.selection.value," "),Po(1),_a("formControl",r.radio),Po(2),Ca("Point radius = ",r.radio.value,""),Po(3),_a("formControl",r.circlePoints),Po(2),Ca("Circle Points = ",r.circlePoints.value,""),Po(1),_a("disabled",r.existCentroids),Po(7),_a("disabled",r.existPoligons))},dependencies:[wN,DN,Vp,i_,Xp,KM,s_],styles:[".content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}"]}),e})();Kp.config({driver:Kp.INDEXEDDB,name:"myApp",version:1,storeName:"myStore",description:"My IndexedDB storage"});let n5=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=oi({type:e,bootstrap:[t5]}),e.\u0275inj=ao({providers:[ON],imports:[c3,JU,kj,Qj,Bj]}),e})();(function C2(){ND=!1})(),l3().bootstrapModule(n5).catch(e=>console.error(e))},1503:(Ge,De,ee)=>{"use strict";var X=ee(3269);function fe(se){var ne=[1/0,1/0,-1/0,-1/0];return X.coordEach(se,function(Q){ne[0]>Q[0]&&(ne[0]=Q[0]),ne[1]>Q[1]&&(ne[1]=Q[1]),ne[2]<Q[0]&&(ne[2]=Q[0]),ne[3]<Q[1]&&(ne[3]=Q[1])}),ne}fe.default=fe,De.Z=fe},8275:(Ge,De)=>{"use strict";function ee(Z,te,V){void 0===V&&(V={});var Be={type:"Feature"};return(0===V.id||V.id)&&(Be.id=V.id),V.bbox&&(Be.bbox=V.bbox),Be.properties=te||{},Be.geometry=Z,Be}function X(Z,te,V){if(void 0===V&&(V={}),!Z)throw new Error("coordinates is required");if(!Array.isArray(Z))throw new Error("coordinates must be an Array");if(Z.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!N(Z[0])||!N(Z[1]))throw new Error("coordinates must contain numbers");return ee({type:"Point",coordinates:Z},te,V)}function se(Z,te,V){void 0===V&&(V={});for(var Be=0,Me=Z;Be<Me.length;Be++){var W=Me[Be];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var me=0;me<W[W.length-1].length;me++)if(W[W.length-1][me]!==W[0][me])throw new Error("First and last Position are not equivalent.")}return ee({type:"Polygon",coordinates:Z},te,V)}function Q(Z,te,V){if(void 0===V&&(V={}),Z.length<2)throw new Error("coordinates must be an array of two or more positions");return ee({type:"LineString",coordinates:Z},te,V)}function Se(Z,te){void 0===te&&(te={});var V={type:"FeatureCollection"};return te.id&&(V.id=te.id),te.bbox&&(V.bbox=te.bbox),V.features=Z,V}function Ae(Z,te,V){return void 0===V&&(V={}),ee({type:"MultiLineString",coordinates:Z},te,V)}function He(Z,te,V){return void 0===V&&(V={}),ee({type:"MultiPoint",coordinates:Z},te,V)}function ge(Z,te,V){return void 0===V&&(V={}),ee({type:"MultiPolygon",coordinates:Z},te,V)}function Ve(Z,te){void 0===te&&(te="kilometers");var V=De.factors[te];if(!V)throw new Error(te+" units is invalid");return Z*V}function R(Z,te){void 0===te&&(te="kilometers");var V=De.factors[te];if(!V)throw new Error(te+" units is invalid");return Z/V}function T(Z){return Z%(2*Math.PI)*180/Math.PI}function N(Z){return!isNaN(Z)&&null!==Z&&!Array.isArray(Z)}Object.defineProperty(De,"__esModule",{value:!0}),De.earthRadius=6371008.8,De.factors={centimeters:100*De.earthRadius,centimetres:100*De.earthRadius,degrees:De.earthRadius/111325,feet:3.28084*De.earthRadius,inches:39.37*De.earthRadius,kilometers:De.earthRadius/1e3,kilometres:De.earthRadius/1e3,meters:De.earthRadius,metres:De.earthRadius,miles:De.earthRadius/1609.344,millimeters:1e3*De.earthRadius,millimetres:1e3*De.earthRadius,nauticalmiles:De.earthRadius/1852,radians:1,yards:1.0936*De.earthRadius},De.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/De.earthRadius,yards:1.0936133},De.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},De.feature=ee,De.geometry=function H(Z,te,V){switch(void 0===V&&(V={}),Z){case"Point":return X(te).geometry;case"LineString":return Q(te).geometry;case"Polygon":return se(te).geometry;case"MultiPoint":return He(te).geometry;case"MultiLineString":return Ae(te).geometry;case"MultiPolygon":return ge(te).geometry;default:throw new Error(Z+" is invalid")}},De.point=X,De.points=function fe(Z,te,V){return void 0===V&&(V={}),Se(Z.map(function(Be){return X(Be,te)}),V)},De.polygon=se,De.polygons=function ne(Z,te,V){return void 0===V&&(V={}),Se(Z.map(function(Be){return se(Be,te)}),V)},De.lineString=Q,De.lineStrings=function ue(Z,te,V){return void 0===V&&(V={}),Se(Z.map(function(Be){return Q(Be,te)}),V)},De.featureCollection=Se,De.multiLineString=Ae,De.multiPoint=He,De.multiPolygon=ge,De.geometryCollection=function he(Z,te,V){return void 0===V&&(V={}),ee({type:"GeometryCollection",geometries:Z},te,V)},De.round=function be(Z,te){if(void 0===te&&(te=0),te&&!(te>=0))throw new Error("precision must be a positive number");var V=Math.pow(10,te||0);return Math.round(Z*V)/V},De.radiansToLength=Ve,De.lengthToRadians=R,De.lengthToDegrees=function j(Z,te){return T(R(Z,te))},De.bearingToAzimuth=function A(Z){var te=Z%360;return te<0&&(te+=360),te},De.radiansToDegrees=T,De.degreesToRadians=function O(Z){return Z%360*Math.PI/180},De.convertLength=function Y(Z,te,V){if(void 0===te&&(te="kilometers"),void 0===V&&(V="kilometers"),!(Z>=0))throw new Error("length must be a positive number");return Ve(R(Z,te),V)},De.convertArea=function S(Z,te,V){if(void 0===te&&(te="meters"),void 0===V&&(V="kilometers"),!(Z>=0))throw new Error("area must be a positive number");var Be=De.areaFactors[te];if(!Be)throw new Error("invalid original units");var Me=De.areaFactors[V];if(!Me)throw new Error("invalid final units");return Z/Be*Me},De.isNumber=N,De.isObject=function k(Z){return!!Z&&Z.constructor===Object},De.validateBBox=function C(Z){if(!Z)throw new Error("bbox is required");if(!Array.isArray(Z))throw new Error("bbox must be an Array");if(4!==Z.length&&6!==Z.length)throw new Error("bbox must be an Array of 4 or 6 numbers");Z.forEach(function(te){if(!N(te))throw new Error("bbox must only contain numbers")})},De.validateId=function ve(Z){if(!Z)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof Z))throw new Error("id must be a number or a string")}},3269:(Ge,De,ee)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var H=ee(8275);function X(O,Y,S){if(null!==O)for(var N,k,C,ve,Z,te,V,W,Be=0,Me=0,me=O.type,q="FeatureCollection"===me,de="Feature"===me,we=q?O.features.length:1,z=0;z<we;z++){Z=(W=!!(V=q?O.features[z].geometry:de?O.geometry:O)&&"GeometryCollection"===V.type)?V.geometries.length:1;for(var Re=0;Re<Z;Re++){var Oe=0,Ke=0;if(null!==(ve=W?V.geometries[Re]:V)){te=ve.coordinates;var Le=ve.type;switch(Be=!S||"Polygon"!==Le&&"MultiPolygon"!==Le?0:1,Le){case null:break;case"Point":if(!1===Y(te,Me,z,Oe,Ke))return!1;Me++,Oe++;break;case"LineString":case"MultiPoint":for(N=0;N<te.length;N++){if(!1===Y(te[N],Me,z,Oe,Ke))return!1;Me++,"MultiPoint"===Le&&Oe++}"LineString"===Le&&Oe++;break;case"Polygon":case"MultiLineString":for(N=0;N<te.length;N++){for(k=0;k<te[N].length-Be;k++){if(!1===Y(te[N][k],Me,z,Oe,Ke))return!1;Me++}"MultiLineString"===Le&&Oe++,"Polygon"===Le&&Ke++}"Polygon"===Le&&Oe++;break;case"MultiPolygon":for(N=0;N<te.length;N++){for(Ke=0,k=0;k<te[N].length;k++){for(C=0;C<te[N][k].length-Be;C++){if(!1===Y(te[N][k][C],Me,z,Oe,Ke))return!1;Me++}Ke++}Oe++}break;case"GeometryCollection":for(N=0;N<ve.geometries.length;N++)if(!1===X(ve.geometries[N],Y,S))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function se(O,Y){var S;switch(O.type){case"FeatureCollection":for(S=0;S<O.features.length&&!1!==Y(O.features[S].properties,S);S++);break;case"Feature":Y(O.properties,0)}}function Q(O,Y){if("Feature"===O.type)Y(O,0);else if("FeatureCollection"===O.type)for(var S=0;S<O.features.length&&!1!==Y(O.features[S],S);S++);}function Ae(O,Y){var S,N,k,C,ve,Z,te,V,Be,Me,W=0,me="FeatureCollection"===O.type,q="Feature"===O.type,de=me?O.features.length:1;for(S=0;S<de;S++){for(V=me?O.features[S].properties:q?O.properties:{},Be=me?O.features[S].bbox:q?O.bbox:void 0,Me=me?O.features[S].id:q?O.id:void 0,ve=(te=!!(Z=me?O.features[S].geometry:q?O.geometry:O)&&"GeometryCollection"===Z.type)?Z.geometries.length:1,k=0;k<ve;k++)if(null!==(C=te?Z.geometries[k]:Z))switch(C.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===Y(C,W,V,Be,Me))return!1;break;case"GeometryCollection":for(N=0;N<C.geometries.length;N++)if(!1===Y(C.geometries[N],W,V,Be,Me))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===Y(null,W,V,Be,Me))return!1;W++}}function ge(O,Y){Ae(O,function(S,N,k,C,ve){var te,Z=null===S?null:S.type;switch(Z){case null:case"Point":case"LineString":case"Polygon":return!1!==Y(H.feature(S,k,{bbox:C,id:ve}),N,0)&&void 0}switch(Z){case"MultiPoint":te="Point";break;case"MultiLineString":te="LineString";break;case"MultiPolygon":te="Polygon"}for(var V=0;V<S.coordinates.length;V++)if(!1===Y(H.feature({type:te,coordinates:S.coordinates[V]},k),N,V))return!1})}function be(O,Y){ge(O,function(S,N,k){var C=0;if(S.geometry){var ve=S.geometry.type;if("Point"!==ve&&"MultiPoint"!==ve){var Z,te=0,V=0,Be=0;if(!1===X(S,function(Me,W,me,q,de){if(void 0===Z||N>te||q>V||de>Be)return Z=Me,te=N,V=q,Be=de,void(C=0);var we=H.lineString([Z,Me],S.properties);if(!1===Y(we,N,k,de,C))return!1;C++,Z=Me}))return!1}}})}function R(O,Y){if(!O)throw new Error("geojson is required");ge(O,function(S,N,k){if(null!==S.geometry){var ve=S.geometry.coordinates;switch(S.geometry.type){case"LineString":if(!1===Y(S,N,k,0,0))return!1;break;case"Polygon":for(var Z=0;Z<ve.length;Z++)if(!1===Y(H.lineString(ve[Z],S.properties),N,k,Z))return!1}}})}De.coordAll=function Se(O){var Y=[];return X(O,function(S){Y.push(S)}),Y},De.coordEach=X,De.coordReduce=function fe(O,Y,S,N){var k=S;return X(O,function(C,ve,Z,te,V){k=0===ve&&void 0===S?C:Y(k,C,ve,Z,te,V)},N),k},De.featureEach=Q,De.featureReduce=function ue(O,Y,S){var N=S;return Q(O,function(k,C){N=0===C&&void 0===S?k:Y(N,k,C)}),N},De.findPoint=function T(O,Y){if(!H.isObject(Y=Y||{}))throw new Error("options is invalid");var Z,S=Y.featureIndex||0,N=Y.multiFeatureIndex||0,k=Y.geometryIndex||0,C=Y.coordIndex||0,ve=Y.properties;switch(O.type){case"FeatureCollection":S<0&&(S=O.features.length+S),ve=ve||O.features[S].properties,Z=O.features[S].geometry;break;case"Feature":ve=ve||O.properties,Z=O.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Z=O;break;default:throw new Error("geojson is invalid")}if(null===Z)return null;var te=Z.coordinates;switch(Z.type){case"Point":return H.point(te,ve,Y);case"MultiPoint":return N<0&&(N=te.length+N),H.point(te[N],ve,Y);case"LineString":return C<0&&(C=te.length+C),H.point(te[C],ve,Y);case"Polygon":return k<0&&(k=te.length+k),C<0&&(C=te[k].length+C),H.point(te[k][C],ve,Y);case"MultiLineString":return N<0&&(N=te.length+N),C<0&&(C=te[N].length+C),H.point(te[N][C],ve,Y);case"MultiPolygon":return N<0&&(N=te.length+N),k<0&&(k=te[N].length+k),C<0&&(C=te[N][k].length-C),H.point(te[N][k][C],ve,Y)}throw new Error("geojson is invalid")},De.findSegment=function A(O,Y){if(!H.isObject(Y=Y||{}))throw new Error("options is invalid");var Z,S=Y.featureIndex||0,N=Y.multiFeatureIndex||0,k=Y.geometryIndex||0,C=Y.segmentIndex||0,ve=Y.properties;switch(O.type){case"FeatureCollection":S<0&&(S=O.features.length+S),ve=ve||O.features[S].properties,Z=O.features[S].geometry;break;case"Feature":ve=ve||O.properties,Z=O.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":Z=O;break;default:throw new Error("geojson is invalid")}if(null===Z)return null;var te=Z.coordinates;switch(Z.type){case"Point":case"MultiPoint":return null;case"LineString":return C<0&&(C=te.length+C-1),H.lineString([te[C],te[C+1]],ve,Y);case"Polygon":return k<0&&(k=te.length+k),C<0&&(C=te[k].length+C-1),H.lineString([te[k][C],te[k][C+1]],ve,Y);case"MultiLineString":return N<0&&(N=te.length+N),C<0&&(C=te[N].length+C-1),H.lineString([te[N][C],te[N][C+1]],ve,Y);case"MultiPolygon":return N<0&&(N=te.length+N),k<0&&(k=te[N].length+k),C<0&&(C=te[N][k].length-C-1),H.lineString([te[N][k][C],te[N][k][C+1]],ve,Y)}throw new Error("geojson is invalid")},De.flattenEach=ge,De.flattenReduce=function he(O,Y,S){var N=S;return ge(O,function(k,C,ve){N=0===C&&0===ve&&void 0===S?k:Y(N,k,C,ve)}),N},De.geomEach=Ae,De.geomReduce=function He(O,Y,S){var N=S;return Ae(O,function(k,C,ve,Z,te){N=0===C&&void 0===S?k:Y(N,k,C,ve,Z,te)}),N},De.lineEach=R,De.lineReduce=function j(O,Y,S){var N=S;return R(O,function(k,C,ve,Z){N=0===C&&void 0===S?k:Y(N,k,C,ve,Z)}),N},De.propEach=se,De.propReduce=function ne(O,Y,S){var N=S;return se(O,function(k,C){N=0===C&&void 0===S?k:Y(N,k,C)}),N},De.segmentEach=be,De.segmentReduce=function Ve(O,Y,S){var N=S,k=!1;return be(O,function(C,ve,Z,te,V){N=!1===k&&void 0===S?C:Y(N,C,ve,Z,te,V),k=!0}),N}},5834:(Ge,De,ee)=>{"use strict";var H=ee(5203),X=ee(5685),fe=X(H("String.prototype.indexOf"));Ge.exports=function(ne,Q){var ue=H(ne,!!Q);return"function"==typeof ue&&fe(ne,".prototype.")>-1?X(ue):ue}},5685:(Ge,De,ee)=>{"use strict";var H=ee(4444),X=ee(5203),fe=X("%Function.prototype.apply%"),se=X("%Function.prototype.call%"),ne=X("%Reflect.apply%",!0)||H.call(se,fe),Q=X("%Object.getOwnPropertyDescriptor%",!0),ue=X("%Object.defineProperty%",!0),Se=X("%Math.max%");if(ue)try{ue({},"a",{value:1})}catch{ue=null}Ge.exports=function(ge){var he=ne(H,se,arguments);if(Q&&ue){var be=Q(he,"length");be.configurable&&ue(he,"length",{value:1+Se(0,ge.length-(arguments.length-1))})}return he};var Ae=function(){return ne(H,fe,arguments)};ue?ue(Ge.exports,"apply",{value:Ae}):Ge.exports.apply=Ae},1335:(Ge,De,ee)=>{"use strict";var H=ee(3156),X=ee(7253),fe=ee(3870),se=ee(7563).orient2d;function ne(S,N,k){N=Math.max(0,void 0===N?2:N),k=k||0;var C=function Ve(S){for(var N=S[0],k=S[0],C=S[0],ve=S[0],Z=0;Z<S.length;Z++){var te=S[Z];te[0]<N[0]&&(N=te),te[0]>C[0]&&(C=te),te[1]<k[1]&&(k=te),te[1]>ve[1]&&(ve=te)}var V=[N,k,C,ve],Be=V.slice();for(Z=0;Z<S.length;Z++)fe(S[Z],V)||Be.push(S[Z]);return function Y(S){S.sort(O);for(var N=[],k=0;k<S.length;k++){for(;N.length>=2&&ge(N[N.length-2],N[N.length-1],S[k])<=0;)N.pop();N.push(S[k])}for(var C=[],ve=S.length-1;ve>=0;ve--){for(;C.length>=2&&ge(C[C.length-2],C[C.length-1],S[ve])<=0;)C.pop();C.push(S[ve])}return C.pop(),N.pop(),N.concat(C)}(Be)}(S),ve=new H(16);ve.toBBox=function(Ke){return{minX:Ke[0],minY:Ke[1],maxX:Ke[0],maxY:Ke[1]}},ve.compareMinX=function(Ke,Le){return Ke[0]-Le[0]},ve.compareMinY=function(Ke,Le){return Ke[1]-Le[1]},ve.load(S);for(var V,Z=[],te=0;te<C.length;te++){var Be=C[te];ve.remove(Be),V=R(Be,V),Z.push(V)}var Me=new H(16);for(te=0;te<Z.length;te++)Me.insert(be(Z[te]));for(var W=N*N,me=k*k;Z.length;){var q=Z.shift(),de=q.p,we=q.next.p,z=j(de,we);if(!(z<me)){var Re=z/W;(Be=Q(ve,q.prev.p,de,we,q.next.next.p,Re,Me))&&Math.min(j(Be,de),j(Be,we))<=Re&&(Z.push(q),Z.push(R(Be,q)),ve.remove(Be),Me.remove(q),Me.insert(be(q)),Me.insert(be(q.next)))}}q=V;var Oe=[];do{Oe.push(q.p),q=q.next}while(q!==V);return Oe.push(q.p),Oe}function Q(S,N,k,C,ve,Z,te){for(var V=new X([],ue),Be=S.data;Be;){for(var Me=0;Me<Be.children.length;Me++){var W=Be.children[Me],me=Be.leaf?A(W,k,C):Se(k,C,W);me>Z||V.push({node:W,dist:me})}for(;V.length&&!V.peek().node.children;){var q=V.pop(),de=q.node,we=A(de,N,k),z=A(de,C,ve);if(q.dist<we&&q.dist<z&&He(k,de,te)&&He(C,de,te))return de}(Be=V.pop())&&(Be=Be.node)}return null}function ue(S,N){return S.dist-N.dist}function Se(S,N,k){if(Ae(S,k)||Ae(N,k))return 0;var C=T(S[0],S[1],N[0],N[1],k.minX,k.minY,k.maxX,k.minY);if(0===C)return 0;var ve=T(S[0],S[1],N[0],N[1],k.minX,k.minY,k.minX,k.maxY);if(0===ve)return 0;var Z=T(S[0],S[1],N[0],N[1],k.maxX,k.minY,k.maxX,k.maxY);if(0===Z)return 0;var te=T(S[0],S[1],N[0],N[1],k.minX,k.maxY,k.maxX,k.maxY);return 0===te?0:Math.min(C,ve,Z,te)}function Ae(S,N){return S[0]>=N.minX&&S[0]<=N.maxX&&S[1]>=N.minY&&S[1]<=N.maxY}function He(S,N,k){for(var C=Math.min(S[0],N[0]),ve=Math.min(S[1],N[1]),Z=Math.max(S[0],N[0]),te=Math.max(S[1],N[1]),V=k.search({minX:C,minY:ve,maxX:Z,maxY:te}),Be=0;Be<V.length;Be++)if(he(V[Be].p,V[Be].next.p,S,N))return!1;return!0}function ge(S,N,k){return se(S[0],S[1],N[0],N[1],k[0],k[1])}function he(S,N,k,C){return S!==C&&N!==k&&ge(S,N,k)>0!=ge(S,N,C)>0&&ge(k,C,S)>0!=ge(k,C,N)>0}function be(S){var N=S.p,k=S.next.p;return S.minX=Math.min(N[0],k[0]),S.minY=Math.min(N[1],k[1]),S.maxX=Math.max(N[0],k[0]),S.maxY=Math.max(N[1],k[1]),S}function R(S,N){var k={p:S,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return N?(k.next=N.next,k.prev=N,N.next.prev=k,N.next=k):(k.prev=k,k.next=k),k}function j(S,N){var k=S[0]-N[0],C=S[1]-N[1];return k*k+C*C}function A(S,N,k){var C=N[0],ve=N[1],Z=k[0]-C,te=k[1]-ve;if(0!==Z||0!==te){var V=((S[0]-C)*Z+(S[1]-ve)*te)/(Z*Z+te*te);V>1?(C=k[0],ve=k[1]):V>0&&(C+=Z*V,ve+=te*V)}return(Z=S[0]-C)*Z+(te=S[1]-ve)*te}function T(S,N,k,C,ve,Z,te,V){var st,at,dt,Xe,Be=k-S,Me=C-N,W=te-ve,me=V-Z,q=S-ve,de=N-Z,we=Be*Be+Me*Me,z=Be*W+Me*me,Re=W*W+me*me,Oe=Be*q+Me*de,Ke=W*q+me*de,Le=we*Re-z*z,ht=Le,Ze=Le;0===Le?(at=0,ht=1,Xe=Ke,Ze=Re):(Xe=we*Ke-z*Oe,(at=z*Ke-Re*Oe)<0?(at=0,Xe=Ke,Ze=Re):at>ht&&(at=ht,Xe=Ke+z,Ze=Re)),Xe<0?(Xe=0,-Oe<0?at=0:-Oe>we?at=ht:(at=-Oe,ht=we)):Xe>Ze&&(Xe=Ze,-Oe+z<0?at=0:-Oe+z>we?at=ht:(at=-Oe+z,ht=we));var Ct=(1-(dt=0===Xe?0:Xe/Ze))*ve+dt*te-((1-(st=0===at?0:at/ht))*S+st*k),Ie=(1-dt)*Z+dt*V-((1-st)*N+st*C);return Ct*Ct+Ie*Ie}function O(S,N){return S[0]===N[0]?S[1]-N[1]:S[0]-N[0]}X.default&&(X=X.default),Ge.exports=ne,Ge.exports.default=ne},3156:function(Ge){Ge.exports=function(){"use strict";function De(R,j,A,T,O){!function Y(S,N,k,C,ve){for(;C>k;){if(C-k>600){var Z=C-k+1,te=N-k+1,V=Math.log(Z),Be=.5*Math.exp(2*V/3),Me=.5*Math.sqrt(V*Be*(Z-Be)/Z)*(te-Z/2<0?-1:1);Y(S,N,Math.max(k,Math.floor(N-te*Be/Z+Me)),Math.min(C,Math.floor(N+(Z-te)*Be/Z+Me)),ve)}var q=S[N],de=k,we=C;for(ee(S,k,N),ve(S[C],q)>0&&ee(S,k,C);de<we;){for(ee(S,de,we),de++,we--;ve(S[de],q)<0;)de++;for(;ve(S[we],q)>0;)we--}0===ve(S[k],q)?ee(S,k,we):ee(S,++we,C),we<=N&&(k=we+1),N<=we&&(C=we-1)}}(R,j,A||0,T||R.length-1,O||H)}function ee(R,j,A){var T=R[j];R[j]=R[A],R[A]=T}function H(R,j){return R<j?-1:R>j?1:0}var X=function(R){void 0===R&&(R=9),this._maxEntries=Math.max(4,R),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function fe(R,j,A){if(!A)return j.indexOf(R);for(var T=0;T<j.length;T++)if(A(R,j[T]))return T;return-1}function se(R,j){ne(R,0,R.children.length,j,R)}function ne(R,j,A,T,O){O||(O=be(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var Y=j;Y<A;Y++){var S=R.children[Y];Q(O,R.leaf?T(S):S)}return O}function Q(R,j){return R.minX=Math.min(R.minX,j.minX),R.minY=Math.min(R.minY,j.minY),R.maxX=Math.max(R.maxX,j.maxX),R.maxY=Math.max(R.maxY,j.maxY),R}function ue(R,j){return R.minX-j.minX}function Se(R,j){return R.minY-j.minY}function Ae(R){return(R.maxX-R.minX)*(R.maxY-R.minY)}function He(R){return R.maxX-R.minX+(R.maxY-R.minY)}function ge(R,j){return R.minX<=j.minX&&R.minY<=j.minY&&j.maxX<=R.maxX&&j.maxY<=R.maxY}function he(R,j){return j.minX<=R.maxX&&j.minY<=R.maxY&&j.maxX>=R.minX&&j.maxY>=R.minY}function be(R){return{children:R,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ve(R,j,A,T,O){for(var Y=[j,A];Y.length;)if(!((A=Y.pop())-(j=Y.pop())<=T)){var S=j+Math.ceil((A-j)/T/2)*T;De(R,S,j,A,O),Y.push(j,S,S,A)}}return X.prototype.all=function(){return this._all(this.data,[])},X.prototype.search=function(R){var j=this.data,A=[];if(!he(R,j))return A;for(var T=this.toBBox,O=[];j;){for(var Y=0;Y<j.children.length;Y++){var S=j.children[Y],N=j.leaf?T(S):S;he(R,N)&&(j.leaf?A.push(S):ge(R,N)?this._all(S,A):O.push(S))}j=O.pop()}return A},X.prototype.collides=function(R){var j=this.data;if(!he(R,j))return!1;for(var A=[];j;){for(var T=0;T<j.children.length;T++){var O=j.children[T],Y=j.leaf?this.toBBox(O):O;if(he(R,Y)){if(j.leaf||ge(R,Y))return!0;A.push(O)}}j=A.pop()}return!1},X.prototype.load=function(R){if(!R||!R.length)return this;if(R.length<this._minEntries){for(var j=0;j<R.length;j++)this.insert(R[j]);return this}var A=this._build(R.slice(),0,R.length-1,0);if(this.data.children.length)if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var T=this.data;this.data=A,A=T}this._insert(A,this.data.height-A.height-1,!0)}else this.data=A;return this},X.prototype.insert=function(R){return R&&this._insert(R,this.data.height-1),this},X.prototype.clear=function(){return this.data=be([]),this},X.prototype.remove=function(R,j){if(!R)return this;for(var A,T,O,Y=this.data,S=this.toBBox(R),N=[],k=[];Y||N.length;){if(Y||(Y=N.pop(),T=N[N.length-1],A=k.pop(),O=!0),Y.leaf){var C=fe(R,Y.children,j);if(-1!==C)return Y.children.splice(C,1),N.push(Y),this._condense(N),this}O||Y.leaf||!ge(Y,S)?T?(A++,Y=T.children[A],O=!1):Y=null:(N.push(Y),k.push(A),A=0,T=Y,Y=Y.children[0])}return this},X.prototype.toBBox=function(R){return R},X.prototype.compareMinX=function(R,j){return R.minX-j.minX},X.prototype.compareMinY=function(R,j){return R.minY-j.minY},X.prototype.toJSON=function(){return this.data},X.prototype.fromJSON=function(R){return this.data=R,this},X.prototype._all=function(R,j){for(var A=[];R;)R.leaf?j.push.apply(j,R.children):A.push.apply(A,R.children),R=A.pop();return j},X.prototype._build=function(R,j,A,T){var O,Y=A-j+1,S=this._maxEntries;if(Y<=S)return se(O=be(R.slice(j,A+1)),this.toBBox),O;T||(T=Math.ceil(Math.log(Y)/Math.log(S)),S=Math.ceil(Y/Math.pow(S,T-1))),(O=be([])).leaf=!1,O.height=T;var N=Math.ceil(Y/S),k=N*Math.ceil(Math.sqrt(S));Ve(R,j,A,k,this.compareMinX);for(var C=j;C<=A;C+=k){var ve=Math.min(C+k-1,A);Ve(R,C,ve,N,this.compareMinY);for(var Z=C;Z<=ve;Z+=N){var te=Math.min(Z+N-1,ve);O.children.push(this._build(R,Z,te,T-1))}}return se(O,this.toBBox),O},X.prototype._chooseSubtree=function(R,j,A,T){for(;T.push(j),!j.leaf&&T.length-1!==A;){for(var O=1/0,Y=1/0,S=void 0,N=0;N<j.children.length;N++){var k=j.children[N],C=Ae(k),ve=(Z=R,te=k,(Math.max(te.maxX,Z.maxX)-Math.min(te.minX,Z.minX))*(Math.max(te.maxY,Z.maxY)-Math.min(te.minY,Z.minY))-C);ve<Y?(Y=ve,O=C<O?C:O,S=k):ve===Y&&C<O&&(O=C,S=k)}j=S||j.children[0]}var Z,te;return j},X.prototype._insert=function(R,j,A){var T=A?R:this.toBBox(R),O=[],Y=this._chooseSubtree(T,this.data,j,O);for(Y.children.push(R),Q(Y,T);j>=0&&O[j].children.length>this._maxEntries;)this._split(O,j),j--;this._adjustParentBBoxes(T,O,j)},X.prototype._split=function(R,j){var A=R[j],T=A.children.length,O=this._minEntries;this._chooseSplitAxis(A,O,T);var Y=this._chooseSplitIndex(A,O,T),S=be(A.children.splice(Y,A.children.length-Y));S.height=A.height,S.leaf=A.leaf,se(A,this.toBBox),se(S,this.toBBox),j?R[j-1].children.push(S):this._splitRoot(A,S)},X.prototype._splitRoot=function(R,j){this.data=be([R,j]),this.data.height=R.height+1,this.data.leaf=!1,se(this.data,this.toBBox)},X.prototype._chooseSplitIndex=function(R,j,A){for(var T,O,Y,S,N,k,C,ve=1/0,Z=1/0,te=j;te<=A-j;te++){var V=ne(R,0,te,this.toBBox),Be=ne(R,te,A,this.toBBox),Me=(O=V,Y=Be,void 0,void 0,void 0,void 0,S=Math.max(O.minX,Y.minX),N=Math.max(O.minY,Y.minY),k=Math.min(O.maxX,Y.maxX),C=Math.min(O.maxY,Y.maxY),Math.max(0,k-S)*Math.max(0,C-N)),W=Ae(V)+Ae(Be);Me<ve?(ve=Me,T=te,Z=W<Z?W:Z):Me===ve&&W<Z&&(Z=W,T=te)}return T||A-j},X.prototype._chooseSplitAxis=function(R,j,A){var T=R.leaf?this.compareMinX:ue,O=R.leaf?this.compareMinY:Se;this._allDistMargin(R,j,A,T)<this._allDistMargin(R,j,A,O)&&R.children.sort(T)},X.prototype._allDistMargin=function(R,j,A,T){R.children.sort(T);for(var O=this.toBBox,Y=ne(R,0,j,O),S=ne(R,A-j,A,O),N=He(Y)+He(S),k=j;k<A-j;k++){var C=R.children[k];Q(Y,R.leaf?O(C):C),N+=He(Y)}for(var ve=A-j-1;ve>=j;ve--){var Z=R.children[ve];Q(S,R.leaf?O(Z):Z),N+=He(S)}return N},X.prototype._adjustParentBBoxes=function(R,j,A){for(var T=A;T>=0;T--)Q(j[T],R)},X.prototype._condense=function(R){for(var j=R.length-1,A=void 0;j>=0;j--)0===R[j].children.length?j>0?(A=R[j-1].children).splice(A.indexOf(R[j]),1):this.clear():se(R[j],this.toBBox)},X}()},6952:(Ge,De,ee)=>{var H=ee(1356),X=ee(3407),fe=ee(2e3),se=ee(2342),ne=ee(9235),Q=ee(2374),ue=Date.prototype.getTime;function Ae(he){return null==he}function He(he){return!(!he||"object"!=typeof he||"number"!=typeof he.length||"function"!=typeof he.copy||"function"!=typeof he.slice||he.length>0&&"number"!=typeof he[0])}Ge.exports=function Se(he,be,Ve){var R=Ve||{};return!!(R.strict?fe(he,be):he===be)||(!he||!be||"object"!=typeof he&&"object"!=typeof be?R.strict?fe(he,be):he==be:function ge(he,be,Ve){var R,j;if(typeof he!=typeof be||Ae(he)||Ae(be)||he.prototype!==be.prototype||X(he)!==X(be))return!1;var A=se(he),T=se(be);if(A!==T)return!1;if(A||T)return he.source===be.source&&ne(he)===ne(be);if(Q(he)&&Q(be))return ue.call(he)===ue.call(be);var O=He(he),Y=He(be);if(O!==Y)return!1;if(O||Y){if(he.length!==be.length)return!1;for(R=0;R<he.length;R++)if(he[R]!==be[R])return!1;return!0}if(typeof he!=typeof be)return!1;try{var S=H(he),N=H(be)}catch{return!1}if(S.length!==N.length)return!1;for(S.sort(),N.sort(),R=S.length-1;R>=0;R--)if(S[R]!=N[R])return!1;for(R=S.length-1;R>=0;R--)if(!Se(he[j=S[R]],be[j],Ve))return!1;return!0}(he,be,R))}},2358:(Ge,De,ee)=>{"use strict";var H=ee(1356),X="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),fe=Object.prototype.toString,se=Array.prototype.concat,ne=Object.defineProperty,ue=ee(7027)(),Se=ne&&ue,Ae=function(ge,he,be,Ve){if(he in ge)if(!0===Ve){if(ge[he]===be)return}else if(!function(ge){return"function"==typeof ge&&"[object Function]"===fe.call(ge)}(Ve)||!Ve())return;Se?ne(ge,he,{configurable:!0,enumerable:!1,value:be,writable:!0}):ge[he]=be},He=function(ge,he){var be=arguments.length>2?arguments[2]:{},Ve=H(he);X&&(Ve=se.call(Ve,Object.getOwnPropertySymbols(he)));for(var R=0;R<Ve.length;R+=1)Ae(ge,Ve[R],he[Ve[R]],be[Ve[R]])};He.supportsDescriptors=!!Se,Ge.exports=He},1817:Ge=>{function De(ee,H,X,fe){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(ee,H,X,fe)}De.prototype.run=function(ee,H,X,fe){this._init(ee,H,X,fe);for(var se=0;se<this._datasetLength;se++)if(1!==this._visited[se]){this._visited[se]=1;var ne=this._regionQuery(se);if(ne.length<this.minPts)this.noise.push(se);else{var Q=this.clusters.length;this.clusters.push([]),this._addToCluster(se,Q),this._expandCluster(Q,ne)}}return this.clusters},De.prototype._init=function(ee,H,X,fe){if(ee){if(!(ee instanceof Array))throw Error("Dataset must be of type array, "+typeof ee+" given");this.dataset=ee,this.clusters=[],this.noise=[],this._datasetLength=ee.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}H&&(this.epsilon=H),X&&(this.minPts=X),fe&&(this.distance=fe)},De.prototype._expandCluster=function(ee,H){for(var X=0;X<H.length;X++){var fe=H[X];if(1!==this._visited[fe]){this._visited[fe]=1;var se=this._regionQuery(fe);se.length>=this.minPts&&(H=this._mergeArrays(H,se))}1!==this._assigned[fe]&&this._addToCluster(fe,ee)}},De.prototype._addToCluster=function(ee,H){this.clusters[H].push(ee),this._assigned[ee]=1},De.prototype._regionQuery=function(ee){for(var H=[],X=0;X<this._datasetLength;X++)this.distance(this.dataset[ee],this.dataset[X])<this.epsilon&&H.push(X);return H},De.prototype._mergeArrays=function(ee,H){for(var X=H.length,fe=0;fe<X;fe++){var se=H[fe];ee.indexOf(se)<0&&ee.push(se)}return ee},De.prototype._euclideanDistance=function(ee,H){for(var X=0,fe=Math.min(ee.length,H.length);fe--;)X+=(ee[fe]-H[fe])*(ee[fe]-H[fe]);return Math.sqrt(X)},Ge.exports&&(Ge.exports=De)},4273:Ge=>{function De(ee,H,X){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(ee,H,X)}De.prototype.init=function(ee,H,X){this.assignments=[],this.centroids=[],typeof ee<"u"&&(this.dataset=ee),typeof H<"u"&&(this.k=H),typeof X<"u"&&(this.distance=X)},De.prototype.run=function(ee,H){this.init(ee,H);for(var X=this.dataset.length,fe=0;fe<this.k;fe++)this.centroids[fe]=this.randomCentroid();for(var se=!0;se;){se=this.assign();for(var ne=0;ne<this.k;ne++){for(var Q=new Array(He),ue=0,Se=0;Se<He;Se++)Q[Se]=0;for(var Ae=0;Ae<X;Ae++){var He=this.dataset[Ae].length;if(ne===this.assignments[Ae]){for(Se=0;Se<He;Se++)Q[Se]+=this.dataset[Ae][Se];ue++}}if(ue>0){for(Se=0;Se<He;Se++)Q[Se]/=ue;this.centroids[ne]=Q}else this.centroids[ne]=this.randomCentroid(),se=!0}}return this.getClusters()},De.prototype.randomCentroid=function(){var H,X,ee=this.dataset.length-1;do{X=Math.round(Math.random()*ee),H=this.dataset[X]}while(this.centroids.indexOf(H)>=0);return H},De.prototype.assign=function(){for(var X,ee=!1,H=this.dataset.length,fe=0;fe<H;fe++)(X=this.argmin(this.dataset[fe],this.centroids,this.distance))!=this.assignments[fe]&&(this.assignments[fe]=X,ee=!0);return ee},De.prototype.getClusters=function(){for(var H,ee=new Array(this.k),X=0;X<this.assignments.length;X++)typeof ee[H=this.assignments[X]]>"u"&&(ee[H]=[]),ee[H].push(X);return ee},De.prototype.argmin=function(ee,H,X){for(var Q,fe=Number.MAX_VALUE,se=0,ne=H.length,ue=0;ue<ne;ue++)(Q=X(ee,H[ue]))<fe&&(fe=Q,se=ue);return se},De.prototype.distance=function(ee,H){for(var X=0,fe=Math.min(ee.length,H.length);fe--;){var se=ee[fe]-H[fe];X+=se*se}return Math.sqrt(X)},Ge.exports&&(Ge.exports=De)},8680:(Ge,De,ee)=>{if(Ge.exports)var H=ee(8759);function X(fe,se,ne,Q){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(fe,se,ne,Q)}X.prototype.run=function(fe,se,ne,Q){this._init(fe,se,ne,Q);for(var ue=0,Se=this.dataset.length;ue<Se;ue++)if(1!==this._processed[ue]){this._processed[ue]=1,this.clusters.push([ue]);var Ae=this.clusters.length-1;this._orderedList.push(ue);var He=new H(null,null,"asc"),ge=this._regionQuery(ue);void 0!==this._distanceToCore(ue)&&(this._updateQueue(ue,ge,He),this._expandCluster(Ae,He))}return this.clusters},X.prototype.getReachabilityPlot=function(){for(var fe=[],se=0,ne=this._orderedList.length;se<ne;se++){var Q=this._orderedList[se];fe.push([Q,this._reachability[Q]])}return fe},X.prototype._init=function(fe,se,ne,Q){if(fe){if(!(fe instanceof Array))throw Error("Dataset must be of type array, "+typeof fe+" given");this.dataset=fe,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}se&&(this.epsilon=se),ne&&(this.minPts=ne),Q&&(this.distance=Q)},X.prototype._updateQueue=function(fe,se,ne){var Q=this;this._coreDistance=this._distanceToCore(fe),se.forEach(function(ue){if(void 0===Q._processed[ue]){var Se=Q.distance(Q.dataset[fe],Q.dataset[ue]),Ae=Math.max(Q._coreDistance,Se);void 0===Q._reachability[ue]?(Q._reachability[ue]=Ae,ne.insert(ue,Ae)):Ae<Q._reachability[ue]&&(Q._reachability[ue]=Ae,ne.remove(ue),ne.insert(ue,Ae))}})},X.prototype._expandCluster=function(fe,se){for(var ne=se.getElements(),Q=0,ue=ne.length;Q<ue;Q++){var Se=ne[Q];if(void 0===this._processed[Se]){var Ae=this._regionQuery(Se);this._processed[Se]=1,this.clusters[fe].push(Se),this._orderedList.push(Se),void 0!==this._distanceToCore(Se)&&(this._updateQueue(Se,Ae,se),this._expandCluster(fe,se))}}},X.prototype._distanceToCore=function(fe){for(var se=this.epsilon,ne=0;ne<se;ne++)if(this._regionQuery(fe,ne).length>=this.minPts)return ne},X.prototype._regionQuery=function(fe,se){se=se||this.epsilon;for(var ne=[],Q=0,ue=this.dataset.length;Q<ue;Q++)this.distance(this.dataset[fe],this.dataset[Q])<se&&ne.push(Q);return ne},X.prototype._euclideanDistance=function(fe,se){for(var ne=0,Q=Math.min(fe.length,se.length);Q--;)ne+=(fe[Q]-se[Q])*(fe[Q]-se[Q]);return Math.sqrt(ne)},Ge.exports&&(Ge.exports=X)},8759:Ge=>{function De(ee,H,X){this._queue=[],this._priorities=[],this._sorting="desc",this._init(ee,H,X)}De.prototype.insert=function(ee,H){for(var X=this._queue.length,fe=X;fe--;){var se=this._priorities[fe];"desc"===this._sorting?H>se&&(X=fe):H<se&&(X=fe)}this._insertAt(ee,H,X)},De.prototype.remove=function(ee){for(var H=this._queue.length;H--;)if(ee===this._queue[H]){this._queue.splice(H,1),this._priorities.splice(H,1);break}},De.prototype.forEach=function(ee){this._queue.forEach(ee)},De.prototype.getElements=function(){return this._queue},De.prototype.getElementPriority=function(ee){return this._priorities[ee]},De.prototype.getPriorities=function(){return this._priorities},De.prototype.getElementsWithPriorities=function(){for(var ee=[],H=0,X=this._queue.length;H<X;H++)ee.push([this._queue[H],this._priorities[H]]);return ee},De.prototype._init=function(ee,H,X){if(ee&&H){if(this._queue=[],this._priorities=[],ee.length!==H.length)throw new Error("Arrays must have the same length");for(var fe=0;fe<ee.length;fe++)this.insert(ee[fe],H[fe])}X&&(this._sorting=X)},De.prototype._insertAt=function(ee,H,X){this._queue.length===X?(this._queue.push(ee),this._priorities.push(H)):(this._queue.splice(X,0,ee),this._priorities.splice(X,0,H))},Ge.exports&&(Ge.exports=De)},7470:(Ge,De,ee)=>{Ge.exports&&(Ge.exports={DBSCAN:ee(1817),KMEANS:ee(4273),OPTICS:ee(8680),PriorityQueue:ee(8759)})},5469:Ge=>{"use strict";function De(W,me,q){q=q||2;var Oe,Ke,Le,st,at,dt,Xe,de=me&&me.length,we=de?me[0]*q:W.length,z=ee(W,0,we,q,!0),Re=[];if(!z||z.next===z.prev)return Re;if(de&&(z=function ue(W,me,q,de){var z,Re,Le,we=[];for(z=0,Re=me.length;z<Re;z++)(Le=ee(W,me[z]*de,z<Re-1?me[z+1]*de:W.length,de,!1))===Le.next&&(Le.steiner=!0),we.push(R(Le));for(we.sort(Se),z=0;z<we.length;z++)q=Ae(we[z],q);return q}(W,me,z,q)),W.length>80*q){Oe=Le=W[0],Ke=st=W[1];for(var ht=q;ht<we;ht+=q)(at=W[ht])<Oe&&(Oe=at),(dt=W[ht+1])<Ke&&(Ke=dt),at>Le&&(Le=at),dt>st&&(st=dt);Xe=0!==(Xe=Math.max(Le-Oe,st-Ke))?32767/Xe:0}return X(z,Re,q,Oe,Ke,Xe,0),Re}function ee(W,me,q,de,we){var z,Re;if(we===Me(W,me,q,de)>0)for(z=me;z<q;z+=de)Re=te(z,W[z],W[z+1],Re);else for(z=q-de;z>=me;z-=de)Re=te(z,W[z],W[z+1],Re);return Re&&O(Re,Re.next)&&(V(Re),Re=Re.next),Re}function H(W,me){if(!W)return W;me||(me=W);var de,q=W;do{if(de=!1,q.steiner||!O(q,q.next)&&0!==T(q.prev,q,q.next))q=q.next;else{if(V(q),(q=me=q.prev)===q.next)break;de=!0}}while(de||q!==me);return me}function X(W,me,q,de,we,z,Re){if(W){!Re&&z&&function he(W,me,q,de){var we=W;do{0===we.z&&(we.z=Ve(we.x,we.y,me,q,de)),we.prevZ=we.prev,we.nextZ=we.next,we=we.next}while(we!==W);we.prevZ.nextZ=null,we.prevZ=null,function be(W){var me,q,de,we,z,Re,Oe,Ke,Le=1;do{for(q=W,W=null,z=null,Re=0;q;){for(Re++,de=q,Oe=0,me=0;me<Le&&(Oe++,de=de.nextZ);me++);for(Ke=Le;Oe>0||Ke>0&&de;)0!==Oe&&(0===Ke||!de||q.z<=de.z)?(we=q,q=q.nextZ,Oe--):(we=de,de=de.nextZ,Ke--),z?z.nextZ=we:W=we,we.prevZ=z,z=we;q=de}z.nextZ=null,Le*=2}while(Re>1)}(we)}(W,de,we,z);for(var Ke,Le,Oe=W;W.prev!==W.next;)if(Ke=W.prev,Le=W.next,z?se(W,de,we,z):fe(W))me.push(Ke.i/q|0),me.push(W.i/q|0),me.push(Le.i/q|0),V(W),W=Le.next,Oe=Le.next;else if((W=Le)===Oe){Re?1===Re?X(W=ne(H(W),me,q),me,q,de,we,z,2):2===Re&&Q(W,me,q,de,we,z):X(H(W),me,q,de,we,z,1);break}}}function fe(W){var me=W.prev,q=W,de=W.next;if(T(me,q,de)>=0)return!1;for(var we=me.x,z=q.x,Re=de.x,Oe=me.y,Ke=q.y,Le=de.y,st=we<z?we<Re?we:Re:z<Re?z:Re,at=Oe<Ke?Oe<Le?Oe:Le:Ke<Le?Ke:Le,dt=we>z?we>Re?we:Re:z>Re?z:Re,Xe=Oe>Ke?Oe>Le?Oe:Le:Ke>Le?Ke:Le,ht=de.next;ht!==me;){if(ht.x>=st&&ht.x<=dt&&ht.y>=at&&ht.y<=Xe&&j(we,Oe,z,Ke,Re,Le,ht.x,ht.y)&&T(ht.prev,ht,ht.next)>=0)return!1;ht=ht.next}return!0}function se(W,me,q,de){var we=W.prev,z=W,Re=W.next;if(T(we,z,Re)>=0)return!1;for(var Oe=we.x,Ke=z.x,Le=Re.x,st=we.y,at=z.y,dt=Re.y,Xe=Oe<Ke?Oe<Le?Oe:Le:Ke<Le?Ke:Le,ht=st<at?st<dt?st:dt:at<dt?at:dt,Ze=Oe>Ke?Oe>Le?Oe:Le:Ke>Le?Ke:Le,zn=st>at?st>dt?st:dt:at>dt?at:dt,Vn=Ve(Xe,ht,me,q,de),Qn=Ve(Ze,zn,me,q,de),Et=W.prevZ,Ct=W.nextZ;Et&&Et.z>=Vn&&Ct&&Ct.z<=Qn;){if(Et.x>=Xe&&Et.x<=Ze&&Et.y>=ht&&Et.y<=zn&&Et!==we&&Et!==Re&&j(Oe,st,Ke,at,Le,dt,Et.x,Et.y)&&T(Et.prev,Et,Et.next)>=0||(Et=Et.prevZ,Ct.x>=Xe&&Ct.x<=Ze&&Ct.y>=ht&&Ct.y<=zn&&Ct!==we&&Ct!==Re&&j(Oe,st,Ke,at,Le,dt,Ct.x,Ct.y)&&T(Ct.prev,Ct,Ct.next)>=0))return!1;Ct=Ct.nextZ}for(;Et&&Et.z>=Vn;){if(Et.x>=Xe&&Et.x<=Ze&&Et.y>=ht&&Et.y<=zn&&Et!==we&&Et!==Re&&j(Oe,st,Ke,at,Le,dt,Et.x,Et.y)&&T(Et.prev,Et,Et.next)>=0)return!1;Et=Et.prevZ}for(;Ct&&Ct.z<=Qn;){if(Ct.x>=Xe&&Ct.x<=Ze&&Ct.y>=ht&&Ct.y<=zn&&Ct!==we&&Ct!==Re&&j(Oe,st,Ke,at,Le,dt,Ct.x,Ct.y)&&T(Ct.prev,Ct,Ct.next)>=0)return!1;Ct=Ct.nextZ}return!0}function ne(W,me,q){var de=W;do{var we=de.prev,z=de.next.next;!O(we,z)&&Y(we,de,de.next,z)&&C(we,z)&&C(z,we)&&(me.push(we.i/q|0),me.push(de.i/q|0),me.push(z.i/q|0),V(de),V(de.next),de=W=z),de=de.next}while(de!==W);return H(de)}function Q(W,me,q,de,we,z){var Re=W;do{for(var Oe=Re.next.next;Oe!==Re.prev;){if(Re.i!==Oe.i&&A(Re,Oe)){var Ke=Z(Re,Oe);return Re=H(Re,Re.next),Ke=H(Ke,Ke.next),X(Re,me,q,de,we,z,0),void X(Ke,me,q,de,we,z,0)}Oe=Oe.next}Re=Re.next}while(Re!==W)}function Se(W,me){return W.x-me.x}function Ae(W,me){var q=function He(W,me){var Re,q=me,de=W.x,we=W.y,z=-1/0;do{if(we<=q.y&&we>=q.next.y&&q.next.y!==q.y){var Oe=q.x+(we-q.y)*(q.next.x-q.x)/(q.next.y-q.y);if(Oe<=de&&Oe>z&&(z=Oe,Re=q.x<q.next.x?q:q.next,Oe===de))return Re}q=q.next}while(q!==me);if(!Re)return null;var dt,Ke=Re,Le=Re.x,st=Re.y,at=1/0;q=Re;do{de>=q.x&&q.x>=Le&&de!==q.x&&j(we<st?de:z,we,Le,st,we<st?z:de,we,q.x,q.y)&&(dt=Math.abs(we-q.y)/(de-q.x),C(q,W)&&(dt<at||dt===at&&(q.x>Re.x||q.x===Re.x&&ge(Re,q)))&&(Re=q,at=dt)),q=q.next}while(q!==Ke);return Re}(W,me);if(!q)return me;var de=Z(q,W);return H(de,de.next),H(q,q.next)}function ge(W,me){return T(W.prev,W,me.prev)<0&&T(me.next,W,W.next)<0}function Ve(W,me,q,de,we){return(W=1431655765&((W=858993459&((W=252645135&((W=16711935&((W=(W-q)*we|0)|W<<8))|W<<4))|W<<2))|W<<1))|(me=1431655765&((me=858993459&((me=252645135&((me=16711935&((me=(me-de)*we|0)|me<<8))|me<<4))|me<<2))|me<<1))<<1}function R(W){var me=W,q=W;do{(me.x<q.x||me.x===q.x&&me.y<q.y)&&(q=me),me=me.next}while(me!==W);return q}function j(W,me,q,de,we,z,Re,Oe){return(we-Re)*(me-Oe)>=(W-Re)*(z-Oe)&&(W-Re)*(de-Oe)>=(q-Re)*(me-Oe)&&(q-Re)*(z-Oe)>=(we-Re)*(de-Oe)}function A(W,me){return W.next.i!==me.i&&W.prev.i!==me.i&&!function k(W,me){var q=W;do{if(q.i!==W.i&&q.next.i!==W.i&&q.i!==me.i&&q.next.i!==me.i&&Y(q,q.next,W,me))return!0;q=q.next}while(q!==W);return!1}(W,me)&&(C(W,me)&&C(me,W)&&function ve(W,me){var q=W,de=!1,we=(W.x+me.x)/2,z=(W.y+me.y)/2;do{q.y>z!=q.next.y>z&&q.next.y!==q.y&&we<(q.next.x-q.x)*(z-q.y)/(q.next.y-q.y)+q.x&&(de=!de),q=q.next}while(q!==W);return de}(W,me)&&(T(W.prev,W,me.prev)||T(W,me.prev,me))||O(W,me)&&T(W.prev,W,W.next)>0&&T(me.prev,me,me.next)>0)}function T(W,me,q){return(me.y-W.y)*(q.x-me.x)-(me.x-W.x)*(q.y-me.y)}function O(W,me){return W.x===me.x&&W.y===me.y}function Y(W,me,q,de){var we=N(T(W,me,q)),z=N(T(W,me,de)),Re=N(T(q,de,W)),Oe=N(T(q,de,me));return!!(we!==z&&Re!==Oe||0===we&&S(W,q,me)||0===z&&S(W,de,me)||0===Re&&S(q,W,de)||0===Oe&&S(q,me,de))}function S(W,me,q){return me.x<=Math.max(W.x,q.x)&&me.x>=Math.min(W.x,q.x)&&me.y<=Math.max(W.y,q.y)&&me.y>=Math.min(W.y,q.y)}function N(W){return W>0?1:W<0?-1:0}function C(W,me){return T(W.prev,W,W.next)<0?T(W,me,W.next)>=0&&T(W,W.prev,me)>=0:T(W,me,W.prev)<0||T(W,W.next,me)<0}function Z(W,me){var q=new Be(W.i,W.x,W.y),de=new Be(me.i,me.x,me.y),we=W.next,z=me.prev;return W.next=me,me.prev=W,q.next=we,we.prev=q,de.next=q,q.prev=de,z.next=de,de.prev=z,de}function te(W,me,q,de){var we=new Be(W,me,q);return de?(we.next=de.next,we.prev=de,de.next.prev=we,de.next=we):(we.prev=we,we.next=we),we}function V(W){W.next.prev=W.prev,W.prev.next=W.next,W.prevZ&&(W.prevZ.nextZ=W.nextZ),W.nextZ&&(W.nextZ.prevZ=W.prevZ)}function Be(W,me,q){this.i=W,this.x=me,this.y=q,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Me(W,me,q,de){for(var we=0,z=me,Re=q-de;z<q;z+=de)we+=(W[Re]-W[z])*(W[z+1]+W[Re+1]),Re=z;return we}Ge.exports=De,Ge.exports.default=De,De.deviation=function(W,me,q,de){var we=me&&me.length,Re=Math.abs(Me(W,0,we?me[0]*q:W.length,q));if(we)for(var Oe=0,Ke=me.length;Oe<Ke;Oe++)Re-=Math.abs(Me(W,me[Oe]*q,Oe<Ke-1?me[Oe+1]*q:W.length,q));var at=0;for(Oe=0;Oe<de.length;Oe+=3){var dt=de[Oe]*q,Xe=de[Oe+1]*q,ht=de[Oe+2]*q;at+=Math.abs((W[dt]-W[ht])*(W[Xe+1]-W[dt+1])-(W[dt]-W[Xe])*(W[ht+1]-W[dt+1]))}return 0===Re&&0===at?0:Math.abs((at-Re)/Re)},De.flatten=function(W){for(var me=W[0][0].length,q={vertices:[],holes:[],dimensions:me},de=0,we=0;we<W.length;we++){for(var z=0;z<W[we].length;z++)for(var Re=0;Re<me;Re++)q.vertices.push(W[we][z][Re]);we>0&&q.holes.push(de+=W[we-1].length)}return q}},3457:Ge=>{"use strict";var De="Function.prototype.bind called on incompatible ",ee=Array.prototype.slice,H=Object.prototype.toString,X="[object Function]";Ge.exports=function(se){var ne=this;if("function"!=typeof ne||H.call(ne)!==X)throw new TypeError(De+ne);for(var ue,Q=ee.call(arguments,1),Se=function(){if(this instanceof ue){var be=ne.apply(this,Q.concat(ee.call(arguments)));return Object(be)===be?be:this}return ne.apply(se,Q.concat(ee.call(arguments)))},Ae=Math.max(0,ne.length-Q.length),He=[],ge=0;ge<Ae;ge++)He.push("$"+ge);if(ue=Function("binder","return function ("+He.join(",")+"){ return binder.apply(this,arguments); }")(Se),ne.prototype){var he=function(){};he.prototype=ne.prototype,ue.prototype=new he,he.prototype=null}return ue}},4444:(Ge,De,ee)=>{"use strict";var H=ee(3457);Ge.exports=Function.prototype.bind||H},9582:Ge=>{"use strict";var De=function(){return"string"==typeof function(){}.name},ee=Object.getOwnPropertyDescriptor;if(ee)try{ee([],"length")}catch{ee=null}De.functionsHaveConfigurableNames=function(){if(!De()||!ee)return!1;var fe=ee(function(){},"name");return!!fe&&!!fe.configurable};var H=Function.prototype.bind;De.boundFunctionsHaveNames=function(){return De()&&"function"==typeof H&&""!==function(){}.bind().name},Ge.exports=De},5013:(Ge,De,ee)=>{var H=ee(6952),X=function(Q){this.precision=Q&&Q.precision?Q.precision:17,this.direction=!(!Q||!Q.direction)&&Q.direction,this.pseudoNode=!(!Q||!Q.pseudoNode)&&Q.pseudoNode,this.objectComparator=Q&&Q.objectComparator?Q.objectComparator:ne};function fe(Q){return Q.coordinates.map(function(ue){return{type:Q.type.replace("Multi",""),coordinates:ue}})}function se(Q,ue){return Q.hasOwnProperty("coordinates")?Q.coordinates.length===ue.coordinates.length:Q.length===ue.length}function ne(Q,ue){return H(Q,ue,{strict:!0})}X.prototype.compare=function(Q,ue){if(Q.type!==ue.type||!se(Q,ue))return!1;switch(Q.type){case"Point":return this.compareCoord(Q.coordinates,ue.coordinates);case"LineString":return this.compareLine(Q.coordinates,ue.coordinates,0,!1);case"Polygon":return this.comparePolygon(Q,ue);case"Feature":return this.compareFeature(Q,ue);default:if(0===Q.type.indexOf("Multi")){var Se=this,Ae=fe(Q),He=fe(ue);return Ae.every(function(ge){return this.some(function(he){return Se.compare(ge,he)})},He)}}return!1},X.prototype.compareCoord=function(Q,ue){if(Q.length!==ue.length)return!1;for(var Se=0;Se<Q.length;Se++)if(Q[Se].toFixed(this.precision)!==ue[Se].toFixed(this.precision))return!1;return!0},X.prototype.compareLine=function(Q,ue,Se,Ae){if(!se(Q,ue))return!1;var He=this.pseudoNode?Q:this.removePseudo(Q),ge=this.pseudoNode?ue:this.removePseudo(ue);if(!Ae||this.compareCoord(He[0],ge[0])||(ge=this.fixStartIndex(ge,He))){var he=this.compareCoord(He[Se],ge[Se]);return this.direction||he?this.comparePath(He,ge):!!this.compareCoord(He[Se],ge[ge.length-(1+Se)])&&this.comparePath(He.slice().reverse(),ge)}},X.prototype.fixStartIndex=function(Q,ue){for(var Se,Ae=-1,He=0;He<Q.length;He++)if(this.compareCoord(Q[He],ue[0])){Ae=He;break}return Ae>=0&&(Se=[].concat(Q.slice(Ae,Q.length),Q.slice(1,Ae+1))),Se},X.prototype.comparePath=function(Q,ue){var Se=this;return Q.every(function(Ae,He){return Se.compareCoord(Ae,this[He])},ue)},X.prototype.comparePolygon=function(Q,ue){if(this.compareLine(Q.coordinates[0],ue.coordinates[0],1,!0)){var Se=Q.coordinates.slice(1,Q.coordinates.length),Ae=ue.coordinates.slice(1,ue.coordinates.length),He=this;return Se.every(function(ge){return this.some(function(he){return He.compareLine(ge,he,1,!0)})},Ae)}return!1},X.prototype.compareFeature=function(Q,ue){return!(Q.id!==ue.id||!this.objectComparator(Q.properties,ue.properties)||!this.compareBBox(Q,ue))&&this.compare(Q.geometry,ue.geometry)},X.prototype.compareBBox=function(Q,ue){return!!(!Q.bbox&&!ue.bbox||Q.bbox&&ue.bbox&&this.compareCoord(Q.bbox,ue.bbox))},X.prototype.removePseudo=function(Q){return Q},Ge.exports=X},5406:(Ge,De,ee)=>{var H=ee(7192),X=ee(8275),fe=ee(3269),se=ee(1503).Z,ne=fe.featureEach,Se=X.featureCollection;function Ae(He){var ge=new H(He);return ge.insert=function(he){if("Feature"!==he.type)throw new Error("invalid feature");return he.bbox=he.bbox?he.bbox:se(he),H.prototype.insert.call(this,he)},ge.load=function(he){var be=[];return Array.isArray(he)?he.forEach(function(Ve){if("Feature"!==Ve.type)throw new Error("invalid features");Ve.bbox=Ve.bbox?Ve.bbox:se(Ve),be.push(Ve)}):ne(he,function(Ve){if("Feature"!==Ve.type)throw new Error("invalid features");Ve.bbox=Ve.bbox?Ve.bbox:se(Ve),be.push(Ve)}),H.prototype.load.call(this,be)},ge.remove=function(he,be){if("Feature"!==he.type)throw new Error("invalid feature");return he.bbox=he.bbox?he.bbox:se(he),H.prototype.remove.call(this,he,be)},ge.clear=function(){return H.prototype.clear.call(this)},ge.search=function(he){var be=H.prototype.search.call(this,this.toBBox(he));return Se(be)},ge.collides=function(he){return H.prototype.collides.call(this,this.toBBox(he))},ge.all=function(){var he=H.prototype.all.call(this);return Se(he)},ge.toJSON=function(){return H.prototype.toJSON.call(this)},ge.fromJSON=function(he){return H.prototype.fromJSON.call(this,he)},ge.toBBox=function(he){var be;if(he.bbox)be=he.bbox;else if(Array.isArray(he)&&4===he.length)be=he;else if(Array.isArray(he)&&6===he.length)be=[he[0],he[1],he[3],he[4]];else if("Feature"===he.type)be=se(he);else{if("FeatureCollection"!==he.type)throw new Error("invalid geojson");be=se(he)}return{minX:be[0],minY:be[1],maxX:be[2],maxY:be[3]}},ge}Ge.exports=Ae,Ge.exports.default=Ae},7192:function(Ge){Ge.exports=function(){"use strict";function De(R,j,A,T,O){!function Y(S,N,k,C,ve){for(;C>k;){if(C-k>600){var Z=C-k+1,te=N-k+1,V=Math.log(Z),Be=.5*Math.exp(2*V/3),Me=.5*Math.sqrt(V*Be*(Z-Be)/Z)*(te-Z/2<0?-1:1);Y(S,N,Math.max(k,Math.floor(N-te*Be/Z+Me)),Math.min(C,Math.floor(N+(Z-te)*Be/Z+Me)),ve)}var q=S[N],de=k,we=C;for(ee(S,k,N),ve(S[C],q)>0&&ee(S,k,C);de<we;){for(ee(S,de,we),de++,we--;ve(S[de],q)<0;)de++;for(;ve(S[we],q)>0;)we--}0===ve(S[k],q)?ee(S,k,we):ee(S,++we,C),we<=N&&(k=we+1),N<=we&&(C=we-1)}}(R,j,A||0,T||R.length-1,O||H)}function ee(R,j,A){var T=R[j];R[j]=R[A],R[A]=T}function H(R,j){return R<j?-1:R>j?1:0}var X=function(R){void 0===R&&(R=9),this._maxEntries=Math.max(4,R),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function fe(R,j,A){if(!A)return j.indexOf(R);for(var T=0;T<j.length;T++)if(A(R,j[T]))return T;return-1}function se(R,j){ne(R,0,R.children.length,j,R)}function ne(R,j,A,T,O){O||(O=be(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var Y=j;Y<A;Y++){var S=R.children[Y];Q(O,R.leaf?T(S):S)}return O}function Q(R,j){return R.minX=Math.min(R.minX,j.minX),R.minY=Math.min(R.minY,j.minY),R.maxX=Math.max(R.maxX,j.maxX),R.maxY=Math.max(R.maxY,j.maxY),R}function ue(R,j){return R.minX-j.minX}function Se(R,j){return R.minY-j.minY}function Ae(R){return(R.maxX-R.minX)*(R.maxY-R.minY)}function He(R){return R.maxX-R.minX+(R.maxY-R.minY)}function ge(R,j){return R.minX<=j.minX&&R.minY<=j.minY&&j.maxX<=R.maxX&&j.maxY<=R.maxY}function he(R,j){return j.minX<=R.maxX&&j.minY<=R.maxY&&j.maxX>=R.minX&&j.maxY>=R.minY}function be(R){return{children:R,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ve(R,j,A,T,O){for(var Y=[j,A];Y.length;)if(!((A=Y.pop())-(j=Y.pop())<=T)){var S=j+Math.ceil((A-j)/T/2)*T;De(R,S,j,A,O),Y.push(j,S,S,A)}}return X.prototype.all=function(){return this._all(this.data,[])},X.prototype.search=function(R){var j=this.data,A=[];if(!he(R,j))return A;for(var T=this.toBBox,O=[];j;){for(var Y=0;Y<j.children.length;Y++){var S=j.children[Y],N=j.leaf?T(S):S;he(R,N)&&(j.leaf?A.push(S):ge(R,N)?this._all(S,A):O.push(S))}j=O.pop()}return A},X.prototype.collides=function(R){var j=this.data;if(!he(R,j))return!1;for(var A=[];j;){for(var T=0;T<j.children.length;T++){var O=j.children[T],Y=j.leaf?this.toBBox(O):O;if(he(R,Y)){if(j.leaf||ge(R,Y))return!0;A.push(O)}}j=A.pop()}return!1},X.prototype.load=function(R){if(!R||!R.length)return this;if(R.length<this._minEntries){for(var j=0;j<R.length;j++)this.insert(R[j]);return this}var A=this._build(R.slice(),0,R.length-1,0);if(this.data.children.length)if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var T=this.data;this.data=A,A=T}this._insert(A,this.data.height-A.height-1,!0)}else this.data=A;return this},X.prototype.insert=function(R){return R&&this._insert(R,this.data.height-1),this},X.prototype.clear=function(){return this.data=be([]),this},X.prototype.remove=function(R,j){if(!R)return this;for(var A,T,O,Y=this.data,S=this.toBBox(R),N=[],k=[];Y||N.length;){if(Y||(Y=N.pop(),T=N[N.length-1],A=k.pop(),O=!0),Y.leaf){var C=fe(R,Y.children,j);if(-1!==C)return Y.children.splice(C,1),N.push(Y),this._condense(N),this}O||Y.leaf||!ge(Y,S)?T?(A++,Y=T.children[A],O=!1):Y=null:(N.push(Y),k.push(A),A=0,T=Y,Y=Y.children[0])}return this},X.prototype.toBBox=function(R){return R},X.prototype.compareMinX=function(R,j){return R.minX-j.minX},X.prototype.compareMinY=function(R,j){return R.minY-j.minY},X.prototype.toJSON=function(){return this.data},X.prototype.fromJSON=function(R){return this.data=R,this},X.prototype._all=function(R,j){for(var A=[];R;)R.leaf?j.push.apply(j,R.children):A.push.apply(A,R.children),R=A.pop();return j},X.prototype._build=function(R,j,A,T){var O,Y=A-j+1,S=this._maxEntries;if(Y<=S)return se(O=be(R.slice(j,A+1)),this.toBBox),O;T||(T=Math.ceil(Math.log(Y)/Math.log(S)),S=Math.ceil(Y/Math.pow(S,T-1))),(O=be([])).leaf=!1,O.height=T;var N=Math.ceil(Y/S),k=N*Math.ceil(Math.sqrt(S));Ve(R,j,A,k,this.compareMinX);for(var C=j;C<=A;C+=k){var ve=Math.min(C+k-1,A);Ve(R,C,ve,N,this.compareMinY);for(var Z=C;Z<=ve;Z+=N){var te=Math.min(Z+N-1,ve);O.children.push(this._build(R,Z,te,T-1))}}return se(O,this.toBBox),O},X.prototype._chooseSubtree=function(R,j,A,T){for(;T.push(j),!j.leaf&&T.length-1!==A;){for(var O=1/0,Y=1/0,S=void 0,N=0;N<j.children.length;N++){var k=j.children[N],C=Ae(k),ve=(Z=R,te=k,(Math.max(te.maxX,Z.maxX)-Math.min(te.minX,Z.minX))*(Math.max(te.maxY,Z.maxY)-Math.min(te.minY,Z.minY))-C);ve<Y?(Y=ve,O=C<O?C:O,S=k):ve===Y&&C<O&&(O=C,S=k)}j=S||j.children[0]}var Z,te;return j},X.prototype._insert=function(R,j,A){var T=A?R:this.toBBox(R),O=[],Y=this._chooseSubtree(T,this.data,j,O);for(Y.children.push(R),Q(Y,T);j>=0&&O[j].children.length>this._maxEntries;)this._split(O,j),j--;this._adjustParentBBoxes(T,O,j)},X.prototype._split=function(R,j){var A=R[j],T=A.children.length,O=this._minEntries;this._chooseSplitAxis(A,O,T);var Y=this._chooseSplitIndex(A,O,T),S=be(A.children.splice(Y,A.children.length-Y));S.height=A.height,S.leaf=A.leaf,se(A,this.toBBox),se(S,this.toBBox),j?R[j-1].children.push(S):this._splitRoot(A,S)},X.prototype._splitRoot=function(R,j){this.data=be([R,j]),this.data.height=R.height+1,this.data.leaf=!1,se(this.data,this.toBBox)},X.prototype._chooseSplitIndex=function(R,j,A){for(var T,O,Y,S,N,k,C,ve=1/0,Z=1/0,te=j;te<=A-j;te++){var V=ne(R,0,te,this.toBBox),Be=ne(R,te,A,this.toBBox),Me=(O=V,Y=Be,void 0,void 0,void 0,void 0,S=Math.max(O.minX,Y.minX),N=Math.max(O.minY,Y.minY),k=Math.min(O.maxX,Y.maxX),C=Math.min(O.maxY,Y.maxY),Math.max(0,k-S)*Math.max(0,C-N)),W=Ae(V)+Ae(Be);Me<ve?(ve=Me,T=te,Z=W<Z?W:Z):Me===ve&&W<Z&&(Z=W,T=te)}return T||A-j},X.prototype._chooseSplitAxis=function(R,j,A){var T=R.leaf?this.compareMinX:ue,O=R.leaf?this.compareMinY:Se;this._allDistMargin(R,j,A,T)<this._allDistMargin(R,j,A,O)&&R.children.sort(T)},X.prototype._allDistMargin=function(R,j,A,T){R.children.sort(T);for(var O=this.toBBox,Y=ne(R,0,j,O),S=ne(R,A-j,A,O),N=He(Y)+He(S),k=j;k<A-j;k++){var C=R.children[k];Q(Y,R.leaf?O(C):C),N+=He(Y)}for(var ve=A-j-1;ve>=j;ve--){var Z=R.children[ve];Q(S,R.leaf?O(Z):Z),N+=He(S)}return N},X.prototype._adjustParentBBoxes=function(R,j,A){for(var T=A;T>=0;T--)Q(j[T],R)},X.prototype._condense=function(R){for(var j=R.length-1,A=void 0;j>=0;j--)0===R[j].children.length?j>0?(A=R[j-1].children).splice(A.indexOf(R[j]),1):this.clear():se(R[j],this.toBBox)},X}()},5203:(Ge,De,ee)=>{"use strict";var H,X=SyntaxError,fe=Function,se=TypeError,ne=function(Be){try{return fe('"use strict"; return ('+Be+").constructor;")()}catch{}},Q=Object.getOwnPropertyDescriptor;if(Q)try{Q({},"")}catch{Q=null}var ue=function(){throw new se},Se=Q?function(){try{return ue}catch{try{return Q(arguments,"callee").get}catch{return ue}}}():ue,Ae=ee(2969)(),He=ee(9757)(),ge=Object.getPrototypeOf||(He?function(Be){return Be.__proto__}:null),he={},be=typeof Uint8Array>"u"||!ge?H:ge(Uint8Array),Ve={"%AggregateError%":typeof AggregateError>"u"?H:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?H:ArrayBuffer,"%ArrayIteratorPrototype%":Ae&&ge?ge([][Symbol.iterator]()):H,"%AsyncFromSyncIteratorPrototype%":H,"%AsyncFunction%":he,"%AsyncGenerator%":he,"%AsyncGeneratorFunction%":he,"%AsyncIteratorPrototype%":he,"%Atomics%":typeof Atomics>"u"?H:Atomics,"%BigInt%":typeof BigInt>"u"?H:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?H:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?H:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?H:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?H:Float32Array,"%Float64Array%":typeof Float64Array>"u"?H:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?H:FinalizationRegistry,"%Function%":fe,"%GeneratorFunction%":he,"%Int8Array%":typeof Int8Array>"u"?H:Int8Array,"%Int16Array%":typeof Int16Array>"u"?H:Int16Array,"%Int32Array%":typeof Int32Array>"u"?H:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ae&&ge?ge(ge([][Symbol.iterator]())):H,"%JSON%":"object"==typeof JSON?JSON:H,"%Map%":typeof Map>"u"?H:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ae||!ge?H:ge((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?H:Promise,"%Proxy%":typeof Proxy>"u"?H:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?H:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?H:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ae||!ge?H:ge((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?H:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ae&&ge?ge(""[Symbol.iterator]()):H,"%Symbol%":Ae?Symbol:H,"%SyntaxError%":X,"%ThrowTypeError%":Se,"%TypedArray%":be,"%TypeError%":se,"%Uint8Array%":typeof Uint8Array>"u"?H:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?H:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?H:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?H:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?H:WeakMap,"%WeakRef%":typeof WeakRef>"u"?H:WeakRef,"%WeakSet%":typeof WeakSet>"u"?H:WeakSet};if(ge)try{null.error}catch(Be){var R=ge(ge(Be));Ve["%Error.prototype%"]=R}var j=function Be(Me){var W;if("%AsyncFunction%"===Me)W=ne("async function () {}");else if("%GeneratorFunction%"===Me)W=ne("function* () {}");else if("%AsyncGeneratorFunction%"===Me)W=ne("async function* () {}");else if("%AsyncGenerator%"===Me){var me=Be("%AsyncGeneratorFunction%");me&&(W=me.prototype)}else if("%AsyncIteratorPrototype%"===Me){var q=Be("%AsyncGenerator%");q&&ge&&(W=ge(q.prototype))}return Ve[Me]=W,W},A={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=ee(4444),O=ee(3164),Y=T.call(Function.call,Array.prototype.concat),S=T.call(Function.apply,Array.prototype.splice),N=T.call(Function.call,String.prototype.replace),k=T.call(Function.call,String.prototype.slice),C=T.call(Function.call,RegExp.prototype.exec),ve=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,te=function(Me){var W=k(Me,0,1),me=k(Me,-1);if("%"===W&&"%"!==me)throw new X("invalid intrinsic syntax, expected closing `%`");if("%"===me&&"%"!==W)throw new X("invalid intrinsic syntax, expected opening `%`");var q=[];return N(Me,ve,function(de,we,z,Re){q[q.length]=z?N(Re,Z,"$1"):we||de}),q},V=function(Me,W){var q,me=Me;if(O(A,me)&&(me="%"+(q=A[me])[0]+"%"),O(Ve,me)){var de=Ve[me];if(de===he&&(de=j(me)),typeof de>"u"&&!W)throw new se("intrinsic "+Me+" exists, but is not available. Please file an issue!");return{alias:q,name:me,value:de}}throw new X("intrinsic "+Me+" does not exist!")};Ge.exports=function(Me,W){if("string"!=typeof Me||0===Me.length)throw new se("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof W)throw new se('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,Me))throw new X("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var me=te(Me),q=me.length>0?me[0]:"",de=V("%"+q+"%",W),we=de.name,z=de.value,Re=!1,Oe=de.alias;Oe&&(q=Oe[0],S(me,Y([0,1],Oe)));for(var Ke=1,Le=!0;Ke<me.length;Ke+=1){var st=me[Ke],at=k(st,0,1),dt=k(st,-1);if(('"'===at||"'"===at||"`"===at||'"'===dt||"'"===dt||"`"===dt)&&at!==dt)throw new X("property names with quotes must have matching quotes");if(("constructor"===st||!Le)&&(Re=!0),O(Ve,we="%"+(q+="."+st)+"%"))z=Ve[we];else if(null!=z){if(!(st in z)){if(!W)throw new se("base intrinsic for "+Me+" exists, but the property is not available.");return}if(Q&&Ke+1>=me.length){var Xe=Q(z,st);z=(Le=!!Xe)&&"get"in Xe&&!("originalValue"in Xe.get)?Xe.get:z[st]}else Le=O(z,st),z=z[st];Le&&!Re&&(Ve[we]=z)}}return z}},7027:(Ge,De,ee)=>{"use strict";var X=ee(5203)("%Object.defineProperty%",!0),fe=function(){if(X)try{return X({},"a",{value:1}),!0}catch{return!1}return!1};fe.hasArrayLengthDefineBug=function(){if(!fe())return null;try{return 1!==X([],"length",{value:1}).length}catch{return!0}},Ge.exports=fe},9757:Ge=>{"use strict";var De={foo:{}},ee=Object;Ge.exports=function(){return{__proto__:De}.foo===De.foo&&!({__proto__:null}instanceof ee)}},2969:(Ge,De,ee)=>{"use strict";var H=typeof Symbol<"u"&&Symbol,X=ee(1983);Ge.exports=function(){return"function"==typeof H&&"function"==typeof Symbol&&"symbol"==typeof H("foo")&&"symbol"==typeof Symbol("bar")&&X()}},1983:Ge=>{"use strict";Ge.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var ee={},H=Symbol("test"),X=Object(H);if("string"==typeof H||"[object Symbol]"!==Object.prototype.toString.call(H)||"[object Symbol]"!==Object.prototype.toString.call(X))return!1;for(H in ee[H]=42,ee)return!1;if("function"==typeof Object.keys&&0!==Object.keys(ee).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(ee).length)return!1;var se=Object.getOwnPropertySymbols(ee);if(1!==se.length||se[0]!==H||!Object.prototype.propertyIsEnumerable.call(ee,H))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var ne=Object.getOwnPropertyDescriptor(ee,H);if(42!==ne.value||!0!==ne.enumerable)return!1}return!0}},6259:(Ge,De,ee)=>{"use strict";var H=ee(1983);Ge.exports=function(){return H()&&!!Symbol.toStringTag}},3164:(Ge,De,ee)=>{"use strict";var H=ee(4444);Ge.exports=H.call(Function.call,Object.prototype.hasOwnProperty)},3407:(Ge,De,ee)=>{"use strict";var H=ee(6259)(),fe=ee(5834)("Object.prototype.toString"),se=function(Se){return!(H&&Se&&"object"==typeof Se&&Symbol.toStringTag in Se)&&"[object Arguments]"===fe(Se)},ne=function(Se){return!!se(Se)||null!==Se&&"object"==typeof Se&&"number"==typeof Se.length&&Se.length>=0&&"[object Array]"!==fe(Se)&&"[object Function]"===fe(Se.callee)},Q=function(){return se(arguments)}();se.isLegacyArguments=ne,Ge.exports=Q?se:ne},2374:(Ge,De,ee)=>{"use strict";var H=Date.prototype.getDay,fe=Object.prototype.toString,ne=ee(6259)();Ge.exports=function(ue){return"object"==typeof ue&&null!==ue&&(ne?function(ue){try{return H.call(ue),!0}catch{return!1}}(ue):"[object Date]"===fe.call(ue))}},2342:(Ge,De,ee)=>{"use strict";var fe,se,ne,Q,H=ee(5834),X=ee(6259)();if(X){fe=H("Object.prototype.hasOwnProperty"),se=H("RegExp.prototype.exec"),ne={};var ue=function(){throw ne};Q={toString:ue,valueOf:ue},"symbol"==typeof Symbol.toPrimitive&&(Q[Symbol.toPrimitive]=ue)}var Se=H("Object.prototype.toString"),Ae=Object.getOwnPropertyDescriptor;Ge.exports=X?function(he){if(!he||"object"!=typeof he)return!1;var be=Ae(he,"lastIndex");if(!be||!fe(be,"value"))return!1;try{se(he,Q)}catch(R){return R===ne}}:function(he){return!(!he||"object"!=typeof he&&"function"!=typeof he)&&"[object RegExp]"===Se(he)}},4424:Ge=>{Ge.exports=function X(fe,se,ne){function Q(Ae,He){if(!se[Ae]){if(!fe[Ae]){if(ue)return ue(Ae,!0);var he=new Error("Cannot find module '"+Ae+"'");throw he.code="MODULE_NOT_FOUND",he}var be=se[Ae]={exports:{}};fe[Ae][0].call(be.exports,function(Ve){return Q(fe[Ae][1][Ve]||Ve)},be,be.exports,X,fe,se,ne)}return se[Ae].exports}for(var ue=void 0,Se=0;Se<ne.length;Se++)Q(ne[Se]);return Q}({1:[function(X,fe,se){(function(ne){"use strict";var ue,Q=ne.MutationObserver||ne.WebKitMutationObserver;if(Q){var Se=0,Ae=new Q(Ve),He=ne.document.createTextNode("");Ae.observe(He,{characterData:!0}),ue=function(){He.data=Se=++Se%2}}else if(!ne.setImmediate&&typeof ne.MessageChannel<"u"){var ge=new ne.MessageChannel;ge.port1.onmessage=Ve,ue=function(){ge.port2.postMessage(0)}}else ue="document"in ne&&"onreadystatechange"in ne.document.createElement("script")?function(){var j=ne.document.createElement("script");j.onreadystatechange=function(){Ve(),j.onreadystatechange=null,j.parentNode.removeChild(j),j=null},ne.document.documentElement.appendChild(j)}:function(){setTimeout(Ve,0)};var he,be=[];function Ve(){he=!0;for(var j,A,T=be.length;T;){for(A=be,be=[],j=-1;++j<T;)A[j]();T=be.length}he=!1}fe.exports=function R(j){1===be.push(j)&&!he&&ue()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(X,fe,se){"use strict";var ne=X(1);function Q(){}var ue={},Se=["REJECTED"],Ae=["FULFILLED"],He=["PENDING"];function ge(S){if("function"!=typeof S)throw new TypeError("resolver must be a function");this.state=He,this.queue=[],this.outcome=void 0,S!==Q&&R(this,S)}function he(S,N,k){this.promise=S,"function"==typeof N&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),"function"==typeof k&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function be(S,N,k){ne(function(){var C;try{C=N(k)}catch(ve){return ue.reject(S,ve)}C===S?ue.reject(S,new TypeError("Cannot resolve promise with itself")):ue.resolve(S,C)})}function Ve(S){var N=S&&S.then;if(S&&("object"==typeof S||"function"==typeof S)&&"function"==typeof N)return function(){N.apply(S,arguments)}}function R(S,N){var k=!1;function C(V){k||(k=!0,ue.reject(S,V))}function ve(V){k||(k=!0,ue.resolve(S,V))}var te=j(function Z(){N(ve,C)});"error"===te.status&&C(te.value)}function j(S,N){var k={};try{k.value=S(N),k.status="success"}catch(C){k.status="error",k.value=C}return k}fe.exports=ge,ge.prototype.catch=function(S){return this.then(null,S)},ge.prototype.then=function(S,N){if("function"!=typeof S&&this.state===Ae||"function"!=typeof N&&this.state===Se)return this;var k=new this.constructor(Q);return this.state!==He?be(k,this.state===Ae?S:N,this.outcome):this.queue.push(new he(k,S,N)),k},he.prototype.callFulfilled=function(S){ue.resolve(this.promise,S)},he.prototype.otherCallFulfilled=function(S){be(this.promise,this.onFulfilled,S)},he.prototype.callRejected=function(S){ue.reject(this.promise,S)},he.prototype.otherCallRejected=function(S){be(this.promise,this.onRejected,S)},ue.resolve=function(S,N){var k=j(Ve,N);if("error"===k.status)return ue.reject(S,k.value);var C=k.value;if(C)R(S,C);else{S.state=Ae,S.outcome=N;for(var ve=-1,Z=S.queue.length;++ve<Z;)S.queue[ve].callFulfilled(N)}return S},ue.reject=function(S,N){S.state=Se,S.outcome=N;for(var k=-1,C=S.queue.length;++k<C;)S.queue[k].callRejected(N);return S},ge.resolve=function A(S){return S instanceof this?S:ue.resolve(new this(Q),S)},ge.reject=function T(S){var N=new this(Q);return ue.reject(N,S)},ge.all=function O(S){var N=this;if("[object Array]"!==Object.prototype.toString.call(S))return this.reject(new TypeError("must be an array"));var k=S.length,C=!1;if(!k)return this.resolve([]);for(var ve=new Array(k),Z=0,te=-1,V=new this(Q);++te<k;)Be(S[te],te);return V;function Be(Me,W){N.resolve(Me).then(function me(q){ve[W]=q,++Z===k&&!C&&(C=!0,ue.resolve(V,ve))},function(q){C||(C=!0,ue.reject(V,q))})}},ge.race=function Y(S){var N=this;if("[object Array]"!==Object.prototype.toString.call(S))return this.reject(new TypeError("must be an array"));var k=S.length,C=!1;if(!k)return this.resolve([]);for(var ve=-1,Z=new this(Q);++ve<k;)N.resolve(S[ve]).then(function(Be){C||(C=!0,ue.resolve(Z,Be))},function(Be){C||(C=!0,ue.reject(Z,Be))});return Z}},{1:1}],3:[function(X,fe,se){(function(ne){"use strict";"function"!=typeof ne.Promise&&(ne.Promise=X(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(X,fe,se){"use strict";var ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G};var Se=function ue(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function He(G,ce){G=G||[],ce=ce||{};try{return new Blob(G,ce)}catch(pe){if("TypeError"!==pe.name)throw pe;for(var ye=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),xe=0;xe<G.length;xe+=1)ye.append(G[xe]);return ye.getBlob(ce.type)}}typeof Promise>"u"&&X(3);var ge=Promise;function he(G,ce){ce&&G.then(function(K){ce(null,K)},function(K){ce(K)})}function be(G,ce,K){"function"==typeof ce&&G.then(ce),"function"==typeof K&&G.catch(K)}function Ve(G){return"string"!=typeof G&&(console.warn(G+" used as a key, but it is not a string."),G=String(G)),G}function R(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var j="local-forage-detect-blob-support",A=void 0,T={},O=Object.prototype.toString,Y="readonly",S="readwrite";function N(G){for(var ce=G.length,K=new ArrayBuffer(ce),ye=new Uint8Array(K),xe=0;xe<ce;xe++)ye[xe]=G.charCodeAt(xe);return K}function C(G){return"boolean"==typeof A?ge.resolve(A):function k(G){return new ge(function(ce){var K=G.transaction(j,S),ye=He([""]);K.objectStore(j).put(ye,"key"),K.onabort=function(xe){xe.preventDefault(),xe.stopPropagation(),ce(!1)},K.oncomplete=function(){var xe=navigator.userAgent.match(/Chrome\/(\d+)/),pe=navigator.userAgent.match(/Edge\//);ce(pe||!xe||parseInt(xe[1],10)>=43)}}).catch(function(){return!1})}(G).then(function(ce){return A=ce})}function ve(G){var ce=T[G.name],K={};K.promise=new ge(function(ye,xe){K.resolve=ye,K.reject=xe}),ce.deferredOperations.push(K),ce.dbReady=ce.dbReady?ce.dbReady.then(function(){return K.promise}):K.promise}function Z(G){var K=T[G.name].deferredOperations.pop();if(K)return K.resolve(),K.promise}function te(G,ce){var ye=T[G.name].deferredOperations.pop();if(ye)return ye.reject(ce),ye.promise}function V(G,ce){return new ge(function(K,ye){if(T[G.name]=T[G.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},G.db){if(!ce)return K(G.db);ve(G),G.db.close()}var xe=[G.name];ce&&xe.push(G.version);var pe=Se.open.apply(Se,xe);ce&&(pe.onupgradeneeded=function(je){var Ne=pe.result;try{Ne.createObjectStore(G.storeName),je.oldVersion<=1&&Ne.createObjectStore(j)}catch(nt){if("ConstraintError"!==nt.name)throw nt;console.warn('The database "'+G.name+'" has been upgraded from version '+je.oldVersion+" to version "+je.newVersion+', but the storage "'+G.storeName+'" already exists.')}}),pe.onerror=function(je){je.preventDefault(),ye(pe.error)},pe.onsuccess=function(){var je=pe.result;je.onversionchange=function(Ne){Ne.target.close()},K(je),Z(G)}})}function Be(G){return V(G,!1)}function Me(G){return V(G,!0)}function W(G,ce){if(!G.db)return!0;var K=!G.db.objectStoreNames.contains(G.storeName),xe=G.version>G.db.version;if(G.version<G.db.version&&(G.version!==ce&&console.warn('The database "'+G.name+"\" can't be downgraded from version "+G.db.version+" to version "+G.version+"."),G.version=G.db.version),xe||K){if(K){var pe=G.db.version+1;pe>G.version&&(G.version=pe)}return!0}return!1}function q(G){return He([N(atob(G.data))],{type:G.type})}function de(G){return G&&G.__local_forage_encoded_blob}function we(G){var ce=this,K=ce._initReady().then(function(){var ye=T[ce._dbInfo.name];if(ye&&ye.dbReady)return ye.dbReady});return be(K,G,G),K}function Re(G,ce,K,ye){void 0===ye&&(ye=1);try{var xe=G.db.transaction(G.storeName,ce);K(null,xe)}catch(pe){if(ye>0&&(!G.db||"InvalidStateError"===pe.name||"NotFoundError"===pe.name))return ge.resolve().then(function(){if(!G.db||"NotFoundError"===pe.name&&!G.db.objectStoreNames.contains(G.storeName)&&G.version<=G.db.version)return G.db&&(G.version=G.db.version+1),Me(G)}).then(function(){return function z(G){ve(G);for(var ce=T[G.name],K=ce.forages,ye=0;ye<K.length;ye++){var xe=K[ye];xe._dbInfo.db&&(xe._dbInfo.db.close(),xe._dbInfo.db=null)}return G.db=null,Be(G).then(function(pe){return G.db=pe,W(G)?Me(G):pe}).then(function(pe){G.db=ce.db=pe;for(var je=0;je<K.length;je++)K[je]._dbInfo.db=pe}).catch(function(pe){throw te(G,pe),pe})}(G).then(function(){Re(G,ce,K,ye-1)})}).catch(K);K(pe)}}var Qn={_driver:"asyncStorage",_initStorage:function Ke(G){var ce=this,K={db:null};if(G)for(var ye in G)K[ye]=G[ye];var xe=T[K.name];xe||(T[K.name]=xe={forages:[],db:null,dbReady:null,deferredOperations:[]}),xe.forages.push(ce),ce._initReady||(ce._initReady=ce.ready,ce.ready=we);var pe=[];function je(){return ge.resolve()}for(var Ne=0;Ne<xe.forages.length;Ne++){var nt=xe.forages[Ne];nt!==ce&&pe.push(nt._initReady().catch(je))}var it=xe.forages.slice(0);return ge.all(pe).then(function(){return K.db=xe.db,Be(K)}).then(function(We){return K.db=We,W(K,ce._defaultConfig.version)?Me(K):We}).then(function(We){K.db=xe.db=We,ce._dbInfo=K;for(var ze=0;ze<it.length;ze++){var Gt=it[ze];Gt!==ce&&(Gt._dbInfo.db=K.db,Gt._dbInfo.version=K.version)}})},_support:function Ae(){try{if(!Se||!Se.open)return!1;var G=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ce="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!G||ce)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function st(G,ce){var K=this,ye=new ge(function(xe,pe){K.ready().then(function(){Re(K._dbInfo,Y,function(je,Ne){if(je)return pe(je);try{var it=Ne.objectStore(K._dbInfo.storeName).openCursor(),We=1;it.onsuccess=function(){var ze=it.result;if(ze){var Gt=ze.value;de(Gt)&&(Gt=q(Gt));var qn=G(Gt,ze.key,We++);void 0!==qn?xe(qn):ze.continue()}else xe()},it.onerror=function(){pe(it.error)}}catch(ze){pe(ze)}})}).catch(pe)});return he(ye,ce),ye},getItem:function Le(G,ce){var K=this;G=Ve(G);var ye=new ge(function(xe,pe){K.ready().then(function(){Re(K._dbInfo,Y,function(je,Ne){if(je)return pe(je);try{var it=Ne.objectStore(K._dbInfo.storeName).get(G);it.onsuccess=function(){var We=it.result;void 0===We&&(We=null),de(We)&&(We=q(We)),xe(We)},it.onerror=function(){pe(it.error)}}catch(We){pe(We)}})}).catch(pe)});return he(ye,ce),ye},setItem:function at(G,ce,K){var ye=this;G=Ve(G);var xe=new ge(function(pe,je){var Ne;ye.ready().then(function(){return Ne=ye._dbInfo,"[object Blob]"===O.call(ce)?C(Ne.db).then(function(nt){return nt?ce:function me(G){return new ge(function(ce,K){var ye=new FileReader;ye.onerror=K,ye.onloadend=function(xe){var pe=btoa(xe.target.result||"");ce({__local_forage_encoded_blob:!0,data:pe,type:G.type})},ye.readAsBinaryString(G)})}(ce)}):ce}).then(function(nt){Re(ye._dbInfo,S,function(it,We){if(it)return je(it);try{var ze=We.objectStore(ye._dbInfo.storeName);null===nt&&(nt=void 0);var Gt=ze.put(nt,G);We.oncomplete=function(){void 0===nt&&(nt=null),pe(nt)},We.onabort=We.onerror=function(){je(Gt.error?Gt.error:Gt.transaction.error)}}catch(qn){je(qn)}})}).catch(je)});return he(xe,K),xe},removeItem:function dt(G,ce){var K=this;G=Ve(G);var ye=new ge(function(xe,pe){K.ready().then(function(){Re(K._dbInfo,S,function(je,Ne){if(je)return pe(je);try{var it=Ne.objectStore(K._dbInfo.storeName).delete(G);Ne.oncomplete=function(){xe()},Ne.onerror=function(){pe(it.error)},Ne.onabort=function(){pe(it.error?it.error:it.transaction.error)}}catch(We){pe(We)}})}).catch(pe)});return he(ye,ce),ye},clear:function Xe(G){var ce=this,K=new ge(function(ye,xe){ce.ready().then(function(){Re(ce._dbInfo,S,function(pe,je){if(pe)return xe(pe);try{var nt=je.objectStore(ce._dbInfo.storeName).clear();je.oncomplete=function(){ye()},je.onabort=je.onerror=function(){xe(nt.error?nt.error:nt.transaction.error)}}catch(it){xe(it)}})}).catch(xe)});return he(K,G),K},length:function ht(G){var ce=this,K=new ge(function(ye,xe){ce.ready().then(function(){Re(ce._dbInfo,Y,function(pe,je){if(pe)return xe(pe);try{var nt=je.objectStore(ce._dbInfo.storeName).count();nt.onsuccess=function(){ye(nt.result)},nt.onerror=function(){xe(nt.error)}}catch(it){xe(it)}})}).catch(xe)});return he(K,G),K},key:function Ze(G,ce){var K=this,ye=new ge(function(xe,pe){G<0?xe(null):K.ready().then(function(){Re(K._dbInfo,Y,function(je,Ne){if(je)return pe(je);try{var nt=Ne.objectStore(K._dbInfo.storeName),it=!1,We=nt.openKeyCursor();We.onsuccess=function(){var ze=We.result;ze?0===G||it?xe(ze.key):(it=!0,ze.advance(G)):xe(null)},We.onerror=function(){pe(We.error)}}catch(ze){pe(ze)}})}).catch(pe)});return he(ye,ce),ye},keys:function zn(G){var ce=this,K=new ge(function(ye,xe){ce.ready().then(function(){Re(ce._dbInfo,Y,function(pe,je){if(pe)return xe(pe);try{var nt=je.objectStore(ce._dbInfo.storeName).openKeyCursor(),it=[];nt.onsuccess=function(){var We=nt.result;We?(it.push(We.key),We.continue()):ye(it)},nt.onerror=function(){xe(nt.error)}}catch(We){xe(We)}})}).catch(xe)});return he(K,G),K},dropInstance:function Vn(G,ce){ce=R.apply(this,arguments);var K=this.config();(G="function"!=typeof G&&G||{}).name||(G.name=G.name||K.name,G.storeName=G.storeName||K.storeName);var xe,ye=this;if(G.name){var je=G.name===K.name&&ye._dbInfo.db?ge.resolve(ye._dbInfo.db):Be(G).then(function(Ne){var nt=T[G.name],it=nt.forages;nt.db=Ne;for(var We=0;We<it.length;We++)it[We]._dbInfo.db=Ne;return Ne});xe=je.then(G.storeName?function(Ne){if(Ne.objectStoreNames.contains(G.storeName)){var nt=Ne.version+1;ve(G);var it=T[G.name],We=it.forages;Ne.close();for(var ze=0;ze<We.length;ze++){var Gt=We[ze];Gt._dbInfo.db=null,Gt._dbInfo.version=nt}return new ge(function(Ye,Ue){var yt=Se.open(G.name,nt);yt.onerror=function(Rt){yt.result.close(),Ue(Rt)},yt.onupgradeneeded=function(){yt.result.deleteObjectStore(G.storeName)},yt.onsuccess=function(){var Rt=yt.result;Rt.close(),Ye(Rt)}}).then(function(Ye){it.db=Ye;for(var Ue=0;Ue<We.length;Ue++){var yt=We[Ue];yt._dbInfo.db=Ye,Z(yt._dbInfo)}}).catch(function(Ye){throw(te(G,Ye)||ge.resolve()).catch(function(){}),Ye})}}:function(Ne){ve(G);var nt=T[G.name],it=nt.forages;Ne.close();for(var We=0;We<it.length;We++)it[We]._dbInfo.db=null;return new ge(function(qn,Ye){var Ue=Se.deleteDatabase(G.name);Ue.onerror=function(){var yt=Ue.result;yt&&yt.close(),Ye(Ue.error)},Ue.onblocked=function(){console.warn('dropInstance blocked for database "'+G.name+'" until all open connections are closed')},Ue.onsuccess=function(){var yt=Ue.result;yt&&yt.close(),qn(yt)}}).then(function(qn){nt.db=qn;for(var Ye=0;Ye<it.length;Ye++)Z(it[Ye]._dbInfo)}).catch(function(qn){throw(te(G,qn)||ge.resolve()).catch(function(){}),qn})})}else xe=ge.reject("Invalid arguments");return he(xe,ce),xe}};var Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=/^~~local_forage_type~([^~]+)~/,F="__lfsc__:",P=F.length,J="arbf",Ee="blob",Qt=P+J.length,rn=Object.prototype.toString;function ur(G){var ye,pe,je,Ne,nt,ce=.75*G.length,K=G.length,xe=0;"="===G[G.length-1]&&(ce--,"="===G[G.length-2]&&ce--);var it=new ArrayBuffer(ce),We=new Uint8Array(it);for(ye=0;ye<K;ye+=4)pe=Ct.indexOf(G[ye]),je=Ct.indexOf(G[ye+1]),Ne=Ct.indexOf(G[ye+2]),nt=Ct.indexOf(G[ye+3]),We[xe++]=pe<<2|je>>4,We[xe++]=(15&je)<<4|Ne>>2,We[xe++]=(3&Ne)<<6|63&nt;return it}function _r(G){var ye,ce=new Uint8Array(G),K="";for(ye=0;ye<ce.length;ye+=3)K+=Ct[ce[ye]>>2],K+=Ct[(3&ce[ye])<<4|ce[ye+1]>>4],K+=Ct[(15&ce[ye+1])<<2|ce[ye+2]>>6],K+=Ct[63&ce[ye+2]];return ce.length%3==2?K=K.substring(0,K.length-1)+"=":ce.length%3==1&&(K=K.substring(0,K.length-2)+"=="),K}var Xr={serialize:function Yr(G,ce){var K="";if(G&&(K=rn.call(G)),G&&("[object ArrayBuffer]"===K||G.buffer&&"[object ArrayBuffer]"===rn.call(G.buffer))){var ye,xe=F;G instanceof ArrayBuffer?(ye=G,xe+=J):(ye=G.buffer,"[object Int8Array]"===K?xe+="si08":"[object Uint8Array]"===K?xe+="ui08":"[object Uint8ClampedArray]"===K?xe+="uic8":"[object Int16Array]"===K?xe+="si16":"[object Uint16Array]"===K?xe+="ur16":"[object Int32Array]"===K?xe+="si32":"[object Uint32Array]"===K?xe+="ui32":"[object Float32Array]"===K?xe+="fl32":"[object Float64Array]"===K?xe+="fl64":ce(new Error("Failed to get type for BinaryArray"))),ce(xe+_r(ye))}else if("[object Blob]"===K){var pe=new FileReader;pe.onload=function(){var je="~~local_forage_type~"+G.type+"~"+_r(this.result);ce(F+Ee+je)},pe.readAsArrayBuffer(G)}else try{ce(JSON.stringify(G))}catch(je){console.error("Couldn't convert value into a JSON string: ",G),ce(null,je)}},deserialize:function Sr(G){if(G.substring(0,P)!==F)return JSON.parse(G);var ye,ce=G.substring(Qt),K=G.substring(P,Qt);if(K===Ee&&B.test(ce)){var xe=ce.match(B);ye=xe[1],ce=ce.substring(xe[0].length)}var pe=ur(ce);switch(K){case J:return pe;case Ee:return He([pe],{type:ye});case"si08":return new Int8Array(pe);case"ui08":return new Uint8Array(pe);case"uic8":return new Uint8ClampedArray(pe);case"si16":return new Int16Array(pe);case"ur16":return new Uint16Array(pe);case"si32":return new Int32Array(pe);case"ui32":return new Uint32Array(pe);case"fl32":return new Float32Array(pe);case"fl64":return new Float64Array(pe);default:throw new Error("Unkown type: "+K)}},stringToBuffer:ur,bufferToString:_r};function Xn(G,ce,K,ye){G.executeSql("CREATE TABLE IF NOT EXISTS "+ce.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],K,ye)}function nr(G,ce,K,ye,xe,pe){G.executeSql(K,ye,xe,function(je,Ne){Ne.code===Ne.SYNTAX_ERR?je.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ce.storeName],function(nt,it){it.rows.length?pe(nt,Ne):Xn(nt,ce,function(){nt.executeSql(K,ye,xe,pe)},pe)},pe):pe(je,Ne)},pe)}function oo(G,ce,K,ye){var xe=this;G=Ve(G);var pe=new ge(function(je,Ne){xe.ready().then(function(){void 0===ce&&(ce=null);var nt=ce,it=xe._dbInfo;it.serializer.serialize(ce,function(We,ze){ze?Ne(ze):it.db.transaction(function(Gt){nr(Gt,it,"INSERT OR REPLACE INTO "+it.storeName+" (key, value) VALUES (?, ?)",[G,We],function(){je(nt)},function(qn,Ye){Ne(Ye)})},function(Gt){if(Gt.code===Gt.QUOTA_ERR){if(ye>0)return void je(oo.apply(xe,[G,nt,K,ye-1]));Ne(Gt)}})})}).catch(Ne)});return he(pe,K),pe}function du(G){return new ge(function(ce,K){G.transaction(function(ye){ye.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(xe,pe){for(var je=[],Ne=0;Ne<pe.rows.length;Ne++)je.push(pe.rows.item(Ne).name);ce({db:G,storeNames:je})},function(xe,pe){K(pe)})},function(ye){K(ye)})})}var Vo={_driver:"webSQLStorage",_initStorage:function Zi(G){var ce=this,K={db:null};if(G)for(var ye in G)K[ye]="string"!=typeof G[ye]?G[ye].toString():G[ye];var xe=new ge(function(pe,je){try{K.db=openDatabase(K.name,String(K.version),K.description,K.size)}catch(Ne){return je(Ne)}K.db.transaction(function(Ne){Xn(Ne,K,function(){ce._dbInfo=K,pe()},function(nt,it){je(it)})},je)});return K.serializer=Xr,xe},_support:function Et(){return"function"==typeof openDatabase}(),iterate:function js(G,ce){var K=this,ye=new ge(function(xe,pe){K.ready().then(function(){var je=K._dbInfo;je.db.transaction(function(Ne){nr(Ne,je,"SELECT * FROM "+je.storeName,[],function(nt,it){for(var We=it.rows,ze=We.length,Gt=0;Gt<ze;Gt++){var qn=We.item(Gt),Ye=qn.value;if(Ye&&(Ye=je.serializer.deserialize(Ye)),void 0!==(Ye=G(Ye,qn.key,Gt+1)))return void xe(Ye)}xe()},function(nt,it){pe(it)})})}).catch(pe)});return he(ye,ce),ye},getItem:function Je(G,ce){var K=this;G=Ve(G);var ye=new ge(function(xe,pe){K.ready().then(function(){var je=K._dbInfo;je.db.transaction(function(Ne){nr(Ne,je,"SELECT * FROM "+je.storeName+" WHERE key = ? LIMIT 1",[G],function(nt,it){var We=it.rows.length?it.rows.item(0).value:null;We&&(We=je.serializer.deserialize(We)),xe(We)},function(nt,it){pe(it)})})}).catch(pe)});return he(ye,ce),ye},setItem:function Ut(G,ce,K){return oo.apply(this,[G,ce,K,1])},removeItem:function ko(G,ce){var K=this;G=Ve(G);var ye=new ge(function(xe,pe){K.ready().then(function(){var je=K._dbInfo;je.db.transaction(function(Ne){nr(Ne,je,"DELETE FROM "+je.storeName+" WHERE key = ?",[G],function(){xe()},function(nt,it){pe(it)})})}).catch(pe)});return he(ye,ce),ye},clear:function Co(G){var ce=this,K=new ge(function(ye,xe){ce.ready().then(function(){var pe=ce._dbInfo;pe.db.transaction(function(je){nr(je,pe,"DELETE FROM "+pe.storeName,[],function(){ye()},function(Ne,nt){xe(nt)})})}).catch(xe)});return he(K,G),K},length:function Bo(G){var ce=this,K=new ge(function(ye,xe){ce.ready().then(function(){var pe=ce._dbInfo;pe.db.transaction(function(je){nr(je,pe,"SELECT COUNT(key) as c FROM "+pe.storeName,[],function(Ne,nt){var it=nt.rows.item(0).c;ye(it)},function(Ne,nt){xe(nt)})})}).catch(xe)});return he(K,G),K},key:function Ms(G,ce){var K=this,ye=new ge(function(xe,pe){K.ready().then(function(){var je=K._dbInfo;je.db.transaction(function(Ne){nr(Ne,je,"SELECT key FROM "+je.storeName+" WHERE id = ? LIMIT 1",[G+1],function(nt,it){var We=it.rows.length?it.rows.item(0).key:null;xe(We)},function(nt,it){pe(it)})})}).catch(pe)});return he(ye,ce),ye},keys:function Dc(G){var ce=this,K=new ge(function(ye,xe){ce.ready().then(function(){var pe=ce._dbInfo;pe.db.transaction(function(je){nr(je,pe,"SELECT key FROM "+pe.storeName,[],function(Ne,nt){for(var it=[],We=0;We<nt.rows.length;We++)it.push(nt.rows.item(We).key);ye(it)},function(Ne,nt){xe(nt)})})}).catch(xe)});return he(K,G),K},dropInstance:function ml(G,ce){ce=R.apply(this,arguments);var K=this.config();(G="function"!=typeof G&&G||{}).name||(G.name=G.name||K.name,G.storeName=G.storeName||K.storeName);var xe,ye=this;return he(xe=G.name?new ge(function(pe){var je;je=G.name===K.name?ye._dbInfo.db:openDatabase(G.name,"","",0),pe(G.storeName?{db:je,storeNames:[G.storeName]}:du(je))}).then(function(pe){return new ge(function(je,Ne){pe.db.transaction(function(nt){function it(qn){return new ge(function(Ye,Ue){nt.executeSql("DROP TABLE IF EXISTS "+qn,[],function(){Ye()},function(yt,Rt){Ue(Rt)})})}for(var We=[],ze=0,Gt=pe.storeNames.length;ze<Gt;ze++)We.push(it(pe.storeNames[ze]));ge.all(We).then(function(){je()}).catch(function(qn){Ne(qn)})},function(nt){Ne(nt)})})}):ge.reject("Invalid arguments"),ce),xe}};function ki(G,ce){var K=G.name+"/";return G.storeName!==ce.storeName&&(K+=G.storeName+"/"),K}function sn(){return!function Ns(){var G="_localforage_support_test";try{return localStorage.setItem(G,!0),localStorage.removeItem(G),!1}catch{return!0}}()||localStorage.length>0}var gr={_driver:"localStorageWrapper",_initStorage:function so(G){var K={};if(G)for(var ye in G)K[ye]=G[ye];return K.keyPrefix=ki(G,this._defaultConfig),sn()?(this._dbInfo=K,K.serializer=Xr,ge.resolve()):ge.reject()},_support:function sa(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function ni(G,ce){var K=this,ye=K.ready().then(function(){for(var xe=K._dbInfo,pe=xe.keyPrefix,je=pe.length,Ne=localStorage.length,nt=1,it=0;it<Ne;it++){var We=localStorage.key(it);if(0===We.indexOf(pe)){var ze=localStorage.getItem(We);if(ze&&(ze=xe.serializer.deserialize(ze)),void 0!==(ze=G(ze,We.substring(je),nt++)))return ze}}});return he(ye,ce),ye},getItem:function Ji(G,ce){var K=this;G=Ve(G);var ye=K.ready().then(function(){var xe=K._dbInfo,pe=localStorage.getItem(xe.keyPrefix+G);return pe&&(pe=xe.serializer.deserialize(pe)),pe});return he(ye,ce),ye},setItem:function Ps(G,ce,K){var ye=this;G=Ve(G);var xe=ye.ready().then(function(){void 0===ce&&(ce=null);var pe=ce;return new ge(function(je,Ne){var nt=ye._dbInfo;nt.serializer.serialize(ce,function(it,We){if(We)Ne(We);else try{localStorage.setItem(nt.keyPrefix+G,it),je(pe)}catch(ze){("QuotaExceededError"===ze.name||"NS_ERROR_DOM_QUOTA_REACHED"===ze.name)&&Ne(ze),Ne(ze)}})})});return he(xe,K),xe},removeItem:function Zn(G,ce){var K=this;G=Ve(G);var ye=K.ready().then(function(){localStorage.removeItem(K._dbInfo.keyPrefix+G)});return he(ye,ce),ye},clear:function Do(G){var ce=this,K=ce.ready().then(function(){for(var ye=ce._dbInfo.keyPrefix,xe=localStorage.length-1;xe>=0;xe--){var pe=localStorage.key(xe);0===pe.indexOf(ye)&&localStorage.removeItem(pe)}});return he(K,G),K},length:function pu(G){var K=this.keys().then(function(ye){return ye.length});return he(K,G),K},key:function As(G,ce){var K=this,ye=K.ready().then(function(){var pe,xe=K._dbInfo;try{pe=localStorage.key(G)}catch{pe=null}return pe&&(pe=pe.substring(xe.keyPrefix.length)),pe});return he(ye,ce),ye},keys:function Tr(G){var ce=this,K=ce.ready().then(function(){for(var ye=ce._dbInfo,xe=localStorage.length,pe=[],je=0;je<xe;je++){var Ne=localStorage.key(je);0===Ne.indexOf(ye.keyPrefix)&&pe.push(Ne.substring(ye.keyPrefix.length))}return pe});return he(K,G),K},dropInstance:function Un(G,ce){if(ce=R.apply(this,arguments),!(G="function"!=typeof G&&G||{}).name){var K=this.config();G.name=G.name||K.name,G.storeName=G.storeName||K.storeName}var xe,ye=this;return he(xe=G.name?new ge(function(pe){pe(G.storeName?ki(G,ye._defaultConfig):G.name+"/")}).then(function(pe){for(var je=localStorage.length-1;je>=0;je--){var Ne=localStorage.key(je);0===Ne.indexOf(pe)&&localStorage.removeItem(Ne)}}):ge.reject("Invalid arguments"),ce),xe}},Ra=function(ce,K){return ce===K||"number"==typeof ce&&"number"==typeof K&&isNaN(ce)&&isNaN(K)},Si=function(ce,K){for(var ye=ce.length,xe=0;xe<ye;){if(Ra(ce[xe],K))return!0;xe++}return!1},Io=Array.isArray||function(G){return"[object Array]"===Object.prototype.toString.call(G)},rr={},Uo={},xi={INDEXEDDB:Qn,WEBSQL:Vo,LOCALSTORAGE:gr},So=[xi.INDEXEDDB._driver,xi.WEBSQL._driver,xi.LOCALSTORAGE._driver],ri=["dropInstance"],aa=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ri),Oa={description:"",driver:So.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function La(G,ce){G[ce]=function(){var K=arguments;return G.ready().then(function(){return G[ce].apply(G,K)})}}function $s(){for(var G=1;G<arguments.length;G++){var ce=arguments[G];if(ce)for(var K in ce)ce.hasOwnProperty(K)&&(arguments[0][K]=Io(ce[K])?ce[K].slice():ce[K])}return arguments[0]}var hr=function(){function G(ce){for(var K in function Q(G,ce){if(!(G instanceof ce))throw new TypeError("Cannot call a class as a function")}(this,G),xi)if(xi.hasOwnProperty(K)){var ye=xi[K],xe=ye._driver;this[K]=xe,rr[xe]||this.defineDriver(ye)}this._defaultConfig=$s({},Oa),this._config=$s({},this._defaultConfig,ce),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return G.prototype.config=function(K){if("object"===(typeof K>"u"?"undefined":ne(K))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ye in K){if("storeName"===ye&&(K[ye]=K[ye].replace(/\W/g,"_")),"version"===ye&&"number"!=typeof K[ye])return new Error("Database version must be a number.");this._config[ye]=K[ye]}return!("driver"in K)||!K.driver||this.setDriver(this._config.driver)}return"string"==typeof K?this._config[K]:this._config},G.prototype.defineDriver=function(K,ye,xe){var pe=new ge(function(je,Ne){try{var nt=K._driver,it=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!K._driver)return void Ne(it);for(var We=aa.concat("_initStorage"),ze=0,Gt=We.length;ze<Gt;ze++){var qn=We[ze];if((!Si(ri,qn)||K[qn])&&"function"!=typeof K[qn])return void Ne(it)}!function(){for(var Ki=function(xr){return function(){var Ic=new Error("Method "+xr+" is not implemented by the current driver"),Sc=ge.reject(Ic);return he(Sc,arguments[arguments.length-1]),Sc}},Fa=0,ii=ri.length;Fa<ii;Fa++){var un=ri[Fa];K[un]||(K[un]=Ki(un))}}();var yt=function(Ki){rr[nt]&&console.info("Redefining LocalForage driver: "+nt),rr[nt]=K,Uo[nt]=Ki,je()};"_support"in K?K._support&&"function"==typeof K._support?K._support().then(yt,Ne):yt(!!K._support):yt(!0)}catch(Rt){Ne(Rt)}});return be(pe,ye,xe),pe},G.prototype.driver=function(){return this._driver||null},G.prototype.getDriver=function(K,ye,xe){var pe=rr[K]?ge.resolve(rr[K]):ge.reject(new Error("Driver not found."));return be(pe,ye,xe),pe},G.prototype.getSerializer=function(K){var ye=ge.resolve(Xr);return be(ye,K),ye},G.prototype.ready=function(K){var ye=this,xe=ye._driverSet.then(function(){return null===ye._ready&&(ye._ready=ye._initDriver()),ye._ready});return be(xe,K,K),xe},G.prototype.setDriver=function(K,ye,xe){var pe=this;Io(K)||(K=[K]);var je=this._getSupportedDrivers(K);function Ne(){pe._config.driver=pe.driver()}function nt(ze){return pe._extend(ze),Ne(),pe._ready=pe._initStorage(pe._config),pe._ready}var We=null!==this._driverSet?this._driverSet.catch(function(){return ge.resolve()}):ge.resolve();return this._driverSet=We.then(function(){var ze=je[0];return pe._dbInfo=null,pe._ready=null,pe.getDriver(ze).then(function(Gt){pe._driver=Gt._driver,Ne(),pe._wrapLibraryMethodsWithReady(),pe._initDriver=function it(ze){return function(){var Gt=0;return function qn(){for(;Gt<ze.length;){var Ye=ze[Gt];return Gt++,pe._dbInfo=null,pe._ready=null,pe.getDriver(Ye).then(nt).catch(qn)}Ne();var Ue=new Error("No available storage method found.");return pe._driverSet=ge.reject(Ue),pe._driverSet}()}}(je)})}).catch(function(){Ne();var ze=new Error("No available storage method found.");return pe._driverSet=ge.reject(ze),pe._driverSet}),be(this._driverSet,ye,xe),this._driverSet},G.prototype.supports=function(K){return!!Uo[K]},G.prototype._extend=function(K){$s(this,K)},G.prototype._getSupportedDrivers=function(K){for(var ye=[],xe=0,pe=K.length;xe<pe;xe++){var je=K[xe];this.supports(je)&&ye.push(je)}return ye},G.prototype._wrapLibraryMethodsWithReady=function(){for(var K=0,ye=aa.length;K<ye;K++)La(this,aa[K])},G.prototype.createInstance=function(K){return new G(K)},G}(),yl=new hr;fe.exports=yl},{3:3}]},{},[4])(4)},5943:Ge=>{"use strict";var De=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;function X(se){if(null==se)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(se)}Ge.exports=function fe(){try{if(!Object.assign)return!1;var se=new String("abc");if(se[5]="de","5"===Object.getOwnPropertyNames(se)[0])return!1;for(var ne={},Q=0;Q<10;Q++)ne["_"+String.fromCharCode(Q)]=Q;if("0123456789"!==Object.getOwnPropertyNames(ne).map(function(Ae){return ne[Ae]}).join(""))return!1;var Se={};return"abcdefghijklmnopqrst".split("").forEach(function(Ae){Se[Ae]=Ae}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},Se)).join("")}catch{return!1}}()?Object.assign:function(se,ne){for(var Q,Se,ue=X(se),Ae=1;Ae<arguments.length;Ae++){for(var He in Q=Object(arguments[Ae]))ee.call(Q,He)&&(ue[He]=Q[He]);if(De){Se=De(Q);for(var ge=0;ge<Se.length;ge++)H.call(Q,Se[ge])&&(ue[Se[ge]]=Q[Se[ge]])}}return ue}},1175:Ge=>{"use strict";var De=function(ee){return ee!=ee};Ge.exports=function(H,X){return 0===H&&0===X?1/H==1/X:!!(H===X||De(H)&&De(X))}},2e3:(Ge,De,ee)=>{"use strict";var H=ee(2358),X=ee(5685),fe=ee(1175),se=ee(6305),ne=ee(3859),Q=X(se(),Object);H(Q,{getPolyfill:se,implementation:fe,shim:ne}),Ge.exports=Q},6305:(Ge,De,ee)=>{"use strict";var H=ee(1175);Ge.exports=function(){return"function"==typeof Object.is?Object.is:H}},3859:(Ge,De,ee)=>{"use strict";var H=ee(6305),X=ee(2358);Ge.exports=function(){var se=H();return X(Object,{is:se},{is:function(){return Object.is!==se}}),se}},2450:(Ge,De,ee)=>{"use strict";var H;if(!Object.keys){var X=Object.prototype.hasOwnProperty,fe=Object.prototype.toString,se=ee(9978),ne=Object.prototype.propertyIsEnumerable,Q=!ne.call({toString:null},"toString"),ue=ne.call(function(){},"prototype"),Se=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ae=function(be){var Ve=be.constructor;return Ve&&Ve.prototype===be},He={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ge=function(){if(typeof window>"u")return!1;for(var be in window)try{if(!He["$"+be]&&X.call(window,be)&&null!==window[be]&&"object"==typeof window[be])try{Ae(window[be])}catch{return!0}}catch{return!0}return!1}();H=function(Ve){var R=null!==Ve&&"object"==typeof Ve,j="[object Function]"===fe.call(Ve),A=se(Ve),T=R&&"[object String]"===fe.call(Ve),O=[];if(!R&&!j&&!A)throw new TypeError("Object.keys called on a non-object");var Y=ue&&j;if(T&&Ve.length>0&&!X.call(Ve,0))for(var S=0;S<Ve.length;++S)O.push(String(S));if(A&&Ve.length>0)for(var N=0;N<Ve.length;++N)O.push(String(N));else for(var k in Ve)(!Y||"prototype"!==k)&&X.call(Ve,k)&&O.push(String(k));if(Q)for(var C=function(be){if(typeof window>"u"||!ge)return Ae(be);try{return Ae(be)}catch{return!1}}(Ve),ve=0;ve<Se.length;++ve)(!C||"constructor"!==Se[ve])&&X.call(Ve,Se[ve])&&O.push(Se[ve]);return O}}Ge.exports=H},1356:(Ge,De,ee)=>{"use strict";var H=Array.prototype.slice,X=ee(9978),fe=Object.keys,se=fe?function(ue){return fe(ue)}:ee(2450),ne=Object.keys;se.shim=function(){if(Object.keys){var ue=function(){var Se=Object.keys(arguments);return Se&&Se.length===arguments.length}(1,2);ue||(Object.keys=function(Ae){return X(Ae)?ne(H.call(Ae)):ne(Ae)})}else Object.keys=se;return Object.keys||se},Ge.exports=se},9978:Ge=>{"use strict";var De=Object.prototype.toString;Ge.exports=function(H){var X=De.call(H),fe="[object Arguments]"===X;return fe||(fe="[object Array]"!==X&&null!==H&&"object"==typeof H&&"number"==typeof H.length&&H.length>=0&&"[object Function]"===De.call(H.callee)),fe}},1766:Ge=>{Ge.exports=function(ee,H,X,fe){var se=ee[0],ne=ee[1],Q=!1;void 0===X&&(X=0),void 0===fe&&(fe=H.length);for(var ue=(fe-X)/2,Se=0,Ae=ue-1;Se<ue;Ae=Se++){var He=H[X+2*Se+0],ge=H[X+2*Se+1],be=H[X+2*Ae+1];ge>ne!=be>ne&&se<(H[X+2*Ae+0]-He)*(ne-ge)/(be-ge)+He&&(Q=!Q)}return Q}},3870:(Ge,De,ee)=>{var H=ee(1766),X=ee(2260);Ge.exports=function(se,ne,Q,ue){return ne.length>0&&Array.isArray(ne[0])?X(se,ne,Q,ue):H(se,ne,Q,ue)},Ge.exports.nested=X,Ge.exports.flat=H},2260:Ge=>{Ge.exports=function(ee,H,X,fe){var se=ee[0],ne=ee[1],Q=!1;void 0===X&&(X=0),void 0===fe&&(fe=H.length);for(var ue=fe-X,Se=0,Ae=ue-1;Se<ue;Ae=Se++){var He=H[Se+X][0],ge=H[Se+X][1],be=H[Ae+X][1];ge>ne!=be>ne&&se<(H[Ae+X][0]-He)*(ne-ge)/(be-ge)+He&&(Q=!Q)}return Q}},9855:function(Ge){Ge.exports=function(){"use strict";function De(Ie,B){if(!(Ie instanceof B))throw new TypeError("Cannot call a class as a function")}function ee(Ie,B){for(var F=0;F<B.length;F++){var P=B[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(Ie,P.key,P)}}function H(Ie,B,F){return B&&ee(Ie.prototype,B),F&&ee(Ie,F),Ie}var X=function Ie(B,F){this.next=null,this.key=B,this.data=F,this.left=null,this.right=null};function fe(Ie,B){return Ie>B?1:Ie<B?-1:0}function se(Ie,B,F){for(var P=new X(null,null),J=P,Ee=P;;){var Pe=F(Ie,B.key);if(Pe<0){if(null===B.left)break;if(F(Ie,B.left.key)<0&&(B.left=($e=B.left).right,$e.right=B,null===(B=$e).left))break;Ee.left=B,Ee=B,B=B.left}else{if(!(Pe>0))break;if(null===B.right)break;var $e;if(F(Ie,B.right.key)>0&&(B.right=($e=B.right).left,$e.left=B,null===(B=$e).right))break;J.right=B,J=B,B=B.right}}return J.right=B.left,Ee.left=B.right,B.left=P.right,B.right=P.left,B}function ne(Ie,B,F,P){var J=new X(Ie,B);if(null===F)return J.left=J.right=null,J;var Ee=P(Ie,(F=se(Ie,F,P)).key);return Ee<0?(J.left=F.left,J.right=F,F.left=null):Ee>=0&&(J.right=F.right,J.left=F,F.right=null),J}function Q(Ie,B,F){var P=null,J=null;if(B){var Ee=F((B=se(Ie,B,F)).key,Ie);0===Ee?(P=B.left,J=B.right):Ee<0?(J=B.right,B.right=null,P=B):(P=B.left,B.left=null,J=B)}return{left:P,right:J}}function Se(Ie,B,F,P,J){if(Ie){P(B+(F?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+J(Ie)+"\n");var Ee=B+(F?"    ":"\u2502   ");Ie.left&&Se(Ie.left,Ee,!1,P,J),Ie.right&&Se(Ie.right,Ee,!0,P,J)}}var Ae=function(){function Ie(B){void 0===B&&(B=fe),this._root=null,this._size=0,this._comparator=B}return Ie.prototype.insert=function(B,F){return this._size++,this._root=ne(B,F,this._root,this._comparator)},Ie.prototype.add=function(B,F){var P=new X(B,F);null===this._root&&(P.left=P.right=null,this._size++,this._root=P);var J=this._comparator,Ee=se(B,this._root,J),Pe=J(B,Ee.key);return 0===Pe?this._root=Ee:(Pe<0?(P.left=Ee.left,P.right=Ee,Ee.left=null):Pe>0&&(P.right=Ee.right,P.left=Ee,Ee.right=null),this._size++,this._root=P),this._root},Ie.prototype.remove=function(B){this._root=this._remove(B,this._root,this._comparator)},Ie.prototype._remove=function(B,F,P){var J;return null===F?null:0===P(B,(F=se(B,F,P)).key)?(null===F.left?J=F.right:(J=se(B,F.left,P)).right=F.right,this._size--,J):F},Ie.prototype.pop=function(){var B=this._root;if(B){for(;B.left;)B=B.left;return this._root=se(B.key,this._root,this._comparator),this._root=this._remove(B.key,this._root,this._comparator),{key:B.key,data:B.data}}return null},Ie.prototype.findStatic=function(B){for(var F=this._root,P=this._comparator;F;){var J=P(B,F.key);if(0===J)return F;F=J<0?F.left:F.right}return null},Ie.prototype.find=function(B){return this._root&&(this._root=se(B,this._root,this._comparator),0!==this._comparator(B,this._root.key))?null:this._root},Ie.prototype.contains=function(B){for(var F=this._root,P=this._comparator;F;){var J=P(B,F.key);if(0===J)return!0;F=J<0?F.left:F.right}return!1},Ie.prototype.forEach=function(B,F){for(var P=this._root,J=[],Ee=!1;!Ee;)null!==P?(J.push(P),P=P.left):0!==J.length?(P=J.pop(),B.call(F,P),P=P.right):Ee=!0;return this},Ie.prototype.range=function(B,F,P,J){for(var Ee=[],Pe=this._comparator,$e=this._root;0!==Ee.length||$e;)if($e)Ee.push($e),$e=$e.left;else{if(Pe(($e=Ee.pop()).key,F)>0)break;if(Pe($e.key,B)>=0&&P.call(J,$e))return this;$e=$e.right}return this},Ie.prototype.keys=function(){var B=[];return this.forEach(function(F){return B.push(F.key)}),B},Ie.prototype.values=function(){var B=[];return this.forEach(function(F){return B.push(F.data)}),B},Ie.prototype.min=function(){return this._root?this.minNode(this._root).key:null},Ie.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},Ie.prototype.minNode=function(B){if(void 0===B&&(B=this._root),B)for(;B.left;)B=B.left;return B},Ie.prototype.maxNode=function(B){if(void 0===B&&(B=this._root),B)for(;B.right;)B=B.right;return B},Ie.prototype.at=function(B){for(var F=this._root,P=!1,J=0,Ee=[];!P;)if(F)Ee.push(F),F=F.left;else if(Ee.length>0){if(F=Ee.pop(),J===B)return F;J++,F=F.right}else P=!0;return null},Ie.prototype.next=function(B){var F=this._root,P=null;if(B.right){for(P=B.right;P.left;)P=P.left;return P}for(var J=this._comparator;F;){var Ee=J(B.key,F.key);if(0===Ee)break;Ee<0?(P=F,F=F.left):F=F.right}return P},Ie.prototype.prev=function(B){var F=this._root,P=null;if(null!==B.left){for(P=B.left;P.right;)P=P.right;return P}for(var J=this._comparator;F;){var Ee=J(B.key,F.key);if(0===Ee)break;Ee<0?F=F.left:(P=F,F=F.right)}return P},Ie.prototype.clear=function(){return this._root=null,this._size=0,this},Ie.prototype.toList=function(){return function he(Ie){for(var B=Ie,F=[],P=!1,J=new X(null,null),Ee=J;!P;)B?(F.push(B),B=B.left):F.length>0?B=(B=Ee=Ee.next=F.pop()).right:P=!0;return Ee.next=null,J.next}(this._root)},Ie.prototype.load=function(B,F,P){void 0===F&&(F=[]),void 0===P&&(P=!1);var J=B.length,Ee=this._comparator;if(P&&R(B,F,0,J-1,Ee),null===this._root)this._root=He(B,F,0,J),this._size=J;else{var Pe=function Ve(Ie,B,F){for(var P=new X(null,null),J=P,Ee=Ie,Pe=B;null!==Ee&&null!==Pe;)F(Ee.key,Pe.key)<0?(J.next=Ee,Ee=Ee.next):(J.next=Pe,Pe=Pe.next),J=J.next;return null!==Ee?J.next=Ee:null!==Pe&&(J.next=Pe),P.next}(this.toList(),function ge(Ie,B){for(var F=new X(null,null),P=F,J=0;J<Ie.length;J++)P=P.next=new X(Ie[J],B[J]);return P.next=null,F.next}(B,F),Ee);this._root=be({head:Pe},0,J=this._size+J)}return this},Ie.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(Ie.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Ie.prototype.toString=function(B){void 0===B&&(B=function(J){return String(J.key)});var F=[];return Se(this._root,"",!0,function(P){return F.push(P)},B),F.join("")},Ie.prototype.update=function(B,F,P){var J=this._comparator,Ee=Q(B,this._root,J),Pe=Ee.left,$e=Ee.right;J(B,F)<0?$e=ne(F,P,$e,J):Pe=ne(F,P,Pe,J),this._root=function ue(Ie,B,F){return null===B?Ie:(null===Ie||((B=se(Ie.key,B,F)).left=Ie),B)}(Pe,$e,J)},Ie.prototype.split=function(B){return Q(B,this._root,this._comparator)},Ie}();function He(Ie,B,F,P){var J=P-F;if(J>0){var Ee=F+Math.floor(J/2),qe=new X(Ie[Ee],B[Ee]);return qe.left=He(Ie,B,F,Ee),qe.right=He(Ie,B,Ee+1,P),qe}return null}function be(Ie,B,F){var P=F-B;if(P>0){var J=B+Math.floor(P/2),Ee=be(Ie,B,J),Pe=Ie.head;return Pe.left=Ee,Ie.head=Ie.head.next,Pe.right=be(Ie,J+1,F),Pe}return null}function R(Ie,B,F,P,J){if(!(F>=P)){for(var Ee=Ie[F+P>>1],Pe=F-1,$e=P+1;;){do{Pe++}while(J(Ie[Pe],Ee)<0);do{$e--}while(J(Ie[$e],Ee)>0);if(Pe>=$e)break;var qe=Ie[Pe];Ie[Pe]=Ie[$e],Ie[$e]=qe,qe=B[Pe],B[Pe]=B[$e],B[$e]=qe}R(Ie,B,F,$e,J),R(Ie,B,$e+1,P,J)}}var j=function(B,F){return B.ll.x<=F.x&&F.x<=B.ur.x&&B.ll.y<=F.y&&F.y<=B.ur.y},A=function(B,F){return F.ur.x<B.ll.x||B.ur.x<F.ll.x||F.ur.y<B.ll.y||B.ur.y<F.ll.y?null:{ll:{x:B.ll.x<F.ll.x?F.ll.x:B.ll.x,y:B.ll.y<F.ll.y?F.ll.y:B.ll.y},ur:{x:B.ur.x<F.ur.x?B.ur.x:F.ur.x,y:B.ur.y<F.ur.y?B.ur.y:F.ur.y}}},T=Number.EPSILON;void 0===T&&(T=Math.pow(2,-52));var O=T*T,Y=function(B,F){if(-T<B&&B<T&&-T<F&&F<T)return 0;var P=B-F;return P*P<O*B*F?0:B<F?-1:1},S=function(){function Ie(){De(this,Ie),this.reset()}return H(Ie,[{key:"reset",value:function(){this.xRounder=new N,this.yRounder=new N}},{key:"round",value:function(F,P){return{x:this.xRounder.round(F),y:this.yRounder.round(P)}}}]),Ie}(),N=function(){function Ie(){De(this,Ie),this.tree=new Ae,this.round(0)}return H(Ie,[{key:"round",value:function(F){var P=this.tree.add(F),J=this.tree.prev(P);if(null!==J&&0===Y(P.key,J.key))return this.tree.remove(F),J.key;var Ee=this.tree.next(P);return null!==Ee&&0===Y(P.key,Ee.key)?(this.tree.remove(F),Ee.key):F}}]),Ie}(),k=new S,C=function(B,F){return B.x*F.y-B.y*F.x},ve=function(B,F){return B.x*F.x+B.y*F.y},Z=function(B,F,P){var Pe=C({x:F.x-B.x,y:F.y-B.y},{x:P.x-B.x,y:P.y-B.y});return Y(Pe,0)},te=function(B){return Math.sqrt(ve(B,B))},V=function(B,F,P){var J={x:F.x-B.x,y:F.y-B.y},Ee={x:P.x-B.x,y:P.y-B.y};return C(Ee,J)/te(Ee)/te(J)},Be=function(B,F,P){var J={x:F.x-B.x,y:F.y-B.y},Ee={x:P.x-B.x,y:P.y-B.y};return ve(Ee,J)/te(Ee)/te(J)},Me=function(B,F,P){return 0===F.y?null:{x:B.x+F.x/F.y*(P-B.y),y:P}},W=function(B,F,P){return 0===F.x?null:{x:P,y:B.y+F.y/F.x*(P-B.x)}},q=function(){function Ie(B,F){De(this,Ie),void 0===B.events?B.events=[this]:B.events.push(this),this.point=B,this.isLeft=F}return H(Ie,null,[{key:"compare",value:function(F,P){var J=Ie.comparePoints(F.point,P.point);return 0!==J?J:(F.point!==P.point&&F.link(P),F.isLeft!==P.isLeft?F.isLeft?1:-1:we.compare(F.segment,P.segment))}},{key:"comparePoints",value:function(F,P){return F.x<P.x?-1:F.x>P.x?1:F.y<P.y?-1:F.y>P.y?1:0}}]),H(Ie,[{key:"link",value:function(F){if(F.point===this.point)throw new Error("Tried to link already linked events");for(var P=F.point.events,J=0,Ee=P.length;J<Ee;J++){var Pe=P[J];this.point.events.push(Pe),Pe.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var F=this.point.events.length,P=0;P<F;P++){var J=this.point.events[P];if(void 0===J.segment.consumedBy)for(var Ee=P+1;Ee<F;Ee++){var Pe=this.point.events[Ee];void 0===Pe.consumedBy&&J.otherSE.point.events===Pe.otherSE.point.events&&J.segment.consume(Pe.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var F=[],P=0,J=this.point.events.length;P<J;P++){var Ee=this.point.events[P];Ee!==this&&!Ee.segment.ringOut&&Ee.segment.isInResult()&&F.push(Ee)}return F}},{key:"getLeftmostComparator",value:function(F){var P=this,J=new Map,Ee=function($e){var qe=$e.otherSE;J.set($e,{sine:V(P.point,F.point,qe.point),cosine:Be(P.point,F.point,qe.point)})};return function(Pe,$e){J.has(Pe)||Ee(Pe),J.has($e)||Ee($e);var qe=J.get(Pe),ke=qe.sine,At=qe.cosine,Vt=J.get($e),tt=Vt.sine,Mt=Vt.cosine;return ke>=0&&tt>=0?At<Mt?1:At>Mt?-1:0:ke<0&&tt<0?At<Mt?-1:At>Mt?1:0:tt<ke?-1:tt>ke?1:0}}}]),Ie}(),de=0,we=function(){function Ie(B,F,P,J){De(this,Ie),this.id=++de,this.leftSE=B,B.segment=this,B.otherSE=F,this.rightSE=F,F.segment=this,F.otherSE=B,this.rings=P,this.windings=J}return H(Ie,null,[{key:"compare",value:function(F,P){var J=F.leftSE.point.x,Ee=P.leftSE.point.x,Pe=F.rightSE.point.x,$e=P.rightSE.point.x;if($e<J)return 1;if(Pe<Ee)return-1;var qe=F.leftSE.point.y,ke=P.leftSE.point.y,At=F.rightSE.point.y,Vt=P.rightSE.point.y;if(J<Ee){if(ke<qe&&ke<At)return 1;if(ke>qe&&ke>At)return-1;var tt=F.comparePoint(P.leftSE.point);if(tt<0)return 1;if(tt>0)return-1;var Mt=P.comparePoint(F.rightSE.point);return 0!==Mt?Mt:-1}if(J>Ee){if(qe<ke&&qe<Vt)return-1;if(qe>ke&&qe>Vt)return 1;var er=P.comparePoint(F.leftSE.point);if(0!==er)return er;var Qt=F.comparePoint(P.rightSE.point);return Qt<0?1:Qt>0?-1:1}if(qe<ke)return-1;if(qe>ke)return 1;if(Pe<$e){var rn=P.comparePoint(F.rightSE.point);if(0!==rn)return rn}if(Pe>$e){var ur=F.comparePoint(P.rightSE.point);if(ur<0)return 1;if(ur>0)return-1}if(Pe!==$e){var _r=At-qe,Yr=Pe-J,Sr=Vt-ke,Xr=$e-Ee;if(_r>Yr&&Sr<Xr)return 1;if(_r<Yr&&Sr>Xr)return-1}return Pe>$e?1:Pe<$e||At<Vt?-1:At>Vt?1:F.id<P.id?-1:F.id>P.id?1:0}}]),H(Ie,[{key:"replaceRightSE",value:function(F){this.rightSE=F,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var F=this.leftSE.point.y,P=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:F<P?F:P},ur:{x:this.rightSE.point.x,y:F>P?F:P}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(F){return F.x===this.leftSE.point.x&&F.y===this.leftSE.point.y||F.x===this.rightSE.point.x&&F.y===this.rightSE.point.y}},{key:"comparePoint",value:function(F){if(this.isAnEndpoint(F))return 0;var P=this.leftSE.point,J=this.rightSE.point,Ee=this.vector();if(P.x===J.x)return F.x===P.x?0:F.x<P.x?1:-1;if(F.x===P.x+(F.y-P.y)/Ee.y*Ee.x)return 0;var ke=P.y+(F.x-P.x)/Ee.x*Ee.y;return F.y===ke?0:F.y<ke?-1:1}},{key:"getIntersection",value:function(F){var P=this.bbox(),J=F.bbox(),Ee=A(P,J);if(null===Ee)return null;var Pe=this.leftSE.point,$e=this.rightSE.point,qe=F.leftSE.point,ke=F.rightSE.point,At=j(P,qe)&&0===this.comparePoint(qe),Vt=j(J,Pe)&&0===F.comparePoint(Pe),tt=j(P,ke)&&0===this.comparePoint(ke),Mt=j(J,$e)&&0===F.comparePoint($e);if(Vt&&At)return Mt&&!tt?$e:!Mt&&tt?ke:null;if(Vt)return tt&&Pe.x===ke.x&&Pe.y===ke.y?null:Pe;if(At)return Mt&&$e.x===qe.x&&$e.y===qe.y?null:qe;if(Mt&&tt)return null;if(Mt)return $e;if(tt)return ke;var er=function(B,F,P,J){if(0===F.x)return W(P,J,B.x);if(0===J.x)return W(B,F,P.x);if(0===F.y)return Me(P,J,B.y);if(0===J.y)return Me(B,F,P.y);var Ee=C(F,J);if(0==Ee)return null;var Pe={x:P.x-B.x,y:P.y-B.y},$e=C(Pe,F)/Ee,qe=C(Pe,J)/Ee;return{x:(B.x+qe*F.x+(P.x+$e*J.x))/2,y:(B.y+qe*F.y+(P.y+$e*J.y))/2}}(Pe,this.vector(),qe,F.vector());return null!==er&&j(Ee,er)?k.round(er.x,er.y):null}},{key:"split",value:function(F){var P=[],J=void 0!==F.events,Ee=new q(F,!0),Pe=new q(F,!1),$e=this.rightSE;this.replaceRightSE(Pe),P.push(Pe),P.push(Ee);var qe=new Ie(Ee,$e,this.rings.slice(),this.windings.slice());return q.comparePoints(qe.leftSE.point,qe.rightSE.point)>0&&qe.swapEvents(),q.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),J&&(Ee.checkForConsuming(),Pe.checkForConsuming()),P}},{key:"swapEvents",value:function(){var F=this.rightSE;this.rightSE=this.leftSE,this.leftSE=F,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var P=0,J=this.windings.length;P<J;P++)this.windings[P]*=-1}},{key:"consume",value:function(F){for(var P=this,J=F;P.consumedBy;)P=P.consumedBy;for(;J.consumedBy;)J=J.consumedBy;var Ee=Ie.compare(P,J);if(0!==Ee){if(Ee>0){var Pe=P;P=J,J=Pe}if(P.prev===J){var $e=P;P=J,J=$e}for(var qe=0,ke=J.rings.length;qe<ke;qe++){var At=J.rings[qe],Vt=J.windings[qe],tt=P.rings.indexOf(At);-1===tt?(P.rings.push(At),P.windings.push(Vt)):P.windings[tt]+=Vt}J.rings=null,J.windings=null,J.consumedBy=P,J.leftSE.consumedBy=P.leftSE,J.rightSE.consumedBy=P.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var F=this.beforeState();this._afterState={rings:F.rings.slice(0),windings:F.windings.slice(0),multiPolys:[]};for(var P=this._afterState.rings,J=this._afterState.windings,Ee=this._afterState.multiPolys,Pe=0,$e=this.rings.length;Pe<$e;Pe++){var qe=this.rings[Pe],ke=this.windings[Pe],At=P.indexOf(qe);-1===At?(P.push(qe),J.push(ke)):J[At]+=ke}for(var Vt=[],tt=[],Mt=0,er=P.length;Mt<er;Mt++)if(0!==J[Mt]){var Qt=P[Mt],rn=Qt.poly;if(-1===tt.indexOf(rn))if(Qt.isExterior)Vt.push(rn);else{-1===tt.indexOf(rn)&&tt.push(rn);var ur=Vt.indexOf(Qt.poly);-1!==ur&&Vt.splice(ur,1)}}for(var _r=0,Yr=Vt.length;_r<Yr;_r++){var Sr=Vt[_r].multiPoly;-1===Ee.indexOf(Sr)&&Ee.push(Sr)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var F=this.beforeState().multiPolys,P=this.afterState().multiPolys;switch(Ze.type){case"union":this._isInResult=0===F.length!=(0===P.length);break;case"intersection":var Pe,$e;F.length<P.length?(Pe=F.length,$e=P.length):(Pe=P.length,$e=F.length),this._isInResult=$e===Ze.numMultiPolys&&Pe<$e;break;case"xor":var qe=Math.abs(F.length-P.length);this._isInResult=qe%2==1;break;case"difference":var ke=function(Vt){return 1===Vt.length&&Vt[0].isSubject};this._isInResult=ke(F)!==ke(P);break;default:throw new Error("Unrecognized operation type found ".concat(Ze.type))}return this._isInResult}}],[{key:"fromRing",value:function(F,P,J){var Ee,Pe,$e,qe=q.comparePoints(F,P);if(qe<0)Ee=F,Pe=P,$e=1;else{if(!(qe>0))throw new Error("Tried to create degenerate segment at [".concat(F.x,", ").concat(F.y,"]"));Ee=P,Pe=F,$e=-1}return new Ie(new q(Ee,!0),new q(Pe,!1),[J],[$e])}}]),Ie}(),z=function(){function Ie(B,F,P){if(De(this,Ie),!Array.isArray(B)||0===B.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=F,this.isExterior=P,this.segments=[],"number"!=typeof B[0][0]||"number"!=typeof B[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var J=k.round(B[0][0],B[0][1]);this.bbox={ll:{x:J.x,y:J.y},ur:{x:J.x,y:J.y}};for(var Ee=J,Pe=1,$e=B.length;Pe<$e;Pe++){if("number"!=typeof B[Pe][0]||"number"!=typeof B[Pe][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var qe=k.round(B[Pe][0],B[Pe][1]);qe.x===Ee.x&&qe.y===Ee.y||(this.segments.push(we.fromRing(Ee,qe,this)),qe.x<this.bbox.ll.x&&(this.bbox.ll.x=qe.x),qe.y<this.bbox.ll.y&&(this.bbox.ll.y=qe.y),qe.x>this.bbox.ur.x&&(this.bbox.ur.x=qe.x),qe.y>this.bbox.ur.y&&(this.bbox.ur.y=qe.y),Ee=qe)}(J.x!==Ee.x||J.y!==Ee.y)&&this.segments.push(we.fromRing(Ee,J,this))}return H(Ie,[{key:"getSweepEvents",value:function(){for(var F=[],P=0,J=this.segments.length;P<J;P++){var Ee=this.segments[P];F.push(Ee.leftSE),F.push(Ee.rightSE)}return F}}]),Ie}(),Re=function(){function Ie(B,F){if(De(this,Ie),!Array.isArray(B))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new z(B[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var P=1,J=B.length;P<J;P++){var Ee=new z(B[P],this,!1);Ee.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Ee.bbox.ll.x),Ee.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Ee.bbox.ll.y),Ee.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Ee.bbox.ur.x),Ee.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Ee.bbox.ur.y),this.interiorRings.push(Ee)}this.multiPoly=F}return H(Ie,[{key:"getSweepEvents",value:function(){for(var F=this.exteriorRing.getSweepEvents(),P=0,J=this.interiorRings.length;P<J;P++)for(var Ee=this.interiorRings[P].getSweepEvents(),Pe=0,$e=Ee.length;Pe<$e;Pe++)F.push(Ee[Pe]);return F}}]),Ie}(),Oe=function(){function Ie(B,F){if(De(this,Ie),!Array.isArray(B))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof B[0][0][0]&&(B=[B])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var P=0,J=B.length;P<J;P++){var Ee=new Re(B[P],this);Ee.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=Ee.bbox.ll.x),Ee.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=Ee.bbox.ll.y),Ee.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=Ee.bbox.ur.x),Ee.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=Ee.bbox.ur.y),this.polys.push(Ee)}this.isSubject=F}return H(Ie,[{key:"getSweepEvents",value:function(){for(var F=[],P=0,J=this.polys.length;P<J;P++)for(var Ee=this.polys[P].getSweepEvents(),Pe=0,$e=Ee.length;Pe<$e;Pe++)F.push(Ee[Pe]);return F}}]),Ie}(),Ke=function(){function Ie(B){De(this,Ie),this.events=B;for(var F=0,P=B.length;F<P;F++)B[F].segment.ringOut=this;this.poly=null}return H(Ie,null,[{key:"factory",value:function(F){for(var P=[],J=0,Ee=F.length;J<Ee;J++){var Pe=F[J];if(Pe.isInResult()&&!Pe.ringOut){for(var $e=null,qe=Pe.leftSE,ke=Pe.rightSE,At=[qe],Vt=qe.point,tt=[];$e=qe,At.push(qe=ke),qe.point!==Vt;)for(;;){var Mt=qe.getAvailableLinkedEvents();if(0===Mt.length){var er=At[0].point,Qt=At[At.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(er.x,",")+" ".concat(er.y,"]. Last matching segment found ends at")+" [".concat(Qt.x,", ").concat(Qt.y,"]."))}if(1===Mt.length){ke=Mt[0].otherSE;break}for(var rn=null,ur=0,_r=tt.length;ur<_r;ur++)if(tt[ur].point===qe.point){rn=ur;break}if(null===rn){tt.push({index:At.length,point:qe.point});var Xr=qe.getLeftmostComparator($e);ke=Mt.sort(Xr)[0].otherSE;break}var Yr=tt.splice(rn)[0],Sr=At.splice(Yr.index);Sr.unshift(Sr[0].otherSE),P.push(new Ie(Sr.reverse()))}P.push(new Ie(At))}}return P}}]),H(Ie,[{key:"getGeom",value:function(){for(var F=this.events[0].point,P=[F],J=1,Ee=this.events.length-1;J<Ee;J++){var Pe=this.events[J].point;0!==Z(Pe,F,this.events[J+1].point)&&(P.push(Pe),F=Pe)}if(1===P.length)return null;0===Z(P[0],F,P[1])&&P.shift(),P.push(P[0]);for(var At=this.isExteriorRing()?1:-1,Vt=this.isExteriorRing()?0:P.length-1,tt=this.isExteriorRing()?P.length:-1,Mt=[],er=Vt;er!=tt;er+=At)Mt.push([P[er].x,P[er].y]);return Mt}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var F=this.enclosingRing();this._isExteriorRing=!F||!F.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var F=this.events[0],P=1,J=this.events.length;P<J;P++){var Ee=this.events[P];q.compare(F,Ee)>0&&(F=Ee)}for(var Pe=F.segment.prevInResult(),$e=Pe?Pe.prevInResult():null;;){if(!Pe)return null;if(!$e)return Pe.ringOut;if($e.ringOut!==Pe.ringOut)return $e.ringOut.enclosingRing()!==Pe.ringOut?Pe.ringOut:Pe.ringOut.enclosingRing();Pe=$e.prevInResult(),$e=Pe?Pe.prevInResult():null}}}]),Ie}(),Le=function(){function Ie(B){De(this,Ie),this.exteriorRing=B,B.poly=this,this.interiorRings=[]}return H(Ie,[{key:"addInterior",value:function(F){this.interiorRings.push(F),F.poly=this}},{key:"getGeom",value:function(){var F=[this.exteriorRing.getGeom()];if(null===F[0])return null;for(var P=0,J=this.interiorRings.length;P<J;P++){var Ee=this.interiorRings[P].getGeom();null!==Ee&&F.push(Ee)}return F}}]),Ie}(),st=function(){function Ie(B){De(this,Ie),this.rings=B,this.polys=this._composePolys(B)}return H(Ie,[{key:"getGeom",value:function(){for(var F=[],P=0,J=this.polys.length;P<J;P++){var Ee=this.polys[P].getGeom();null!==Ee&&F.push(Ee)}return F}},{key:"_composePolys",value:function(F){for(var P=[],J=0,Ee=F.length;J<Ee;J++){var Pe=F[J];if(!Pe.poly)if(Pe.isExteriorRing())P.push(new Le(Pe));else{var $e=Pe.enclosingRing();$e.poly||P.push(new Le($e)),$e.poly.addInterior(Pe)}}return P}}]),Ie}(),at=function(){function Ie(B){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we.compare;De(this,Ie),this.queue=B,this.tree=new Ae(F),this.segments=[]}return H(Ie,[{key:"process",value:function(F){var P=F.segment,J=[];if(F.consumedBy)return F.isLeft?this.queue.remove(F.otherSE):this.tree.remove(P),J;var Ee=F.isLeft?this.tree.insert(P):this.tree.find(P);if(!Ee)throw new Error("Unable to find segment #".concat(P.id," ")+"[".concat(P.leftSE.point.x,", ").concat(P.leftSE.point.y,"] -> ")+"[".concat(P.rightSE.point.x,", ").concat(P.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var Pe=Ee,$e=Ee,qe=void 0,ke=void 0;void 0===qe;)null===(Pe=this.tree.prev(Pe))?qe=null:void 0===Pe.key.consumedBy&&(qe=Pe.key);for(;void 0===ke;)null===($e=this.tree.next($e))?ke=null:void 0===$e.key.consumedBy&&(ke=$e.key);if(F.isLeft){var At=null;if(qe){var Vt=qe.getIntersection(P);if(null!==Vt&&(P.isAnEndpoint(Vt)||(At=Vt),!qe.isAnEndpoint(Vt)))for(var tt=this._splitSafely(qe,Vt),Mt=0,er=tt.length;Mt<er;Mt++)J.push(tt[Mt])}var Qt=null;if(ke){var rn=ke.getIntersection(P);if(null!==rn&&(P.isAnEndpoint(rn)||(Qt=rn),!ke.isAnEndpoint(rn)))for(var ur=this._splitSafely(ke,rn),_r=0,Yr=ur.length;_r<Yr;_r++)J.push(ur[_r])}if(null!==At||null!==Qt){var Sr;Sr=null===At?Qt:null===Qt||q.comparePoints(At,Qt)<=0?At:Qt,this.queue.remove(P.rightSE),J.push(P.rightSE);for(var Xn=P.split(Sr),Zi=0,nr=Xn.length;Zi<nr;Zi++)J.push(Xn[Zi])}J.length>0?(this.tree.remove(P),J.push(F)):(this.segments.push(P),P.prev=qe)}else{if(qe&&ke){var Je=qe.getIntersection(ke);if(null!==Je){if(!qe.isAnEndpoint(Je))for(var js=this._splitSafely(qe,Je),oo=0,Ut=js.length;oo<Ut;oo++)J.push(js[oo]);if(!ke.isAnEndpoint(Je))for(var ko=this._splitSafely(ke,Je),Co=0,Bo=ko.length;Co<Bo;Co++)J.push(ko[Co])}}this.tree.remove(P)}return J}},{key:"_splitSafely",value:function(F,P){this.tree.remove(F);var J=F.rightSE;this.queue.remove(J);var Ee=F.split(P);return Ee.push(J),void 0===F.consumedBy&&this.tree.insert(F),Ee}}]),Ie}(),dt=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Xe=typeof process<"u"&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Ze=new(function(){function Ie(){De(this,Ie)}return H(Ie,[{key:"run",value:function(F,P,J){Ze.type=F,k.reset();for(var Ee=[new Oe(P,!0)],Pe=0,$e=J.length;Pe<$e;Pe++)Ee.push(new Oe(J[Pe],!1));if(Ze.numMultiPolys=Ee.length,"difference"===Ze.type)for(var qe=Ee[0],ke=1;ke<Ee.length;)null!==A(Ee[ke].bbox,qe.bbox)?ke++:Ee.splice(ke,1);if("intersection"===Ze.type)for(var At=0,Vt=Ee.length;At<Vt;At++)for(var tt=Ee[At],Mt=At+1,er=Ee.length;Mt<er;Mt++)if(null===A(tt.bbox,Ee[Mt].bbox))return[];for(var Qt=new Ae(q.compare),rn=0,ur=Ee.length;rn<ur;rn++)for(var _r=Ee[rn].getSweepEvents(),Yr=0,Sr=_r.length;Yr<Sr;Yr++)if(Qt.insert(_r[Yr]),Qt.size>dt)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Xr=new at(Qt),Xn=Qt.size,Zi=Qt.pop();Zi;){var nr=Zi.key;if(Qt.size===Xn){var Je=nr.segment;throw new Error("Unable to pop() ".concat(nr.isLeft?"left":"right"," SweepEvent ")+"[".concat(nr.point.x,", ").concat(nr.point.y,"] from segment #").concat(Je.id," ")+"[".concat(Je.leftSE.point.x,", ").concat(Je.leftSE.point.y,"] -> ")+"[".concat(Je.rightSE.point.x,", ").concat(Je.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Qt.size>dt)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Xr.segments.length>Xe)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var js=Xr.process(nr),oo=0,Ut=js.length;oo<Ut;oo++){var ko=js[oo];void 0===ko.consumedBy&&Qt.insert(ko)}Xn=Qt.size,Zi=Qt.pop()}k.reset();var Co=Ke.factory(Xr.segments);return new st(Co).getGeom()}}]),Ie}());return{union:function(B){for(var F=arguments.length,P=new Array(F>1?F-1:0),J=1;J<F;J++)P[J-1]=arguments[J];return Ze.run("union",B,P)},intersection:function(B){for(var F=arguments.length,P=new Array(F>1?F-1:0),J=1;J<F;J++)P[J-1]=arguments[J];return Ze.run("intersection",B,P)},xor:function(B){for(var F=arguments.length,P=new Array(F>1?F-1:0),J=1;J<F;J++)P[J-1]=arguments[J];return Ze.run("xor",B,P)},difference:function(B){for(var F=arguments.length,P=new Array(F>1?F-1:0),J=1;J<F;J++)P[J-1]=arguments[J];return Ze.run("difference",B,P)}}}()},4678:function(Ge){Ge.exports=function(){"use strict";function ee(fe,se,ne,Q,ue){for(;Q>ne;){if(Q-ne>600){var Se=Q-ne+1,Ae=se-ne+1,He=Math.log(Se),ge=.5*Math.exp(2*He/3),he=.5*Math.sqrt(He*ge*(Se-ge)/Se)*(Ae-Se/2<0?-1:1);ee(fe,se,Math.max(ne,Math.floor(se-Ae*ge/Se+he)),Math.min(Q,Math.floor(se+(Se-Ae)*ge/Se+he)),ue)}var R=fe[se],j=ne,A=Q;for(H(fe,ne,se),ue(fe[Q],R)>0&&H(fe,ne,Q);j<A;){for(H(fe,j,A),j++,A--;ue(fe[j],R)<0;)j++;for(;ue(fe[A],R)>0;)A--}0===ue(fe[ne],R)?H(fe,ne,A):H(fe,++A,Q),A<=se&&(ne=A+1),se<=A&&(Q=A-1)}}function H(fe,se,ne){var Q=fe[se];fe[se]=fe[ne],fe[ne]=Q}function X(fe,se){return fe<se?-1:fe>se?1:0}return function De(fe,se,ne,Q,ue){ee(fe,se,ne||0,Q||fe.length-1,ue||X)}}()},3544:(Ge,De,ee)=>{"use strict";Ge.exports=X,Ge.exports.default=X;var H=ee(4678);function X(A,T){if(!(this instanceof X))return new X(A,T);this._maxEntries=Math.max(4,A||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),T&&this._initFormat(T),this.clear()}function fe(A,T,O){if(!O)return T.indexOf(A);for(var Y=0;Y<T.length;Y++)if(O(A,T[Y]))return Y;return-1}function se(A,T){ne(A,0,A.children.length,T,A)}function ne(A,T,O,Y,S){S||(S=R(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var k,N=T;N<O;N++)k=A.children[N],Q(S,A.leaf?Y(k):k);return S}function Q(A,T){return A.minX=Math.min(A.minX,T.minX),A.minY=Math.min(A.minY,T.minY),A.maxX=Math.max(A.maxX,T.maxX),A.maxY=Math.max(A.maxY,T.maxY),A}function ue(A,T){return A.minX-T.minX}function Se(A,T){return A.minY-T.minY}function Ae(A){return(A.maxX-A.minX)*(A.maxY-A.minY)}function He(A){return A.maxX-A.minX+(A.maxY-A.minY)}function ge(A,T){return(Math.max(T.maxX,A.maxX)-Math.min(T.minX,A.minX))*(Math.max(T.maxY,A.maxY)-Math.min(T.minY,A.minY))}function he(A,T){var O=Math.max(A.minX,T.minX),Y=Math.max(A.minY,T.minY),S=Math.min(A.maxX,T.maxX),N=Math.min(A.maxY,T.maxY);return Math.max(0,S-O)*Math.max(0,N-Y)}function be(A,T){return A.minX<=T.minX&&A.minY<=T.minY&&T.maxX<=A.maxX&&T.maxY<=A.maxY}function Ve(A,T){return T.minX<=A.maxX&&T.minY<=A.maxY&&T.maxX>=A.minX&&T.maxY>=A.minY}function R(A){return{children:A,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function j(A,T,O,Y,S){for(var k,N=[T,O];N.length;)!((O=N.pop())-(T=N.pop())<=Y)&&(k=T+Math.ceil((O-T)/Y/2)*Y,H(A,k,T,O,S),N.push(T,k,k,O))}X.prototype={all:function(){return this._all(this.data,[])},search:function(A){var T=this.data,O=[],Y=this.toBBox;if(!Ve(A,T))return O;for(var N,k,C,ve,S=[];T;){for(N=0,k=T.children.length;N<k;N++)C=T.children[N],Ve(A,ve=T.leaf?Y(C):C)&&(T.leaf?O.push(C):be(A,ve)?this._all(C,O):S.push(C));T=S.pop()}return O},collides:function(A){var T=this.data,O=this.toBBox;if(!Ve(A,T))return!1;for(var S,N,k,C,Y=[];T;){for(S=0,N=T.children.length;S<N;S++)if(k=T.children[S],Ve(A,C=T.leaf?O(k):k)){if(T.leaf||be(A,C))return!0;Y.push(k)}T=Y.pop()}return!1},load:function(A){if(!A||!A.length)return this;if(A.length<this._minEntries){for(var T=0,O=A.length;T<O;T++)this.insert(A[T]);return this}var Y=this._build(A.slice(),0,A.length-1,0);if(this.data.children.length)if(this.data.height===Y.height)this._splitRoot(this.data,Y);else{if(this.data.height<Y.height){var S=this.data;this.data=Y,Y=S}this._insert(Y,this.data.height-Y.height-1,!0)}else this.data=Y;return this},insert:function(A){return A&&this._insert(A,this.data.height-1),this},clear:function(){return this.data=R([]),this},remove:function(A,T){if(!A)return this;for(var k,C,ve,Z,O=this.data,Y=this.toBBox(A),S=[],N=[];O||S.length;){if(O||(O=S.pop(),C=S[S.length-1],k=N.pop(),Z=!0),O.leaf&&-1!==(ve=fe(A,O.children,T)))return O.children.splice(ve,1),S.push(O),this._condense(S),this;Z||O.leaf||!be(O,Y)?C?(k++,O=C.children[k],Z=!1):O=null:(S.push(O),N.push(k),k=0,C=O,O=O.children[0])}return this},toBBox:function(A){return A},compareMinX:ue,compareMinY:Se,toJSON:function(){return this.data},fromJSON:function(A){return this.data=A,this},_all:function(A,T){for(var O=[];A;)A.leaf?T.push.apply(T,A.children):O.push.apply(O,A.children),A=O.pop();return T},_build:function(A,T,O,Y){var k,S=O-T+1,N=this._maxEntries;if(S<=N)return se(k=R(A.slice(T,O+1)),this.toBBox),k;Y||(Y=Math.ceil(Math.log(S)/Math.log(N)),N=Math.ceil(S/Math.pow(N,Y-1))),(k=R([])).leaf=!1,k.height=Y;var Z,te,V,Be,C=Math.ceil(S/N),ve=C*Math.ceil(Math.sqrt(N));for(j(A,T,O,ve,this.compareMinX),Z=T;Z<=O;Z+=ve)for(j(A,Z,V=Math.min(Z+ve-1,O),C,this.compareMinY),te=Z;te<=V;te+=C)Be=Math.min(te+C-1,V),k.children.push(this._build(A,te,Be,Y-1));return se(k,this.toBBox),k},_chooseSubtree:function(A,T,O,Y){for(var S,N,k,C,ve,Z,te,V;Y.push(T),!T.leaf&&Y.length-1!==O;){for(te=V=1/0,S=0,N=T.children.length;S<N;S++)ve=Ae(k=T.children[S]),(Z=ge(A,k)-ve)<V?(V=Z,te=ve<te?ve:te,C=k):Z===V&&ve<te&&(te=ve,C=k);T=C||T.children[0]}return T},_insert:function(A,T,O){var S=O?A:(0,this.toBBox)(A),N=[],k=this._chooseSubtree(S,this.data,T,N);for(k.children.push(A),Q(k,S);T>=0&&N[T].children.length>this._maxEntries;)this._split(N,T),T--;this._adjustParentBBoxes(S,N,T)},_split:function(A,T){var O=A[T],Y=O.children.length,S=this._minEntries;this._chooseSplitAxis(O,S,Y);var N=this._chooseSplitIndex(O,S,Y),k=R(O.children.splice(N,O.children.length-N));k.height=O.height,k.leaf=O.leaf,se(O,this.toBBox),se(k,this.toBBox),T?A[T-1].children.push(k):this._splitRoot(O,k)},_splitRoot:function(A,T){this.data=R([A,T]),this.data.height=A.height+1,this.data.leaf=!1,se(this.data,this.toBBox)},_chooseSplitIndex:function(A,T,O){var Y,S,N,k,C,ve,Z,te;for(ve=Z=1/0,Y=T;Y<=O-T;Y++)k=he(S=ne(A,0,Y,this.toBBox),N=ne(A,Y,O,this.toBBox)),C=Ae(S)+Ae(N),k<ve?(ve=k,te=Y,Z=C<Z?C:Z):k===ve&&C<Z&&(Z=C,te=Y);return te},_chooseSplitAxis:function(A,T,O){var Y=A.leaf?this.compareMinX:ue,S=A.leaf?this.compareMinY:Se;this._allDistMargin(A,T,O,Y)<this._allDistMargin(A,T,O,S)&&A.children.sort(Y)},_allDistMargin:function(A,T,O,Y){A.children.sort(Y);var ve,Z,S=this.toBBox,N=ne(A,0,T,S),k=ne(A,O-T,O,S),C=He(N)+He(k);for(ve=T;ve<O-T;ve++)Z=A.children[ve],Q(N,A.leaf?S(Z):Z),C+=He(N);for(ve=O-T-1;ve>=T;ve--)Z=A.children[ve],Q(k,A.leaf?S(Z):Z),C+=He(k);return C},_adjustParentBBoxes:function(A,T,O){for(var Y=O;Y>=0;Y--)Q(T[Y],A)},_condense:function(A){for(var O,T=A.length-1;T>=0;T--)0===A[T].children.length?T>0?(O=A[T-1].children).splice(O.indexOf(A[T]),1):this.clear():se(A[T],this.toBBox)},_initFormat:function(A){var T=["return a"," - b",";"];this.compareMinX=new Function("a","b",T.join(A[0])),this.compareMinY=new Function("a","b",T.join(A[1])),this.toBBox=new Function("a","return {minX: a"+A[0]+", minY: a"+A[1]+", maxX: a"+A[2]+", maxY: a"+A[3]+"};")}}},4468:(Ge,De,ee)=>{"use strict";var H=ee(9582).functionsHaveConfigurableNames(),X=Object,fe=TypeError;Ge.exports=function(){if(null!=this&&this!==X(this))throw new fe("RegExp.prototype.flags getter called on non-object");var ne="";return this.hasIndices&&(ne+="d"),this.global&&(ne+="g"),this.ignoreCase&&(ne+="i"),this.multiline&&(ne+="m"),this.dotAll&&(ne+="s"),this.unicode&&(ne+="u"),this.unicodeSets&&(ne+="v"),this.sticky&&(ne+="y"),ne},H&&Object.defineProperty&&Object.defineProperty(Ge.exports,"name",{value:"get flags"})},9235:(Ge,De,ee)=>{"use strict";var H=ee(2358),X=ee(5685),fe=ee(4468),se=ee(6343),ne=ee(1956),Q=X(se());H(Q,{getPolyfill:se,implementation:fe,shim:ne}),Ge.exports=Q},6343:(Ge,De,ee)=>{"use strict";var H=ee(4468),X=ee(2358).supportsDescriptors,fe=Object.getOwnPropertyDescriptor;Ge.exports=function(){if(X&&"gim"===/a/gim.flags){var ne=fe(RegExp.prototype,"flags");if(ne&&"function"==typeof ne.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var Q="",ue={};if(Object.defineProperty(ue,"hasIndices",{get:function(){Q+="d"}}),Object.defineProperty(ue,"sticky",{get:function(){Q+="y"}}),"dy"===Q)return ne.get}}return H}},1956:(Ge,De,ee)=>{"use strict";var H=ee(2358).supportsDescriptors,X=ee(6343),fe=Object.getOwnPropertyDescriptor,se=Object.defineProperty,ne=TypeError,Q=Object.getPrototypeOf,ue=/a/;Ge.exports=function(){if(!H||!Q)throw new ne("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Ae=X(),He=Q(ue),ge=fe(He,"flags");return(!ge||ge.get!==Ae)&&se(He,"flags",{configurable:!0,enumerable:!1,get:Ae}),Ae}},7563:function(Ge,De){!function(ee){"use strict";function fe(be,Ve,R,j,A){let T,O,Y,S,N=Ve[0],k=j[0],C=0,ve=0;k>N==k>-N?(T=N,N=Ve[++C]):(T=k,k=j[++ve]);let Z=0;if(C<be&&ve<R)for(k>N==k>-N?(Y=T-((O=N+T)-N),N=Ve[++C]):(Y=T-((O=k+T)-k),k=j[++ve]),T=O,0!==Y&&(A[Z++]=Y);C<be&&ve<R;)k>N==k>-N?(Y=T-((O=T+N)-(S=O-T))+(N-S),N=Ve[++C]):(Y=T-((O=T+k)-(S=O-T))+(k-S),k=j[++ve]),T=O,0!==Y&&(A[Z++]=Y);for(;C<be;)Y=T-((O=T+N)-(S=O-T))+(N-S),N=Ve[++C],T=O,0!==Y&&(A[Z++]=Y);for(;ve<R;)Y=T-((O=T+k)-(S=O-T))+(k-S),k=j[++ve],T=O,0!==Y&&(A[Z++]=Y);return 0===T&&0!==Z||(A[Z++]=T),Z}function se(be){return new Float64Array(be)}const Se=se(4),Ae=se(8),He=se(12),ge=se(16),he=se(4);ee.orient2d=function(be,Ve,R,j,A,T){const O=(Ve-T)*(R-A),Y=(be-A)*(j-T),S=O-Y;if(0===O||0===Y||O>0!=Y>0)return S;const N=Math.abs(O+Y);return Math.abs(S)>=33306690738754716e-32*N?S:-function(k,C,ve,Z,te,V,Be){let Me,W,me,q,de,we,z,Re,Oe,Ke,Le,st,at,dt,Xe,ht,Ze,zn;const Vn=k-te,Qn=ve-te,Et=C-V,Ct=Z-V;de=(Xe=(Re=Vn-(z=(we=134217729*Vn)-(we-Vn)))*(Ke=Ct-(Oe=(we=134217729*Ct)-(we-Ct)))-((dt=Vn*Ct)-z*Oe-Re*Oe-z*Ke))-(Le=Xe-(Ze=(Re=Et-(z=(we=134217729*Et)-(we-Et)))*(Ke=Qn-(Oe=(we=134217729*Qn)-(we-Qn)))-((ht=Et*Qn)-z*Oe-Re*Oe-z*Ke))),Se[0]=Xe-(Le+de)+(de-Ze),de=(at=dt-((st=dt+Le)-(de=st-dt))+(Le-de))-(Le=at-ht),Se[1]=at-(Le+de)+(de-ht),de=(zn=st+Le)-st,Se[2]=st-(zn-de)+(Le-de),Se[3]=zn;let Ie=function(Ee,Pe){let $e=Pe[0];for(let qe=1;qe<4;qe++)$e+=Pe[qe];return $e}(0,Se),B=22204460492503146e-32*Be;if(Ie>=B||-Ie>=B||(Me=k-(Vn+(de=k-Vn))+(de-te),me=ve-(Qn+(de=ve-Qn))+(de-te),W=C-(Et+(de=C-Et))+(de-V),q=Z-(Ct+(de=Z-Ct))+(de-V),0===Me&&0===W&&0===me&&0===q)||(B=11093356479670487e-47*Be+33306690738754706e-32*Math.abs(Ie),(Ie+=Vn*q+Ct*Me-(Et*me+Qn*W))>=B||-Ie>=B))return Ie;de=(Xe=(Re=Me-(z=(we=134217729*Me)-(we-Me)))*(Ke=Ct-(Oe=(we=134217729*Ct)-(we-Ct)))-((dt=Me*Ct)-z*Oe-Re*Oe-z*Ke))-(Le=Xe-(Ze=(Re=W-(z=(we=134217729*W)-(we-W)))*(Ke=Qn-(Oe=(we=134217729*Qn)-(we-Qn)))-((ht=W*Qn)-z*Oe-Re*Oe-z*Ke))),he[0]=Xe-(Le+de)+(de-Ze),de=(at=dt-((st=dt+Le)-(de=st-dt))+(Le-de))-(Le=at-ht),he[1]=at-(Le+de)+(de-ht),de=(zn=st+Le)-st,he[2]=st-(zn-de)+(Le-de),he[3]=zn;const F=fe(4,Se,4,he,Ae);de=(Xe=(Re=Vn-(z=(we=134217729*Vn)-(we-Vn)))*(Ke=q-(Oe=(we=134217729*q)-(we-q)))-((dt=Vn*q)-z*Oe-Re*Oe-z*Ke))-(Le=Xe-(Ze=(Re=Et-(z=(we=134217729*Et)-(we-Et)))*(Ke=me-(Oe=(we=134217729*me)-(we-me)))-((ht=Et*me)-z*Oe-Re*Oe-z*Ke))),he[0]=Xe-(Le+de)+(de-Ze),de=(at=dt-((st=dt+Le)-(de=st-dt))+(Le-de))-(Le=at-ht),he[1]=at-(Le+de)+(de-ht),de=(zn=st+Le)-st,he[2]=st-(zn-de)+(Le-de),he[3]=zn;const P=fe(F,Ae,4,he,He);de=(Xe=(Re=Me-(z=(we=134217729*Me)-(we-Me)))*(Ke=q-(Oe=(we=134217729*q)-(we-q)))-((dt=Me*q)-z*Oe-Re*Oe-z*Ke))-(Le=Xe-(Ze=(Re=W-(z=(we=134217729*W)-(we-W)))*(Ke=me-(Oe=(we=134217729*me)-(we-me)))-((ht=W*me)-z*Oe-Re*Oe-z*Ke))),he[0]=Xe-(Le+de)+(de-Ze),de=(at=dt-((st=dt+Le)-(de=st-dt))+(Le-de))-(Le=at-ht),he[1]=at-(Le+de)+(de-ht),de=(zn=st+Le)-st,he[2]=st-(zn-de)+(Le-de),he[3]=zn;const J=fe(P,He,4,he,ge);return ge[J-1]}(be,Ve,R,j,A,T,N)},ee.orient2dfast=function(be,Ve,R,j,A,T){return(Ve-T)*(R-A)-(be-A)*(j-T)},Object.defineProperty(ee,"__esModule",{value:!0})}(De)},9231:Ge=>{"use strict";Ge.exports={eudist:function(ee,H,X){for(var fe=ee.length,se=0,ne=0;ne<fe;ne++){var Q=(ee[ne]||0)-(H[ne]||0);se+=Q*Q}return X?Math.sqrt(se):se},mandist:function(ee,H,X){for(var fe=ee.length,se=0,ne=0;ne<fe;ne++)se+=Math.abs((ee[ne]||0)-(H[ne]||0));return X?Math.sqrt(se):se},dist:function(ee,H,X){var fe=Math.abs(ee-H);return X?fe:fe*fe}}},5561:(Ge,De,ee)=>{"use strict";var H=ee(9231),X=H.eudist,fe=H.dist;Ge.exports={kmrand:function(ne,Q){for(var ue={},Se=[],Ae=Q<<2,He=ne.length,ge=ne[0].length>0;Se.length<Q&&Ae-- >0;){var he=ne[Math.floor(Math.random()*He)],be=ge?he.join("_"):""+he;ue[be]||(ue[be]=!0,Se.push(he))}if(Se.length<Q)throw new Error("Error initializating clusters");return Se},kmpp:function(ne,Q){var ue=ne[0].length?X:fe,Se=[],Ae=ne.length,He=ne[0].length>0,he=ne[Math.floor(Math.random()*Ae)];for(He&&he.join("_"),Se.push(he);Se.length<Q;){for(var Ve=[],R=Se.length,j=0,A=[],T=0;T<Ae;T++){for(var O=1/0,Y=0;Y<R;Y++){var S=ue(ne[T],Se[Y]);S<=O&&(O=S)}Ve[T]=O}for(var N=0;N<Ae;N++)j+=Ve[N];for(var k=0;k<Ae;k++)A[k]={i:k,v:ne[k],pr:Ve[k]/j,cs:0};A.sort(function(te,V){return te.pr-V.pr}),A[0].cs=A[0].pr;for(var C=1;C<Ae;C++)A[C].cs=A[C-1].cs+A[C].pr;for(var ve=Math.random(),Z=0;Z<Ae-1&&A[Z++].cs<ve;);Se.push(A[Z-1].v)}return Se}}},9475:(Ge,De,ee)=>{"use strict";var H=ee(9231),X=ee(5561),fe=H.eudist,Q=X.kmrand,ue=X.kmpp;function Ae(ge,he,be){be=be||[];for(var Ve=0;Ve<ge;Ve++)be[Ve]=he;return be}Ge.exports=function He(ge,he,be,Ve){var R=[],j=[],A=[],T=[],O=!1,Y=Ve||1e4,S=ge.length,N=ge[0].length,k=N>0,C=[];if(be)R="kmrand"==be?Q(ge,he):"kmpp"==be?ue(ge,he):be;else for(var ve={};R.length<he;){var Z=Math.floor(Math.random()*S);ve[Z]||(ve[Z]=!0,R.push(ge[Z]))}do{Ae(he,0,C);for(var te=0;te<S;te++){for(var V=1/0,Be=0,Me=0;Me<he;Me++)(T=k?fe(ge[te],R[Me]):Math.abs(ge[te]-R[Me]))<=V&&(V=T,Be=Me);A[te]=Be,C[Be]++}for(var W=[],q=(j=[],0);q<he;q++)W[q]=k?Ae(N,0,W[q]):0,j[q]=R[q];if(k){for(var de=0;de<he;de++)R[de]=[];for(var we=0;we<S;we++)for(var Re=W[A[we]],Oe=ge[we],Ke=0;Ke<N;Ke++)Re[Ke]+=Oe[Ke];O=!0;for(var Le=0;Le<he;Le++){for(var st=R[Le],at=W[Le],dt=j[Le],Xe=C[Le],ht=0;ht<N;ht++)st[ht]=at[ht]/Xe||0;if(O)for(var Ze=0;Ze<N;Ze++)if(dt[Ze]!=st[Ze]){O=!1;break}}}else{for(var zn=0;zn<S;zn++)W[A[zn]]+=ge[zn];for(var Qn=0;Qn<he;Qn++)R[Qn]=W[Qn]/C[Qn]||0;O=!0;for(var Et=0;Et<he;Et++)if(j[Et]!=R[Et]){O=!1;break}}O=O||--Y<=0}while(!O);return{it:1e4-Y,k:he,idxs:A,centroids:R}}},7253:(Ge,De,ee)=>{"use strict";ee.r(De),ee.d(De,{default:()=>H});class H{constructor(se=[],ne=X){if(this.data=se,this.length=this.data.length,this.compare=ne,this.length>0)for(let Q=(this.length>>1)-1;Q>=0;Q--)this._down(Q)}push(se){this.data.push(se),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const se=this.data[0],ne=this.data.pop();return this.length--,this.length>0&&(this.data[0]=ne,this._down(0)),se}peek(){return this.data[0]}_up(se){const{data:ne,compare:Q}=this,ue=ne[se];for(;se>0;){const Se=se-1>>1,Ae=ne[Se];if(Q(ue,Ae)>=0)break;ne[se]=Ae,se=Se}ne[se]=ue}_down(se){const{data:ne,compare:Q}=this,ue=this.length>>1,Se=ne[se];for(;se<ue;){let Ae=1+(se<<1),He=ne[Ae];const ge=Ae+1;if(ge<this.length&&Q(ne[ge],He)<0&&(Ae=ge,He=ne[ge]),Q(He,Se)>=0)break;ne[se]=He,se=Ae}ne[se]=Se}}function X(fe,se){return fe<se?-1:fe>se?1:0}},770:function(Ge,De){!function(ee){"use strict";function H(){}function X(o){this.message=o||""}function fe(o){this.message=o||""}function se(o){this.message=o||""}function ne(){}function Q(o){return null===o?Vo:o.color}function ue(o){return null===o?null:o.parent}function Se(o,a){null!==o&&(o.color=a)}function Ae(o){return null===o?null:o.left}function He(o){return null===o?null:o.right}function ge(){this.root_=null,this.size_=0}function he(){}function be(){this.array_=[],arguments[0]instanceof Xn&&this.addAll(arguments[0])}function Ve(){}function R(o){this.message=o||""}function j(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(o){if(null==this)throw new TypeError(this+" is not an object");var a=Object(this),l=Math.max(Math.min(a.length,9007199254740991),0)||0,f=1 in arguments&&parseInt(Number(arguments[1]),10)||0;f=f<0?Math.max(l+f,0):Math.min(f,l);var p=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:l;for(p=p<0?Math.max(l+arguments[2],0):Math.min(p,l);f<p;)a[f]=o,++f;return a},writable:!0}),Number.isFinite=Number.isFinite||function(o){return"number"==typeof o&&isFinite(o)},Number.isInteger=Number.isInteger||function(o){return"number"==typeof o&&isFinite(o)&&Math.floor(o)===o},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(o){return o!=o},Math.trunc=Math.trunc||function(o){return o<0?Math.ceil(o):Math.floor(o)};var A=function(){};A.prototype.interfaces_=function(){return[]},A.prototype.getClass=function(){return A},A.prototype.equalsWithTolerance=function(o,a,l){return Math.abs(o-a)<=l};var T=function(o){function a(l){o.call(this,l),this.name="IllegalArgumentException",this.message=l,this.stack=(new o).stack}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(Error),O=function(){},Y={MAX_VALUE:{configurable:!0}};O.isNaN=function(o){return Number.isNaN(o)},O.doubleToLongBits=function(o){return o},O.longBitsToDouble=function(o){return o},O.isInfinite=function(o){return!Number.isFinite(o)},Y.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(O,Y);var S=function(){},N=function(){},k=function(){},C=function o(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=o.NULL_ORDINATE;else if(1===arguments.length){var a=arguments[0];this.x=a.x,this.y=a.y,this.z=a.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=o.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},ve={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};C.prototype.setOrdinate=function(o,a){switch(o){case C.X:this.x=a;break;case C.Y:this.y=a;break;case C.Z:this.z=a;break;default:throw new T("Invalid ordinate index: "+o)}},C.prototype.equals2D=function(){if(1===arguments.length){var o=arguments[0];return this.x===o.x&&this.y===o.y}if(2===arguments.length){var a=arguments[0],l=arguments[1];return!!A.equalsWithTolerance(this.x,a.x,l)&&!!A.equalsWithTolerance(this.y,a.y,l)}},C.prototype.getOrdinate=function(o){switch(o){case C.X:return this.x;case C.Y:return this.y;case C.Z:return this.z}throw new T("Invalid ordinate index: "+o)},C.prototype.equals3D=function(o){return this.x===o.x&&this.y===o.y&&(this.z===o.z||O.isNaN(this.z))&&O.isNaN(o.z)},C.prototype.equals=function(o){return o instanceof C&&this.equals2D(o)},C.prototype.equalInZ=function(o,a){return A.equalsWithTolerance(this.z,o.z,a)},C.prototype.compareTo=function(o){return this.x<o.x?-1:this.x>o.x?1:this.y<o.y?-1:this.y>o.y?1:0},C.prototype.clone=function(){},C.prototype.copy=function(){return new C(this)},C.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},C.prototype.distance3D=function(o){var a=this.x-o.x,l=this.y-o.y,f=this.z-o.z;return Math.sqrt(a*a+l*l+f*f)},C.prototype.distance=function(o){var a=this.x-o.x,l=this.y-o.y;return Math.sqrt(a*a+l*l)},C.prototype.hashCode=function(){var o=17;return 37*(o=37*o+C.hashCode(this.x))+C.hashCode(this.y)},C.prototype.setCoordinate=function(o){this.x=o.x,this.y=o.y,this.z=o.z},C.prototype.interfaces_=function(){return[S,N,H]},C.prototype.getClass=function(){return C},C.hashCode=function(){if(1===arguments.length){var a=O.doubleToLongBits(arguments[0]);return Math.trunc((a^a)>>>32)}},ve.DimensionalComparator.get=function(){return Z},ve.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},ve.NULL_ORDINATE.get=function(){return O.NaN},ve.X.get=function(){return 0},ve.Y.get=function(){return 1},ve.Z.get=function(){return 2},Object.defineProperties(C,ve);var Z=function(o){if(this._dimensionsToTest=2,0!==arguments.length&&1===arguments.length){var a=arguments[0];if(2!==a&&3!==a)throw new T("only 2 or 3 dimensions may be specified");this._dimensionsToTest=a}};Z.prototype.compare=function(o,a){var l=o,f=a,p=Z.compare(l.x,f.x);if(0!==p)return p;var v=Z.compare(l.y,f.y);return 0!==v?v:this._dimensionsToTest<=2?0:Z.compare(l.z,f.z)},Z.prototype.interfaces_=function(){return[k]},Z.prototype.getClass=function(){return Z},Z.compare=function(o,a){return o<a?-1:o>a?1:O.isNaN(o)?O.isNaN(a)?0:-1:O.isNaN(a)?1:0};var te=function(){};te.prototype.create=function(){},te.prototype.interfaces_=function(){return[]},te.prototype.getClass=function(){return te};var V=function(){},Be={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};V.prototype.interfaces_=function(){return[]},V.prototype.getClass=function(){return V},V.toLocationSymbol=function(o){switch(o){case V.EXTERIOR:return"e";case V.BOUNDARY:return"b";case V.INTERIOR:return"i";case V.NONE:return"-"}throw new T("Unknown location value: "+o)},Be.INTERIOR.get=function(){return 0},Be.BOUNDARY.get=function(){return 1},Be.EXTERIOR.get=function(){return 2},Be.NONE.get=function(){return-1},Object.defineProperties(V,Be);var Me=function(o,a){return o.interfaces_&&o.interfaces_().indexOf(a)>-1},W=function(){},me={LOG_10:{configurable:!0}};W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},W.log10=function(o){var a=Math.log(o);return O.isInfinite(a)||O.isNaN(a)?a:a/W.LOG_10},W.min=function(o,a,l,f){var p=o;return a<p&&(p=a),l<p&&(p=l),f<p&&(p=f),p},W.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1],l=arguments[2];return o<a?a:o>l?l:o}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var f=arguments[0],p=arguments[1],v=arguments[2];return f<p?p:f>v?v:f}},W.wrap=function(o,a){return o<0?a- -o%a:o%a},W.max=function(){if(3===arguments.length){var a=arguments[1],l=arguments[2],f=arguments[0];return a>f&&(f=a),l>f&&(f=l),f}if(4===arguments.length){var v=arguments[1],E=arguments[2],I=arguments[3],$=arguments[0];return v>$&&($=v),E>$&&($=E),I>$&&($=I),$}},W.average=function(o,a){return(o+a)/2},me.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(W,me);var q=function(o){this.str=o};q.prototype.append=function(o){this.str+=o},q.prototype.setCharAt=function(o,a){this.str=this.str.substr(0,o)+a+this.str.substr(o+1)},q.prototype.toString=function(o){return this.str};var de=function(o){this.value=o};de.prototype.intValue=function(){return this.value},de.prototype.compareTo=function(o){return this.value<o?-1:this.value>o?1:0},de.isNaN=function(o){return Number.isNaN(o)};var we=function(){};we.isWhitespace=function(o){return o<=32&&o>=0||127===o},we.toUpperCase=function(o){return o.toUpperCase()};var z=function o(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof o?this.init(arguments[0]):"string"==typeof arguments[0]&&o.call(this,o.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},Re={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};z.prototype.le=function(o){return(this._hi<o._hi||this._hi===o._hi)&&this._lo<=o._lo},z.prototype.extractSignificantDigits=function(o,a){var l=this.abs(),f=z.magnitude(l._hi),p=z.TEN.pow(f);(l=l.divide(p)).gt(z.TEN)?(l=l.divide(z.TEN),f+=1):l.lt(z.ONE)&&(l=l.multiply(z.TEN),f-=1);for(var v=f+1,E=new q,I=z.MAX_PRINT_DIGITS-1,$=0;$<=I;$++){o&&$===v&&E.append(".");var oe=Math.trunc(l._hi);if(oe<0)break;var Te=!1,Fe=0;oe>9?(Te=!0,Fe="9"):Fe="0"+oe,E.append(Fe),l=l.subtract(z.valueOf(oe)).multiply(z.TEN),Te&&l.selfAdd(z.TEN);var Qe=!0,ot=z.magnitude(l._hi);if(ot<0&&Math.abs(ot)>=I-$&&(Qe=!1),!Qe)break}return a[0]=f,E.toString()},z.prototype.sqr=function(){return this.multiply(this)},z.prototype.doubleValue=function(){return this._hi+this._lo},z.prototype.subtract=function(){return arguments[0]instanceof z?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},z.prototype.equals=function(){if(1===arguments.length){var o=arguments[0];return this._hi===o._hi&&this._lo===o._lo}},z.prototype.isZero=function(){return 0===this._hi&&0===this._lo},z.prototype.selfSubtract=function(){if(arguments[0]instanceof z){var o=arguments[0];return this.isNaN()?this:this.selfAdd(-o._hi,-o._lo)}if("number"==typeof arguments[0]){var a=arguments[0];return this.isNaN()?this:this.selfAdd(-a,0)}},z.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},z.prototype.min=function(o){return this.le(o)?this:o},z.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof z){var o=arguments[0];return this.selfDivide(o._hi,o._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var l=arguments[0],p=null,v=null,E=null,I=null,$=null,oe=null,Te=null,Fe=null;return this._hi=Fe=($=this._hi/l)+(oe=(this._hi-(Te=$*l)-(Fe=(p=(oe=z.SPLIT*$)-(p=oe-$))*(E=(Fe=z.SPLIT*l)-(E=Fe-l))-Te+p*(I=l-E)+(v=$-p)*E+v*I)+this._lo-$*arguments[1])/l),this._lo=$-Fe+oe,this}},z.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},z.prototype.divide=function(){if(arguments[0]instanceof z){var o=arguments[0],a=null,l=null,f=null,p=null,v=null,E=null,I=null,$=null;return l=(v=this._hi/o._hi)-(a=(E=z.SPLIT*v)-(a=E-v)),$=a*(f=($=z.SPLIT*o._hi)-(f=$-o._hi))-(I=v*o._hi)+a*(p=o._hi-f)+l*f+l*p,new z($=v+(E=(this._hi-I-$+this._lo-v*o._lo)/o._hi),v-$+E)}if("number"==typeof arguments[0]){var oe=arguments[0];return O.isNaN(oe)?z.createNaN():z.copy(this).selfDivide(oe,0)}},z.prototype.ge=function(o){return(this._hi>o._hi||this._hi===o._hi)&&this._lo>=o._lo},z.prototype.pow=function(o){if(0===o)return z.valueOf(1);var a=new z(this),l=z.valueOf(1),f=Math.abs(o);if(f>1)for(;f>0;)f%2==1&&l.selfMultiply(a),(f/=2)>0&&(a=a.sqr());else l=a;return o<0?l.reciprocal():l},z.prototype.ceil=function(){if(this.isNaN())return z.NaN;var o=Math.ceil(this._hi),a=0;return o===this._hi&&(a=Math.ceil(this._lo)),new z(o,a)},z.prototype.compareTo=function(o){return this._hi<o._hi?-1:this._hi>o._hi?1:this._lo<o._lo?-1:this._lo>o._lo?1:0},z.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},z.prototype.setValue=function(){return arguments[0]instanceof z||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},z.prototype.max=function(o){return this.ge(o)?this:o},z.prototype.sqrt=function(){if(this.isZero())return z.valueOf(0);if(this.isNegative())return z.NaN;var o=1/Math.sqrt(this._hi),l=z.valueOf(this._hi*o),f=this.subtract(l.sqr())._hi*(.5*o);return l.add(f)},z.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof z){var o=arguments[0];return this.selfAdd(o._hi,o._lo)}if("number"==typeof arguments[0]){var a=arguments[0],l=null,f=null,p=null,E=null,I=null;return this._hi=(l=(p=this._hi+a)+(I=a-(E=p-this._hi)+(this._hi-(p-E))+this._lo))+(f=I+(p-l)),this._lo=f+(l-this._hi),this}}else if(2===arguments.length){var $=arguments[0],oe=arguments[1],Te=null,Fe=null,Qe=null,ot=null,ft=null,It=null,jn=null;ft=(ot=this._hi+$)-(It=ot-this._hi),Qe=(Fe=this._lo+oe)-(jn=Fe-this._lo);var Ur=(Te=ot+(It=(ft=$-It+(this._hi-ft))+Fe))+(It=(Qe=oe-jn+(this._lo-Qe))+(It+(ot-Te))),Ei=It+(Te-Ur);return this._hi=Ur,this._lo=Ei,this}},z.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof z){var o=arguments[0];return this.selfMultiply(o._hi,o._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var l=arguments[0],p=null,v=null,E=null,I=null,$=null,oe=null;p=($=z.SPLIT*this._hi)-this._hi,p=$-p;var Te=($=this._hi*l)+(oe=p*(E=(oe=z.SPLIT*l)-(E=oe-l))-$+p*(I=l-E)+(v=this._hi-p)*E+v*I+(this._hi*arguments[1]+this._lo*l)),Fe=oe+(p=$-Te);return this._hi=Te,this._lo=Fe,this}},z.prototype.selfSqr=function(){return this.selfMultiply(this)},z.prototype.floor=function(){if(this.isNaN())return z.NaN;var o=Math.floor(this._hi),a=0;return o===this._hi&&(a=Math.floor(this._lo)),new z(o,a)},z.prototype.negate=function(){return this.isNaN()?this:new z(-this._hi,-this._lo)},z.prototype.clone=function(){},z.prototype.multiply=function(){if(arguments[0]instanceof z){var o=arguments[0];return o.isNaN()?z.createNaN():z.copy(this).selfMultiply(o)}if("number"==typeof arguments[0]){var a=arguments[0];return O.isNaN(a)?z.createNaN():z.copy(this).selfMultiply(a,0)}},z.prototype.isNaN=function(){return O.isNaN(this._hi)},z.prototype.intValue=function(){return Math.trunc(this._hi)},z.prototype.toString=function(){var o=z.magnitude(this._hi);return o>=-3&&o<=20?this.toStandardNotation():this.toSciNotation()},z.prototype.toStandardNotation=function(){var o=this.getSpecialNumberString();if(null!==o)return o;var a=new Array(1).fill(null),l=this.extractSignificantDigits(!0,a),f=a[0]+1,p=l;return"."===l.charAt(0)?p="0"+l:f<0?p="0."+z.stringOfChar("0",-f)+l:-1===l.indexOf(".")&&(p=l+z.stringOfChar("0",f-l.length)+".0"),this.isNegative()?"-"+p:p},z.prototype.reciprocal=function(){var a,f,p,E,o=null,l=null,v=null,I=null;a=(p=1/this._hi)-(o=(v=z.SPLIT*p)-(o=v-p)),l=(I=z.SPLIT*this._hi)-this._hi;var $=p+(v=(1-(E=p*this._hi)-(I=o*(l=I-l)-E+o*(f=this._hi-l)+a*l+a*f)-p*this._lo)/this._hi);return new z($,p-$+v)},z.prototype.toSciNotation=function(){if(this.isZero())return z.SCI_NOT_ZERO;var o=this.getSpecialNumberString();if(null!==o)return o;var a=new Array(1).fill(null),l=this.extractSignificantDigits(!1,a),f=z.SCI_NOT_EXPONENT_CHAR+a[0];if("0"===l.charAt(0))throw new Error("Found leading zero: "+l);var p="";l.length>1&&(p=l.substring(1));var v=l.charAt(0)+"."+p;return this.isNegative()?"-"+v+f:v+f},z.prototype.abs=function(){return this.isNaN()?z.NaN:this.isNegative()?this.negate():new z(this)},z.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},z.prototype.lt=function(o){return(this._hi<o._hi||this._hi===o._hi)&&this._lo<o._lo},z.prototype.add=function(){if(arguments[0]instanceof z){var o=arguments[0];return z.copy(this).selfAdd(o)}if("number"==typeof arguments[0]){var a=arguments[0];return z.copy(this).selfAdd(a)}},z.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof z){var a=arguments[0];this._hi=a._hi,this._lo=a._lo}}else if(2===arguments.length){var f=arguments[1];this._hi=arguments[0],this._lo=f}},z.prototype.gt=function(o){return(this._hi>o._hi||this._hi===o._hi)&&this._lo>o._lo},z.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},z.prototype.trunc=function(){return this.isNaN()?z.NaN:this.isPositive()?this.floor():this.ceil()},z.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},z.prototype.interfaces_=function(){return[H,S,N]},z.prototype.getClass=function(){return z},z.sqr=function(o){return z.valueOf(o).selfMultiply(o)},z.valueOf=function(){return"string"==typeof arguments[0]?z.parse(arguments[0]):"number"==typeof arguments[0]?new z(arguments[0]):void 0},z.sqrt=function(o){return z.valueOf(o).sqrt()},z.parse=function(o){for(var a=0,l=o.length;we.isWhitespace(o.charAt(a));)a++;var f=!1;if(a<l){var p=o.charAt(a);"-"!==p&&"+"!==p||(a++,"-"===p&&(f=!0))}for(var v=new z,E=0,I=0,$=0;!(a>=l);){var oe=o.charAt(a);if(a++,we.isDigit(oe)){var Te=oe-"0";v.selfMultiply(z.TEN),v.selfAdd(Te),E++}else{if("."!==oe){if("e"===oe||"E"===oe){var Fe=o.substring(a);try{$=de.parseInt(Fe)}catch(jn){throw jn instanceof Error?new Error("Invalid exponent "+Fe+" in string "+o):jn}break}throw new Error("Unexpected character '"+oe+"' at position "+a+" in string "+o)}I=E}}var Qe=v,ot=E-I-$;if(0===ot)Qe=v;else if(ot>0){var ft=z.TEN.pow(ot);Qe=v.divide(ft)}else if(ot<0){var It=z.TEN.pow(-ot);Qe=v.multiply(It)}return f?Qe.negate():Qe},z.createNaN=function(){return new z(O.NaN,O.NaN)},z.copy=function(o){return new z(o)},z.magnitude=function(o){var a=Math.abs(o),l=Math.log(a)/Math.log(10),f=Math.trunc(Math.floor(l));return 10*Math.pow(10,f)<=a&&(f+=1),f},z.stringOfChar=function(o,a){for(var l=new q,f=0;f<a;f++)l.append(o);return l.toString()},Re.PI.get=function(){return new z(3.141592653589793,12246467991473532e-32)},Re.TWO_PI.get=function(){return new z(6.283185307179586,24492935982947064e-32)},Re.PI_2.get=function(){return new z(1.5707963267948966,6123233995736766e-32)},Re.E.get=function(){return new z(2.718281828459045,14456468917292502e-32)},Re.NaN.get=function(){return new z(O.NaN,O.NaN)},Re.EPS.get=function(){return 123259516440783e-46},Re.SPLIT.get=function(){return 134217729},Re.MAX_PRINT_DIGITS.get=function(){return 32},Re.TEN.get=function(){return z.valueOf(10)},Re.ONE.get=function(){return z.valueOf(1)},Re.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Re.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(z,Re);var Oe=function(){},Ke={DP_SAFE_EPSILON:{configurable:!0}};Oe.prototype.interfaces_=function(){return[]},Oe.prototype.getClass=function(){return Oe},Oe.orientationIndex=function(o,a,l){var f=Oe.orientationIndexFilter(o,a,l);if(f<=1)return f;var p=z.valueOf(a.x).selfAdd(-o.x),v=z.valueOf(a.y).selfAdd(-o.y),E=z.valueOf(l.x).selfAdd(-a.x),I=z.valueOf(l.y).selfAdd(-a.y);return p.selfMultiply(I).selfSubtract(v.selfMultiply(E)).signum()},Oe.signOfDet2x2=function(o,a,l,f){return o.multiply(f).selfSubtract(a.multiply(l)).signum()},Oe.intersection=function(o,a,l,f){var p=z.valueOf(f.y).selfSubtract(l.y).selfMultiply(z.valueOf(a.x).selfSubtract(o.x)),v=z.valueOf(f.x).selfSubtract(l.x).selfMultiply(z.valueOf(a.y).selfSubtract(o.y)),E=p.subtract(v),I=z.valueOf(f.x).selfSubtract(l.x).selfMultiply(z.valueOf(o.y).selfSubtract(l.y)),$=z.valueOf(f.y).selfSubtract(l.y).selfMultiply(z.valueOf(o.x).selfSubtract(l.x)),oe=I.subtract($).selfDivide(E).doubleValue(),Te=z.valueOf(o.x).selfAdd(z.valueOf(a.x).selfSubtract(o.x).selfMultiply(oe)).doubleValue(),Fe=z.valueOf(a.x).selfSubtract(o.x).selfMultiply(z.valueOf(o.y).selfSubtract(l.y)),Qe=z.valueOf(a.y).selfSubtract(o.y).selfMultiply(z.valueOf(o.x).selfSubtract(l.x)),ot=Fe.subtract(Qe).selfDivide(E).doubleValue(),ft=z.valueOf(l.y).selfAdd(z.valueOf(f.y).selfSubtract(l.y).selfMultiply(ot)).doubleValue();return new C(Te,ft)},Oe.orientationIndexFilter=function(o,a,l){var f=null,p=(o.x-l.x)*(a.y-l.y),v=(o.y-l.y)*(a.x-l.x),E=p-v;if(p>0){if(v<=0)return Oe.signum(E);f=p+v}else{if(!(p<0)||v>=0)return Oe.signum(E);f=-p-v}var I=Oe.DP_SAFE_EPSILON*f;return E>=I||-E>=I?Oe.signum(E):2},Oe.signum=function(o){return o>0?1:o<0?-1:0},Ke.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Oe,Ke);var Le=function(){},st={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};st.X.get=function(){return 0},st.Y.get=function(){return 1},st.Z.get=function(){return 2},st.M.get=function(){return 3},Le.prototype.setOrdinate=function(o,a,l){},Le.prototype.size=function(){},Le.prototype.getOrdinate=function(o,a){},Le.prototype.getCoordinate=function(){},Le.prototype.getCoordinateCopy=function(o){},Le.prototype.getDimension=function(){},Le.prototype.getX=function(o){},Le.prototype.clone=function(){},Le.prototype.expandEnvelope=function(o){},Le.prototype.copy=function(){},Le.prototype.getY=function(o){},Le.prototype.toCoordinateArray=function(){},Le.prototype.interfaces_=function(){return[N]},Le.prototype.getClass=function(){return Le},Object.defineProperties(Le,st);var at=function(){},dt=function(o){function a(){o.call(this,"Projective point not representable on the Cartesian plane.")}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(at),Xe=function(){};Xe.arraycopy=function(o,a,l,f,p){for(var v=0,E=a;E<a+p;E++)l[f+v]=o[E],v++},Xe.getProperty=function(o){return{"line.separator":"\n"}[o]};var ht=function o(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var a=arguments[0];this.x=a.x,this.y=a.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var f=arguments[1];this.x=arguments[0],this.y=f,this.w=1}else if(arguments[0]instanceof o&&arguments[1]instanceof o){var p=arguments[0],v=arguments[1];this.x=p.y*v.w-v.y*p.w,this.y=v.x*p.w-p.x*v.w,this.w=p.x*v.y-v.x*p.y}else if(arguments[0]instanceof C&&arguments[1]instanceof C){var E=arguments[0],I=arguments[1];this.x=E.y-I.y,this.y=I.x-E.x,this.w=E.x*I.y-I.x*E.y}}else if(3===arguments.length){var oe=arguments[1],Te=arguments[2];this.x=arguments[0],this.y=oe,this.w=Te}else if(4===arguments.length){var Fe=arguments[0],Qe=arguments[1],ot=arguments[2],ft=arguments[3],It=Fe.y-Qe.y,jn=Qe.x-Fe.x,Ur=Fe.x*Qe.y-Qe.x*Fe.y,Ei=ot.y-ft.y,Nr=ft.x-ot.x,ji=ot.x*ft.y-ft.x*ot.y;this.x=jn*ji-Nr*Ur,this.y=Ei*Ur-It*ji,this.w=It*Nr-Ei*jn}};ht.prototype.getY=function(){var o=this.y/this.w;if(O.isNaN(o)||O.isInfinite(o))throw new dt;return o},ht.prototype.getX=function(){var o=this.x/this.w;if(O.isNaN(o)||O.isInfinite(o))throw new dt;return o},ht.prototype.getCoordinate=function(){var o=new C;return o.x=this.getX(),o.y=this.getY(),o},ht.prototype.interfaces_=function(){return[]},ht.prototype.getClass=function(){return ht},ht.intersection=function(o,a,l,f){var p=o.y-a.y,v=a.x-o.x,E=o.x*a.y-a.x*o.y,I=l.y-f.y,$=f.x-l.x,oe=l.x*f.y-f.x*l.y,Te=p*$-I*v,Fe=(v*oe-$*E)/Te,Qe=(I*E-p*oe)/Te;if(O.isNaN(Fe)||O.isInfinite(Fe)||O.isNaN(Qe)||O.isInfinite(Qe))throw new dt;return new C(Fe,Qe)};var Ze=function o(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof C){var a=arguments[0];this.init(a.x,a.x,a.y,a.y)}else arguments[0]instanceof o&&this.init(arguments[0]);else if(2===arguments.length){var f=arguments[0],p=arguments[1];this.init(f.x,p.x,f.y,p.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},zn={serialVersionUID:{configurable:!0}};Ze.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Ze.prototype.equals=function(o){if(!(o instanceof Ze))return!1;var a=o;return this.isNull()?a.isNull():this._maxx===a.getMaxX()&&this._maxy===a.getMaxY()&&this._minx===a.getMinX()&&this._miny===a.getMinY()},Ze.prototype.intersection=function(o){return this.isNull()||o.isNull()||!this.intersects(o)?new Ze:new Ze(this._minx>o._minx?this._minx:o._minx,this._maxx<o._maxx?this._maxx:o._maxx,this._miny>o._miny?this._miny:o._miny,this._maxy<o._maxy?this._maxy:o._maxy)},Ze.prototype.isNull=function(){return this._maxx<this._minx},Ze.prototype.getMaxX=function(){return this._maxx},Ze.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof C){var o=arguments[0];return this.covers(o.x,o.y)}if(arguments[0]instanceof Ze){var a=arguments[0];return!this.isNull()&&!a.isNull()&&a.getMinX()>=this._minx&&a.getMaxX()<=this._maxx&&a.getMinY()>=this._miny&&a.getMaxY()<=this._maxy}}else if(2===arguments.length){var l=arguments[0],f=arguments[1];return!this.isNull()&&l>=this._minx&&l<=this._maxx&&f>=this._miny&&f<=this._maxy}},Ze.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Ze){var o=arguments[0];return!this.isNull()&&!o.isNull()&&!(o._minx>this._maxx||o._maxx<this._minx||o._miny>this._maxy||o._maxy<this._miny)}if(arguments[0]instanceof C){var a=arguments[0];return this.intersects(a.x,a.y)}}else if(2===arguments.length){var l=arguments[0],f=arguments[1];return!this.isNull()&&!(l>this._maxx||l<this._minx||f>this._maxy||f<this._miny)}},Ze.prototype.getMinY=function(){return this._miny},Ze.prototype.getMinX=function(){return this._minx},Ze.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof C){var o=arguments[0];this.expandToInclude(o.x,o.y)}else if(arguments[0]instanceof Ze){var a=arguments[0];if(a.isNull())return null;this.isNull()?(this._minx=a.getMinX(),this._maxx=a.getMaxX(),this._miny=a.getMinY(),this._maxy=a.getMaxY()):(a._minx<this._minx&&(this._minx=a._minx),a._maxx>this._maxx&&(this._maxx=a._maxx),a._miny<this._miny&&(this._miny=a._miny),a._maxy>this._maxy&&(this._maxy=a._maxy))}}else if(2===arguments.length){var l=arguments[0],f=arguments[1];this.isNull()?(this._minx=l,this._maxx=l,this._miny=f,this._maxy=f):(l<this._minx&&(this._minx=l),l>this._maxx&&(this._maxx=l),f<this._miny&&(this._miny=f),f>this._maxy&&(this._maxy=f))}},Ze.prototype.minExtent=function(){if(this.isNull())return 0;var o=this.getWidth(),a=this.getHeight();return o<a?o:a},Ze.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Ze.prototype.compareTo=function(o){var a=o;return this.isNull()?a.isNull()?0:-1:a.isNull()?1:this._minx<a._minx?-1:this._minx>a._minx?1:this._miny<a._miny?-1:this._miny>a._miny?1:this._maxx<a._maxx?-1:this._maxx>a._maxx?1:this._maxy<a._maxy?-1:this._maxy>a._maxy?1:0},Ze.prototype.translate=function(o,a){if(this.isNull())return null;this.init(this.getMinX()+o,this.getMaxX()+o,this.getMinY()+a,this.getMaxY()+a)},Ze.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Ze.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Ze.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Ze.prototype.maxExtent=function(){if(this.isNull())return 0;var o=this.getWidth(),a=this.getHeight();return o>a?o:a},Ze.prototype.expandBy=function(){if(1===arguments.length){var o=arguments[0];this.expandBy(o,o)}else if(2===arguments.length){var a=arguments[0],l=arguments[1];if(this.isNull())return null;this._minx-=a,this._maxx+=a,this._miny-=l,this._maxy+=l,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Ze.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Ze)return this.covers(arguments[0]);if(arguments[0]instanceof C)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Ze.prototype.centre=function(){return this.isNull()?null:new C((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Ze.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof C){var o=arguments[0];this.init(o.x,o.x,o.y,o.y)}else if(arguments[0]instanceof Ze){var a=arguments[0];this._minx=a._minx,this._maxx=a._maxx,this._miny=a._miny,this._maxy=a._maxy}}else if(2===arguments.length){var l=arguments[0],f=arguments[1];this.init(l.x,f.x,l.y,f.y)}else if(4===arguments.length){var p=arguments[0],v=arguments[1],E=arguments[2],I=arguments[3];p<v?(this._minx=p,this._maxx=v):(this._minx=v,this._maxx=p),E<I?(this._miny=E,this._maxy=I):(this._miny=I,this._maxy=E)}},Ze.prototype.getMaxY=function(){return this._maxy},Ze.prototype.distance=function(o){if(this.intersects(o))return 0;var a=0;this._maxx<o._minx?a=o._minx-this._maxx:this._minx>o._maxx&&(a=this._minx-o._maxx);var l=0;return this._maxy<o._miny?l=o._miny-this._maxy:this._miny>o._maxy&&(l=this._miny-o._maxy),0===a?l:0===l?a:Math.sqrt(a*a+l*l)},Ze.prototype.hashCode=function(){var o=17;return 37*(o=37*(o=37*(o=37*o+C.hashCode(this._minx))+C.hashCode(this._maxx))+C.hashCode(this._miny))+C.hashCode(this._maxy)},Ze.prototype.interfaces_=function(){return[S,H]},Ze.prototype.getClass=function(){return Ze},Ze.intersects=function(){if(3===arguments.length){var o=arguments[0],a=arguments[1],l=arguments[2];return l.x>=(o.x<a.x?o.x:a.x)&&l.x<=(o.x>a.x?o.x:a.x)&&l.y>=(o.y<a.y?o.y:a.y)&&l.y<=(o.y>a.y?o.y:a.y)}if(4===arguments.length){var f=arguments[0],p=arguments[1],v=arguments[2],E=arguments[3],I=Math.min(v.x,E.x),$=Math.max(v.x,E.x),oe=Math.min(f.x,p.x),Te=Math.max(f.x,p.x);return!(oe>$||Te<I||(I=Math.min(v.y,E.y),$=Math.max(v.y,E.y),oe=Math.min(f.y,p.y),Te=Math.max(f.y,p.y),oe>$||Te<I))}},zn.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Ze,zn);var Vn={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Qn=function(o){this.geometryFactory=o||new Ne};Qn.prototype.read=function(o){var a,l;o=o.replace(/[\n\r]/g," ");var p=Vn.typeStr.exec(o);if(-1!==o.search("EMPTY")&&((p=Vn.emptyTypeStr.exec(o))[2]=void 0),p&&(l=p[1].toLowerCase(),Ct[l]&&(a=Ct[l].apply(this,[p[2]]))),void 0===a)throw new Error("Could not parse WKT "+o);return a},Qn.prototype.write=function(o){return this.extractGeometry(o)},Qn.prototype.extractGeometry=function(o){var a=o.getGeometryType().toLowerCase();if(!Et[a])return null;var l=a.toUpperCase();return o.isEmpty()?l+" EMPTY":l+"("+Et[a].apply(this,[o])+")"};var Et={coordinate:function(o){return o.x+" "+o.y},point:function(o){return Et.coordinate.call(this,o._coordinates._coordinates[0])},multipoint:function(o){for(var a=[],l=0,f=o._geometries.length;l<f;++l)a.push("("+Et.point.apply(this,[o._geometries[l]])+")");return a.join(",")},linestring:function(o){for(var a=[],l=0,f=o._points._coordinates.length;l<f;++l)a.push(Et.coordinate.apply(this,[o._points._coordinates[l]]));return a.join(",")},linearring:function(o){for(var a=[],l=0,f=o._points._coordinates.length;l<f;++l)a.push(Et.coordinate.apply(this,[o._points._coordinates[l]]));return a.join(",")},multilinestring:function(o){for(var a=[],l=0,f=o._geometries.length;l<f;++l)a.push("("+Et.linestring.apply(this,[o._geometries[l]])+")");return a.join(",")},polygon:function(o){var a=[];a.push("("+Et.linestring.apply(this,[o._shell])+")");for(var l=0,f=o._holes.length;l<f;++l)a.push("("+Et.linestring.apply(this,[o._holes[l]])+")");return a.join(",")},multipolygon:function(o){for(var a=[],l=0,f=o._geometries.length;l<f;++l)a.push("("+Et.polygon.apply(this,[o._geometries[l]])+")");return a.join(",")},geometrycollection:function(o){for(var a=[],l=0,f=o._geometries.length;l<f;++l)a.push(this.extractGeometry(o._geometries[l]));return a.join(",")}},Ct={point:function(o){if(void 0===o)return this.geometryFactory.createPoint();var a=o.trim().split(Vn.spaces);return this.geometryFactory.createPoint(new C(Number.parseFloat(a[0]),Number.parseFloat(a[1])))},multipoint:function(o){if(void 0===o)return this.geometryFactory.createMultiPoint();for(var a,l=o.trim().split(","),f=[],p=0,v=l.length;p<v;++p)a=l[p].replace(Vn.trimParens,"$1"),f.push(Ct.point.apply(this,[a]));return this.geometryFactory.createMultiPoint(f)},linestring:function(o){if(void 0===o)return this.geometryFactory.createLineString();for(var a,l=o.trim().split(","),f=[],p=0,v=l.length;p<v;++p)a=l[p].trim().split(Vn.spaces),f.push(new C(Number.parseFloat(a[0]),Number.parseFloat(a[1])));return this.geometryFactory.createLineString(f)},linearring:function(o){if(void 0===o)return this.geometryFactory.createLinearRing();for(var a,l=o.trim().split(","),f=[],p=0,v=l.length;p<v;++p)a=l[p].trim().split(Vn.spaces),f.push(new C(Number.parseFloat(a[0]),Number.parseFloat(a[1])));return this.geometryFactory.createLinearRing(f)},multilinestring:function(o){if(void 0===o)return this.geometryFactory.createMultiLineString();for(var a,l=o.trim().split(Vn.parenComma),f=[],p=0,v=l.length;p<v;++p)a=l[p].replace(Vn.trimParens,"$1"),f.push(Ct.linestring.apply(this,[a]));return this.geometryFactory.createMultiLineString(f)},polygon:function(o){if(void 0===o)return this.geometryFactory.createPolygon();for(var a,l,f,p,v=o.trim().split(Vn.parenComma),E=[],I=0,$=v.length;I<$;++I)a=v[I].replace(Vn.trimParens,"$1"),l=Ct.linestring.apply(this,[a]),f=this.geometryFactory.createLinearRing(l._points),0===I?p=f:E.push(f);return this.geometryFactory.createPolygon(p,E)},multipolygon:function(o){if(void 0===o)return this.geometryFactory.createMultiPolygon();for(var a,l=o.trim().split(Vn.doubleParenComma),f=[],p=0,v=l.length;p<v;++p)a=l[p].replace(Vn.trimParens,"$1"),f.push(Ct.polygon.apply(this,[a]));return this.geometryFactory.createMultiPolygon(f)},geometrycollection:function(o){if(void 0===o)return this.geometryFactory.createGeometryCollection();for(var a=(o=o.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),l=[],f=0,p=a.length;f<p;++f)l.push(this.read(a[f]));return this.geometryFactory.createGeometryCollection(l)}},Ie=function(o){this.parser=new Qn(o)};Ie.prototype.write=function(o){return this.parser.write(o)},Ie.toLineString=function(o,a){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+o.x+" "+o.y+", "+a.x+" "+a.y+" )"};var B=function(o){function a(l){o.call(this,l),this.name="RuntimeException",this.message=l,this.stack=(new o).stack}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(Error),F=function(o){function a(){o.call(this),0===arguments.length?o.call(this):1===arguments.length&&o.call(this,arguments[0])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(B),P=function(){};P.prototype.interfaces_=function(){return[]},P.prototype.getClass=function(){return P},P.shouldNeverReachHere=function(){if(0===arguments.length)P.shouldNeverReachHere(null);else if(1===arguments.length){var o=arguments[0];throw new F("Should never reach here"+(null!==o?": "+o:""))}},P.isTrue=function(){var a;if(1===arguments.length)P.isTrue(arguments[0],null);else if(2===arguments.length&&(a=arguments[1],!arguments[0]))throw null===a?new F:new F(a)},P.equals=function(){var o,a,l;if(2===arguments.length)P.equals(o=arguments[0],a=arguments[1],null);else if(3===arguments.length&&(l=arguments[2],!(a=arguments[1]).equals(o=arguments[0])))throw new F("Expected "+o+" but encountered "+a+(null!==l?": "+l:""))};var J=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new C,this._intPt[1]=new C,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Ee={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};J.prototype.getIndexAlongSegment=function(o,a){return this.computeIntLineIndex(),this._intLineIndex[o][a]},J.prototype.getTopologySummary=function(){var o=new q;return this.isEndPoint()&&o.append(" endpoint"),this._isProper&&o.append(" proper"),this.isCollinear()&&o.append(" collinear"),o.toString()},J.prototype.computeIntersection=function(o,a,l,f){this._inputLines[0][0]=o,this._inputLines[0][1]=a,this._inputLines[1][0]=l,this._inputLines[1][1]=f,this._result=this.computeIntersect(o,a,l,f)},J.prototype.getIntersectionNum=function(){return this._result},J.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var o=arguments[0];this.getEdgeDistance(o,0)>this.getEdgeDistance(o,1)?(this._intLineIndex[o][0]=0,this._intLineIndex[o][1]=1):(this._intLineIndex[o][0]=1,this._intLineIndex[o][1]=0)}},J.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},J.prototype.setPrecisionModel=function(o){this._precisionModel=o},J.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var o=arguments[0],a=0;a<this._result;a++)if(!this._intPt[a].equals2D(this._inputLines[o][0])&&!this._intPt[a].equals2D(this._inputLines[o][1]))return!0;return!1}},J.prototype.getIntersection=function(o){return this._intPt[o]},J.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},J.prototype.hasIntersection=function(){return this._result!==J.NO_INTERSECTION},J.prototype.getEdgeDistance=function(o,a){return J.computeEdgeDistance(this._intPt[a],this._inputLines[o][0],this._inputLines[o][1])},J.prototype.isCollinear=function(){return this._result===J.COLLINEAR_INTERSECTION},J.prototype.toString=function(){return Ie.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Ie.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},J.prototype.getEndpoint=function(o,a){return this._inputLines[o][a]},J.prototype.isIntersection=function(o){for(var a=0;a<this._result;a++)if(this._intPt[a].equals2D(o))return!0;return!1},J.prototype.getIntersectionAlongSegment=function(o,a){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[o][a]]},J.prototype.interfaces_=function(){return[]},J.prototype.getClass=function(){return J},J.computeEdgeDistance=function(o,a,l){var f=Math.abs(l.x-a.x),p=Math.abs(l.y-a.y),v=-1;if(o.equals(a))v=0;else if(o.equals(l))v=f>p?f:p;else{var E=Math.abs(o.x-a.x),I=Math.abs(o.y-a.y);0!==(v=f>p?E:I)||o.equals(a)||(v=Math.max(E,I))}return P.isTrue(!(0===v&&!o.equals(a)),"Bad distance calculation"),v},J.nonRobustComputeEdgeDistance=function(o,a,l){var f=o.x-a.x,p=o.y-a.y,v=Math.sqrt(f*f+p*p);return P.isTrue(!(0===v&&!o.equals(a)),"Invalid distance calculation"),v},Ee.DONT_INTERSECT.get=function(){return 0},Ee.DO_INTERSECT.get=function(){return 1},Ee.COLLINEAR.get=function(){return 2},Ee.NO_INTERSECTION.get=function(){return 0},Ee.POINT_INTERSECTION.get=function(){return 1},Ee.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(J,Ee);var Pe=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.isInSegmentEnvelopes=function(l){var f=new Ze(this._inputLines[0][0],this._inputLines[0][1]),p=new Ze(this._inputLines[1][0],this._inputLines[1][1]);return f.contains(l)&&p.contains(l)},a.prototype.computeIntersection=function(){if(3!==arguments.length)return o.prototype.computeIntersection.apply(this,arguments);var l=arguments[0],f=arguments[1],p=arguments[2];if(this._isProper=!1,Ze.intersects(f,p,l)&&0===ke.orientationIndex(f,p,l)&&0===ke.orientationIndex(p,f,l))return this._isProper=!0,(l.equals(f)||l.equals(p))&&(this._isProper=!1),this._result=o.POINT_INTERSECTION,null;this._result=o.NO_INTERSECTION},a.prototype.normalizeToMinimum=function(l,f,p,v,E){E.x=this.smallestInAbsValue(l.x,f.x,p.x,v.x),E.y=this.smallestInAbsValue(l.y,f.y,p.y,v.y),l.x-=E.x,l.y-=E.y,f.x-=E.x,f.y-=E.y,p.x-=E.x,p.y-=E.y,v.x-=E.x,v.y-=E.y},a.prototype.safeHCoordinateIntersection=function(l,f,p,v){var E=null;try{E=ht.intersection(l,f,p,v)}catch(I){if(!(I instanceof dt))throw I;E=a.nearestEndpoint(l,f,p,v)}return E},a.prototype.intersection=function(l,f,p,v){var E=this.intersectionWithNormalization(l,f,p,v);return this.isInSegmentEnvelopes(E)||(E=new C(a.nearestEndpoint(l,f,p,v))),null!==this._precisionModel&&this._precisionModel.makePrecise(E),E},a.prototype.smallestInAbsValue=function(l,f,p,v){var E=l,I=Math.abs(E);return Math.abs(f)<I&&(E=f,I=Math.abs(f)),Math.abs(p)<I&&(E=p,I=Math.abs(p)),Math.abs(v)<I&&(E=v),E},a.prototype.checkDD=function(l,f,p,v,E){var I=Oe.intersection(l,f,p,v),$=this.isInSegmentEnvelopes(I);Xe.out.println("DD in env = "+$+"  --------------------- "+I),E.distance(I)>1e-4&&Xe.out.println("Distance = "+E.distance(I))},a.prototype.intersectionWithNormalization=function(l,f,p,v){var E=new C(l),I=new C(f),$=new C(p),oe=new C(v),Te=new C;this.normalizeToEnvCentre(E,I,$,oe,Te);var Fe=this.safeHCoordinateIntersection(E,I,$,oe);return Fe.x+=Te.x,Fe.y+=Te.y,Fe},a.prototype.computeCollinearIntersection=function(l,f,p,v){var E=Ze.intersects(l,f,p),I=Ze.intersects(l,f,v),$=Ze.intersects(p,v,l),oe=Ze.intersects(p,v,f);return E&&I?(this._intPt[0]=p,this._intPt[1]=v,o.COLLINEAR_INTERSECTION):$&&oe?(this._intPt[0]=l,this._intPt[1]=f,o.COLLINEAR_INTERSECTION):E&&$?(this._intPt[0]=p,this._intPt[1]=l,!p.equals(l)||I||oe?o.COLLINEAR_INTERSECTION:o.POINT_INTERSECTION):E&&oe?(this._intPt[0]=p,this._intPt[1]=f,!p.equals(f)||I||$?o.COLLINEAR_INTERSECTION:o.POINT_INTERSECTION):I&&$?(this._intPt[0]=v,this._intPt[1]=l,!v.equals(l)||E||oe?o.COLLINEAR_INTERSECTION:o.POINT_INTERSECTION):I&&oe?(this._intPt[0]=v,this._intPt[1]=f,!v.equals(f)||E||$?o.COLLINEAR_INTERSECTION:o.POINT_INTERSECTION):o.NO_INTERSECTION},a.prototype.normalizeToEnvCentre=function(l,f,p,v,E){var I=l.x<f.x?l.x:f.x,$=l.y<f.y?l.y:f.y,oe=l.x>f.x?l.x:f.x,Te=l.y>f.y?l.y:f.y,Fe=p.x<v.x?p.x:v.x,Qe=p.y<v.y?p.y:v.y,ot=p.x>v.x?p.x:v.x,ft=p.y>v.y?p.y:v.y,jn=(($>Qe?$:Qe)+(Te<ft?Te:ft))/2;E.x=((I>Fe?I:Fe)+(oe<ot?oe:ot))/2,E.y=jn,l.x-=E.x,l.y-=E.y,f.x-=E.x,f.y-=E.y,p.x-=E.x,p.y-=E.y,v.x-=E.x,v.y-=E.y},a.prototype.computeIntersect=function(l,f,p,v){if(this._isProper=!1,!Ze.intersects(l,f,p,v))return o.NO_INTERSECTION;var E=ke.orientationIndex(l,f,p),I=ke.orientationIndex(l,f,v);if(E>0&&I>0||E<0&&I<0)return o.NO_INTERSECTION;var $=ke.orientationIndex(p,v,l),oe=ke.orientationIndex(p,v,f);return $>0&&oe>0||$<0&&oe<0?o.NO_INTERSECTION:0===E&&0===I&&0===$&&0===oe?this.computeCollinearIntersection(l,f,p,v):(0===E||0===I||0===$||0===oe?(this._isProper=!1,l.equals2D(p)||l.equals2D(v)?this._intPt[0]=l:f.equals2D(p)||f.equals2D(v)?this._intPt[0]=f:0===E?this._intPt[0]=new C(p):0===I?this._intPt[0]=new C(v):0===$?this._intPt[0]=new C(l):0===oe&&(this._intPt[0]=new C(f))):(this._isProper=!0,this._intPt[0]=this.intersection(l,f,p,v)),o.POINT_INTERSECTION)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.nearestEndpoint=function(l,f,p,v){var E=l,I=ke.distancePointLine(l,p,v),$=ke.distancePointLine(f,p,v);return $<I&&(I=$,E=f),($=ke.distancePointLine(p,l,f))<I&&(I=$,E=p),($=ke.distancePointLine(v,l,f))<I&&(I=$,E=v),E},a}(J),$e=function(){};$e.prototype.interfaces_=function(){return[]},$e.prototype.getClass=function(){return $e},$e.orientationIndex=function(o,a,l){return $e.signOfDet2x2(a.x-o.x,a.y-o.y,l.x-a.x,l.y-a.y)},$e.signOfDet2x2=function(o,a,l,f){var p=null,v=null,E=null;if(p=1,0===o||0===f)return 0===a||0===l?0:a>0?l>0?-p:p:l>0?p:-p;if(0===a||0===l)return f>0?o>0?p:-p:o>0?-p:p;if(a>0?f>0?a<=f||(p=-p,v=o,o=l,l=v,v=a,a=f,f=v):a<=-f?(p=-p,l=-l,f=-f):(v=o,o=-l,l=v,v=a,a=-f,f=v):f>0?-a<=f?(p=-p,o=-o,a=-a):(v=-o,o=l,l=v,v=-a,a=f,f=v):a>=f?(o=-o,a=-a,l=-l,f=-f):(p=-p,v=-o,o=-l,l=v,v=-a,a=-f,f=v),o>0){if(!(l>0&&o<=l))return p}else{if(l>0||!(o>=l))return-p;p=-p,o=-o,l=-l}for(;;){if((f-=(E=Math.floor(l/o))*a)<0)return-p;if(f>a)return p;if(o>(l-=E*o)+l){if(a<f+f)return p}else{if(a>f+f)return-p;l=o-l,f=a-f,p=-p}if(0===f)return 0===l?0:-p;if(0===l||(o-=(E=Math.floor(o/l))*l,(a-=E*f)<0))return p;if(a>f)return-p;if(l>o+o){if(f<a+a)return-p}else{if(f>a+a)return p;o=l-o,a=f-a,p=-p}if(0===a)return 0===o?0:p;if(0===o)return-p}};var qe=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};qe.prototype.countSegment=function(o,a){if(o.x<this._p.x&&a.x<this._p.x)return null;if(this._p.x===a.x&&this._p.y===a.y)return this._isPointOnSegment=!0,null;if(o.y===this._p.y&&a.y===this._p.y){var l=o.x,f=a.x;return l>f&&(l=a.x,f=o.x),this._p.x>=l&&this._p.x<=f&&(this._isPointOnSegment=!0),null}if(o.y>this._p.y&&a.y<=this._p.y||a.y>this._p.y&&o.y<=this._p.y){var v=o.y-this._p.y,I=a.y-this._p.y,$=$e.signOfDet2x2(o.x-this._p.x,v,a.x-this._p.x,I);if(0===$)return this._isPointOnSegment=!0,null;I<v&&($=-$),$>0&&this._crossingCount++}},qe.prototype.isPointInPolygon=function(){return this.getLocation()!==V.EXTERIOR},qe.prototype.getLocation=function(){return this._isPointOnSegment?V.BOUNDARY:this._crossingCount%2==1?V.INTERIOR:V.EXTERIOR},qe.prototype.isOnSegment=function(){return this._isPointOnSegment},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe},qe.locatePointInRing=function(){if(arguments[0]instanceof C&&Me(arguments[1],Le)){for(var a=arguments[1],l=new qe(arguments[0]),f=new C,p=new C,v=1;v<a.size();v++)if(a.getCoordinate(v,f),a.getCoordinate(v-1,p),l.countSegment(f,p),l.isOnSegment())return l.getLocation();return l.getLocation()}if(arguments[0]instanceof C&&arguments[1]instanceof Array){for(var I=arguments[1],$=new qe(arguments[0]),oe=1;oe<I.length;oe++)if($.countSegment(I[oe],I[oe-1]),$.isOnSegment())return $.getLocation();return $.getLocation()}};var ke=function(){},At={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke},ke.orientationIndex=function(o,a,l){return Oe.orientationIndex(o,a,l)},ke.signedArea=function(){if(arguments[0]instanceof Array){var o=arguments[0];if(o.length<3)return 0;for(var a=0,l=o[0].x,f=1;f<o.length-1;f++)a+=(o[f].x-l)*(o[f-1].y-o[f+1].y);return a/2}if(Me(arguments[0],Le)){var E=arguments[0],I=E.size();if(I<3)return 0;var $=new C,oe=new C,Te=new C;E.getCoordinate(0,oe),E.getCoordinate(1,Te);var Fe=oe.x;Te.x-=Fe;for(var Qe=0,ot=1;ot<I-1;ot++)$.y=oe.y,oe.x=Te.x,oe.y=Te.y,E.getCoordinate(ot+1,Te),Te.x-=Fe,Qe+=oe.x*($.y-Te.y);return Qe/2}},ke.distanceLineLine=function(o,a,l,f){if(o.equals(a))return ke.distancePointLine(o,l,f);if(l.equals(f))return ke.distancePointLine(f,o,a);var p=!1;if(Ze.intersects(o,a,l,f)){var v=(a.x-o.x)*(f.y-l.y)-(a.y-o.y)*(f.x-l.x);if(0===v)p=!0;else{var I=((o.y-l.y)*(a.x-o.x)-(o.x-l.x)*(a.y-o.y))/v,$=((o.y-l.y)*(f.x-l.x)-(o.x-l.x)*(f.y-l.y))/v;($<0||$>1||I<0||I>1)&&(p=!0)}}else p=!0;return p?W.min(ke.distancePointLine(o,l,f),ke.distancePointLine(a,l,f),ke.distancePointLine(l,o,a),ke.distancePointLine(f,o,a)):0},ke.isPointInRing=function(o,a){return ke.locatePointInRing(o,a)!==V.EXTERIOR},ke.computeLength=function(o){var a=o.size();if(a<=1)return 0;var l=0,f=new C;o.getCoordinate(0,f);for(var p=f.x,v=f.y,E=1;E<a;E++){o.getCoordinate(E,f);var I=f.x,$=f.y,oe=I-p,Te=$-v;l+=Math.sqrt(oe*oe+Te*Te),p=I,v=$}return l},ke.isCCW=function(o){var a=o.length-1;if(a<3)throw new T("Ring has fewer than 4 points, so orientation cannot be determined");for(var l=o[0],f=0,p=1;p<=a;p++){var v=o[p];v.y>l.y&&(l=v,f=p)}var E=f;do{(E-=1)<0&&(E=a)}while(o[E].equals2D(l)&&E!==f);var I=f;do{I=(I+1)%a}while(o[I].equals2D(l)&&I!==f);var $=o[E],oe=o[I];if($.equals2D(l)||oe.equals2D(l)||$.equals2D(oe))return!1;var Te=ke.computeOrientation($,l,oe);return 0===Te?$.x>oe.x:Te>0},ke.locatePointInRing=function(o,a){return qe.locatePointInRing(o,a)},ke.distancePointLinePerpendicular=function(o,a,l){var f=(l.x-a.x)*(l.x-a.x)+(l.y-a.y)*(l.y-a.y);return Math.abs(((a.y-o.y)*(l.x-a.x)-(a.x-o.x)*(l.y-a.y))/f)*Math.sqrt(f)},ke.computeOrientation=function(o,a,l){return ke.orientationIndex(o,a,l)},ke.distancePointLine=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1];if(0===a.length)throw new T("Line array must contain at least one vertex");for(var l=o.distance(a[0]),f=0;f<a.length-1;f++){var p=ke.distancePointLine(o,a[f],a[f+1]);p<l&&(l=p)}return l}if(3===arguments.length){var v=arguments[0],E=arguments[1],I=arguments[2];if(E.x===I.x&&E.y===I.y)return v.distance(E);var $=(I.x-E.x)*(I.x-E.x)+(I.y-E.y)*(I.y-E.y),oe=((v.x-E.x)*(I.x-E.x)+(v.y-E.y)*(I.y-E.y))/$;return oe<=0?v.distance(E):oe>=1?v.distance(I):Math.abs(((E.y-v.y)*(I.x-E.x)-(E.x-v.x)*(I.y-E.y))/$)*Math.sqrt($)}},ke.isOnLine=function(o,a){for(var l=new Pe,f=1;f<a.length;f++)if(l.computeIntersection(o,a[f-1],a[f]),l.hasIntersection())return!0;return!1},At.CLOCKWISE.get=function(){return-1},At.RIGHT.get=function(){return ke.CLOCKWISE},At.COUNTERCLOCKWISE.get=function(){return 1},At.LEFT.get=function(){return ke.COUNTERCLOCKWISE},At.COLLINEAR.get=function(){return 0},At.STRAIGHT.get=function(){return ke.COLLINEAR},Object.defineProperties(ke,At);var Vt=function(){};Vt.prototype.filter=function(o){},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt};var tt=function(){var o=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=o,this._SRID=o.getSRID()},Mt={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};tt.prototype.isGeometryCollection=function(){return this.getSortIndex()===tt.SORTINDEX_GEOMETRYCOLLECTION},tt.prototype.getFactory=function(){return this._factory},tt.prototype.getGeometryN=function(o){return this},tt.prototype.getArea=function(){return 0},tt.prototype.isRectangle=function(){return!1},tt.prototype.equals=function(){if(arguments[0]instanceof tt){var o=arguments[0];return null!==o&&this.equalsTopo(o)}if(arguments[0]instanceof Object){var a=arguments[0];return a instanceof tt&&this.equalsExact(a)}},tt.prototype.equalsExact=function(o){return this===o||this.equalsExact(o,0)},tt.prototype.geometryChanged=function(){this.apply(tt.geometryChangedFilter)},tt.prototype.geometryChangedAction=function(){this._envelope=null},tt.prototype.equalsNorm=function(o){return null!==o&&this.norm().equalsExact(o.norm())},tt.prototype.getLength=function(){return 0},tt.prototype.getNumGeometries=function(){return 1},tt.prototype.compareTo=function(){if(1===arguments.length){var o=arguments[0],a=o;return this.getSortIndex()!==a.getSortIndex()?this.getSortIndex()-a.getSortIndex():this.isEmpty()&&a.isEmpty()?0:this.isEmpty()?-1:a.isEmpty()?1:this.compareToSameClass(o)}if(2===arguments.length){var l=arguments[0],f=arguments[1];return this.getSortIndex()!==l.getSortIndex()?this.getSortIndex()-l.getSortIndex():this.isEmpty()&&l.isEmpty()?0:this.isEmpty()?-1:l.isEmpty()?1:this.compareToSameClass(l,f)}},tt.prototype.getUserData=function(){return this._userData},tt.prototype.getSRID=function(){return this._SRID},tt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},tt.prototype.checkNotGeometryCollection=function(o){if(o.getSortIndex()===tt.SORTINDEX_GEOMETRYCOLLECTION)throw new T("This method does not support GeometryCollection arguments")},tt.prototype.equal=function(o,a,l){return 0===l?o.equals(a):o.distance(a)<=l},tt.prototype.norm=function(){var o=this.copy();return o.normalize(),o},tt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},tt.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Ze(this._envelope)},tt.prototype.setSRID=function(o){this._SRID=o},tt.prototype.setUserData=function(o){this._userData=o},tt.prototype.compare=function(o,a){for(var l=o.iterator(),f=a.iterator();l.hasNext()&&f.hasNext();){var p=l.next(),v=f.next(),E=p.compareTo(v);if(0!==E)return E}return l.hasNext()?1:f.hasNext()?-1:0},tt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},tt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===tt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===tt.SORTINDEX_MULTIPOINT||this.getSortIndex()===tt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===tt.SORTINDEX_MULTIPOLYGON},tt.prototype.interfaces_=function(){return[N,S,H]},tt.prototype.getClass=function(){return tt},tt.hasNonEmptyElements=function(o){for(var a=0;a<o.length;a++)if(!o[a].isEmpty())return!0;return!1},tt.hasNullElements=function(o){for(var a=0;a<o.length;a++)if(null===o[a])return!0;return!1},Mt.serialVersionUID.get=function(){return 0x799ea46522854c00},Mt.SORTINDEX_POINT.get=function(){return 0},Mt.SORTINDEX_MULTIPOINT.get=function(){return 1},Mt.SORTINDEX_LINESTRING.get=function(){return 2},Mt.SORTINDEX_LINEARRING.get=function(){return 3},Mt.SORTINDEX_MULTILINESTRING.get=function(){return 4},Mt.SORTINDEX_POLYGON.get=function(){return 5},Mt.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Mt.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Mt.geometryChangedFilter.get=function(){return er},Object.defineProperties(tt,Mt);var er=function(){};er.interfaces_=function(){return[Vt]},er.filter=function(o){o.geometryChangedAction()};var Qt=function(){};Qt.prototype.filter=function(o){},Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt};var rn=function(){},ur={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};rn.prototype.isInBoundary=function(o){},rn.prototype.interfaces_=function(){return[]},rn.prototype.getClass=function(){return rn},ur.Mod2BoundaryNodeRule.get=function(){return _r},ur.EndPointBoundaryNodeRule.get=function(){return Yr},ur.MultiValentEndPointBoundaryNodeRule.get=function(){return Sr},ur.MonoValentEndPointBoundaryNodeRule.get=function(){return Xr},ur.MOD2_BOUNDARY_RULE.get=function(){return new _r},ur.ENDPOINT_BOUNDARY_RULE.get=function(){return new Yr},ur.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Sr},ur.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Xr},ur.OGC_SFS_BOUNDARY_RULE.get=function(){return rn.MOD2_BOUNDARY_RULE},Object.defineProperties(rn,ur);var _r=function(){};_r.prototype.isInBoundary=function(o){return o%2==1},_r.prototype.interfaces_=function(){return[rn]},_r.prototype.getClass=function(){return _r};var Yr=function(){};Yr.prototype.isInBoundary=function(o){return o>0},Yr.prototype.interfaces_=function(){return[rn]},Yr.prototype.getClass=function(){return Yr};var Sr=function(){};Sr.prototype.isInBoundary=function(o){return o>1},Sr.prototype.interfaces_=function(){return[rn]},Sr.prototype.getClass=function(){return Sr};var Xr=function(){};Xr.prototype.isInBoundary=function(o){return 1===o},Xr.prototype.interfaces_=function(){return[rn]},Xr.prototype.getClass=function(){return Xr};var Xn=function(){};Xn.prototype.add=function(){},Xn.prototype.addAll=function(){},Xn.prototype.isEmpty=function(){},Xn.prototype.iterator=function(){},Xn.prototype.size=function(){},Xn.prototype.toArray=function(){},Xn.prototype.remove=function(){},(X.prototype=new Error).name="IndexOutOfBoundsException";var Zi=function(){};Zi.prototype.hasNext=function(){},Zi.prototype.next=function(){},Zi.prototype.remove=function(){};var nr=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.get=function(){},a.prototype.set=function(){},a.prototype.isEmpty=function(){},a}(Xn);(fe.prototype=new Error).name="NoSuchElementException";var Je=function(o){function a(){o.call(this),this.array_=[],arguments[0]instanceof Xn&&this.addAll(arguments[0])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.ensureCapacity=function(){},a.prototype.interfaces_=function(){return[o,Xn]},a.prototype.add=function(l){return 1===arguments.length?this.array_.push(l):this.array_.splice(arguments[0],arguments[1]),!0},a.prototype.clear=function(){this.array_=[]},a.prototype.addAll=function(l){for(var f=l.iterator();f.hasNext();)this.add(f.next());return!0},a.prototype.set=function(l,f){var p=this.array_[l];return this.array_[l]=f,p},a.prototype.iterator=function(){return new js(this)},a.prototype.get=function(l){if(l<0||l>=this.size())throw new X;return this.array_[l]},a.prototype.isEmpty=function(){return 0===this.array_.length},a.prototype.size=function(){return this.array_.length},a.prototype.toArray=function(){for(var l=[],f=0,p=this.array_.length;f<p;f++)l.push(this.array_[f]);return l},a.prototype.remove=function(l){for(var f=!1,p=0,v=this.array_.length;p<v;p++)if(this.array_[p]===l){this.array_.splice(p,1),f=!0;break}return f},a}(nr),js=function(o){function a(l){o.call(this),this.arrayList_=l,this.position_=0}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new fe;return this.arrayList_.get(this.position_++)},a.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},a.prototype.set=function(l){return this.arrayList_.set(this.position_-1,l)},a.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},a}(Zi),oo=function(o){function a(){if(o.call(this),0!==arguments.length)if(1===arguments.length){var f=arguments[0];this.ensureCapacity(f.length),this.add(f,!0)}else if(2===arguments.length){var p=arguments[0],v=arguments[1];this.ensureCapacity(p.length),this.add(p,v)}}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={coordArrayType:{configurable:!0}};return l.coordArrayType.get=function(){return new Array(0).fill(null)},a.prototype.getCoordinate=function(f){return this.get(f)},a.prototype.addAll=function(){if(2===arguments.length){for(var p=arguments[1],v=!1,E=arguments[0].iterator();E.hasNext();)this.add(E.next(),p),v=!0;return v}return o.prototype.addAll.apply(this,arguments)},a.prototype.clone=function(){for(var f=o.prototype.clone.call(this),p=0;p<this.size();p++)f.add(p,this.get(p).copy());return f},a.prototype.toCoordinateArray=function(){return this.toArray(a.coordArrayType)},a.prototype.add=function(){if(1===arguments.length)o.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof C&&"boolean"==typeof arguments[1]){var E=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(E))return null;o.prototype.add.call(this,E)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var oe=arguments[0],Te=arguments[1];if(arguments[2])for(var Fe=0;Fe<oe.length;Fe++)this.add(oe[Fe],Te);else for(var Qe=oe.length-1;Qe>=0;Qe--)this.add(oe[Qe],Te);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof C){var ot=arguments[0],ft=arguments[1];if(!arguments[2]){var It=this.size();if(It>0&&(ot>0&&this.get(ot-1).equals2D(ft)||ot<It&&this.get(ot).equals2D(ft)))return null}o.prototype.add.call(this,ot,ft)}}else if(4===arguments.length){var jn=arguments[0],Ur=arguments[1],Ei=arguments[2],Nr=arguments[3],ji=1;Ei>Nr&&(ji=-1);for(var Dl=Ei;Dl!==Nr;Dl+=ji)this.add(jn[Dl],Ur);return!0}},a.prototype.closeRing=function(){this.size()>0&&this.add(new C(this.get(0)),!1)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},Object.defineProperties(a,l),a}(Je),Ut=function(){},ko={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};ko.ForwardComparator.get=function(){return Co},ko.BidirectionalComparator.get=function(){return Bo},ko.coordArrayType.get=function(){return new Array(0).fill(null)},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut},Ut.isRing=function(o){return!(o.length<4||!o[0].equals2D(o[o.length-1]))},Ut.ptNotInList=function(o,a){for(var l=0;l<o.length;l++){var f=o[l];if(Ut.indexOf(f,a)<0)return f}return null},Ut.scroll=function(o,a){var l=Ut.indexOf(a,o);if(l<0)return null;var f=new Array(o.length).fill(null);Xe.arraycopy(o,l,f,0,o.length-l),Xe.arraycopy(o,0,f,o.length-l,l),Xe.arraycopy(f,0,o,0,o.length)},Ut.equals=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1];if(o===a)return!0;if(null===o||null===a||o.length!==a.length)return!1;for(var l=0;l<o.length;l++)if(!o[l].equals(a[l]))return!1;return!0}if(3===arguments.length){var f=arguments[0],p=arguments[1],v=arguments[2];if(f===p)return!0;if(null===f||null===p||f.length!==p.length)return!1;for(var E=0;E<f.length;E++)if(0!==v.compare(f[E],p[E]))return!1;return!0}},Ut.intersection=function(o,a){for(var l=new oo,f=0;f<o.length;f++)a.intersects(o[f])&&l.add(o[f],!0);return l.toCoordinateArray()},Ut.hasRepeatedPoints=function(o){for(var a=1;a<o.length;a++)if(o[a-1].equals(o[a]))return!0;return!1},Ut.removeRepeatedPoints=function(o){return Ut.hasRepeatedPoints(o)?new oo(o,!1).toCoordinateArray():o},Ut.reverse=function(o){for(var a=o.length-1,l=Math.trunc(a/2),f=0;f<=l;f++){var p=o[f];o[f]=o[a-f],o[a-f]=p}},Ut.removeNull=function(o){for(var a=0,l=0;l<o.length;l++)null!==o[l]&&a++;var f=new Array(a).fill(null);if(0===a)return f;for(var p=0,v=0;v<o.length;v++)null!==o[v]&&(f[p++]=o[v]);return f},Ut.copyDeep=function(){if(1===arguments.length){for(var o=arguments[0],a=new Array(o.length).fill(null),l=0;l<o.length;l++)a[l]=new C(o[l]);return a}if(5===arguments.length)for(var f=arguments[0],p=arguments[1],v=arguments[2],E=arguments[3],I=arguments[4],$=0;$<I;$++)v[E+$]=new C(f[p+$])},Ut.isEqualReversed=function(o,a){for(var l=0;l<o.length;l++)if(0!==o[l].compareTo(a[o.length-l-1]))return!1;return!0},Ut.envelope=function(o){for(var a=new Ze,l=0;l<o.length;l++)a.expandToInclude(o[l]);return a},Ut.toCoordinateArray=function(o){return o.toArray(Ut.coordArrayType)},Ut.atLeastNCoordinatesOrNothing=function(o,a){return a.length>=o?a:[]},Ut.indexOf=function(o,a){for(var l=0;l<a.length;l++)if(o.equals(a[l]))return l;return-1},Ut.increasingDirection=function(o){for(var a=0;a<Math.trunc(o.length/2);a++){var f=o[a].compareTo(o[o.length-1-a]);if(0!==f)return f}return 1},Ut.compare=function(o,a){for(var l=0;l<o.length&&l<a.length;){var f=o[l].compareTo(a[l]);if(0!==f)return f;l++}return l<a.length?-1:l<o.length?1:0},Ut.minCoordinate=function(o){for(var a=null,l=0;l<o.length;l++)(null===a||a.compareTo(o[l])>0)&&(a=o[l]);return a},Ut.extract=function(o,a,l){a=W.clamp(a,0,o.length);var f=(l=W.clamp(l,-1,o.length))-a+1;l<0&&(f=0),a>=o.length&&(f=0),l<a&&(f=0);var p=new Array(f).fill(null);if(0===f)return p;for(var v=0,E=a;E<=l;E++)p[v++]=o[E];return p},Object.defineProperties(Ut,ko);var Co=function(){};Co.prototype.compare=function(o,a){return Ut.compare(o,a)},Co.prototype.interfaces_=function(){return[k]},Co.prototype.getClass=function(){return Co};var Bo=function(){};Bo.prototype.compare=function(o,a){var l=o,f=a;if(l.length<f.length)return-1;if(l.length>f.length)return 1;if(0===l.length)return 0;var p=Ut.compare(l,f);return Ut.isEqualReversed(l,f)?0:p},Bo.prototype.OLDcompare=function(o,a){var l=o,f=a;if(l.length<f.length)return-1;if(l.length>f.length)return 1;if(0===l.length)return 0;for(var p=Ut.increasingDirection(l),v=Ut.increasingDirection(f),E=p>0?0:l.length-1,I=v>0?0:l.length-1,$=0;$<l.length;$++){var oe=l[E].compareTo(f[I]);if(0!==oe)return oe;E+=p,I+=v}return 0},Bo.prototype.interfaces_=function(){return[k]},Bo.prototype.getClass=function(){return Bo};var Ms=function(){};Ms.prototype.get=function(){},Ms.prototype.put=function(){},Ms.prototype.size=function(){},Ms.prototype.values=function(){},Ms.prototype.entrySet=function(){};var Dc=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(Ms);(se.prototype=new Error).name="OperationNotSupported",(ne.prototype=new Xn).contains=function(){};var du=function(o){function a(){o.call(this),this.array_=[],arguments[0]instanceof Xn&&this.addAll(arguments[0])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.contains=function(l){for(var f=0,p=this.array_.length;f<p;f++)if(this.array_[f]===l)return!0;return!1},a.prototype.add=function(l){return!this.contains(l)&&(this.array_.push(l),!0)},a.prototype.addAll=function(l){for(var f=l.iterator();f.hasNext();)this.add(f.next());return!0},a.prototype.remove=function(l){throw new Error},a.prototype.size=function(){return this.array_.length},a.prototype.isEmpty=function(){return 0===this.array_.length},a.prototype.toArray=function(){for(var l=[],f=0,p=this.array_.length;f<p;f++)l.push(this.array_[f]);return l},a.prototype.iterator=function(){return new ml(this)},a}(ne),ml=function(o){function a(l){o.call(this),this.hashSet_=l,this.position_=0}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new fe;return this.hashSet_.array_[this.position_++]},a.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},a.prototype.remove=function(){throw new se},a}(Zi),Vo=0;(ge.prototype=new Dc).get=function(o){for(var a=this.root_;null!==a;){var l=o.compareTo(a.key);if(l<0)a=a.left;else{if(!(l>0))return a.value;a=a.right}}return null},ge.prototype.put=function(o,a){if(null===this.root_)return this.root_={key:o,value:a,left:null,right:null,parent:null,color:Vo,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var l,f,p=this.root_;do{if(l=p,(f=o.compareTo(p.key))<0)p=p.left;else{if(!(f>0)){var v=p.value;return p.value=a,v}p=p.right}}while(null!==p);var E={key:o,left:null,right:null,value:a,parent:l,color:Vo,getValue:function(){return this.value},getKey:function(){return this.key}};return f<0?l.left=E:l.right=E,this.fixAfterInsertion(E),this.size_++,null},ge.prototype.fixAfterInsertion=function(o){for(o.color=1;null!=o&&o!==this.root_&&1===o.parent.color;)if(ue(o)===Ae(ue(ue(o)))){var a=He(ue(ue(o)));1===Q(a)?(Se(ue(o),Vo),Se(a,Vo),Se(ue(ue(o)),1),o=ue(ue(o))):(o===He(ue(o))&&(o=ue(o),this.rotateLeft(o)),Se(ue(o),Vo),Se(ue(ue(o)),1),this.rotateRight(ue(ue(o))))}else{var l=Ae(ue(ue(o)));1===Q(l)?(Se(ue(o),Vo),Se(l,Vo),Se(ue(ue(o)),1),o=ue(ue(o))):(o===Ae(ue(o))&&(o=ue(o),this.rotateRight(o)),Se(ue(o),Vo),Se(ue(ue(o)),1),this.rotateLeft(ue(ue(o))))}this.root_.color=Vo},ge.prototype.values=function(){var o=new Je,a=this.getFirstEntry();if(null!==a)for(o.add(a.value);null!==(a=ge.successor(a));)o.add(a.value);return o},ge.prototype.entrySet=function(){var o=new du,a=this.getFirstEntry();if(null!==a)for(o.add(a);null!==(a=ge.successor(a));)o.add(a);return o},ge.prototype.rotateLeft=function(o){if(null!=o){var a=o.right;o.right=a.left,null!=a.left&&(a.left.parent=o),a.parent=o.parent,null===o.parent?this.root_=a:o.parent.left===o?o.parent.left=a:o.parent.right=a,a.left=o,o.parent=a}},ge.prototype.rotateRight=function(o){if(null!=o){var a=o.left;o.left=a.right,null!=a.right&&(a.right.parent=o),a.parent=o.parent,null===o.parent?this.root_=a:o.parent.right===o?o.parent.right=a:o.parent.left=a,a.right=o,o.parent=a}},ge.prototype.getFirstEntry=function(){var o=this.root_;if(null!=o)for(;null!=o.left;)o=o.left;return o},ge.successor=function(o){if(null===o)return null;if(null!==o.right){for(var a=o.right;null!==a.left;)a=a.left;return a}for(var l=o.parent,f=o;null!==l&&f===l.right;)f=l,l=l.parent;return l},ge.prototype.size=function(){return this.size_};var sa=function(){};sa.prototype.interfaces_=function(){return[]},sa.prototype.getClass=function(){return sa},he.prototype=new ne,(be.prototype=new he).contains=function(o){for(var a=0,l=this.array_.length;a<l;a++)if(0===this.array_[a].compareTo(o))return!0;return!1},be.prototype.add=function(o){if(this.contains(o))return!1;for(var a=0,l=this.array_.length;a<l;a++)if(1===this.array_[a].compareTo(o))return this.array_.splice(a,0,o),!0;return this.array_.push(o),!0},be.prototype.addAll=function(o){for(var a=o.iterator();a.hasNext();)this.add(a.next());return!0},be.prototype.remove=function(o){throw new se},be.prototype.size=function(){return this.array_.length},be.prototype.isEmpty=function(){return 0===this.array_.length},be.prototype.toArray=function(){for(var o=[],a=0,l=this.array_.length;a<l;a++)o.push(this.array_[a]);return o},be.prototype.iterator=function(){return new ki(this)};var ki=function(o){this.treeSet_=o,this.position_=0};ki.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new fe;return this.treeSet_.array_[this.position_++]},ki.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ki.prototype.remove=function(){throw new se};var Ns=function(){};Ns.sort=function(){var o,a,l,p=arguments[0];if(1===arguments.length)p.sort(function(E,I){return E.compareTo(I)});else if(2===arguments.length)l=arguments[1],p.sort(function(E,I){return l.compare(E,I)});else if(3===arguments.length){(a=p.slice(arguments[1],arguments[2])).sort();var v=p.slice(0,arguments[1]).concat(a,p.slice(arguments[2],p.length));for(p.splice(0,p.length),o=0;o<v.length;o++)p.push(v[o])}else if(4===arguments.length)for(a=p.slice(arguments[1],arguments[2]),l=arguments[3],a.sort(function(E,I){return l.compare(E,I)}),v=p.slice(0,arguments[1]).concat(a,p.slice(arguments[2],p.length)),p.splice(0,p.length),o=0;o<v.length;o++)p.push(v[o])},Ns.asList=function(o){for(var a=new Je,l=0,f=o.length;l<f;l++)a.add(o[l]);return a};var sn=function(){},so={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};so.P.get=function(){return 0},so.L.get=function(){return 1},so.A.get=function(){return 2},so.FALSE.get=function(){return-1},so.TRUE.get=function(){return-2},so.DONTCARE.get=function(){return-3},so.SYM_FALSE.get=function(){return"F"},so.SYM_TRUE.get=function(){return"T"},so.SYM_DONTCARE.get=function(){return"*"},so.SYM_P.get=function(){return"0"},so.SYM_L.get=function(){return"1"},so.SYM_A.get=function(){return"2"},sn.prototype.interfaces_=function(){return[]},sn.prototype.getClass=function(){return sn},sn.toDimensionSymbol=function(o){switch(o){case sn.FALSE:return sn.SYM_FALSE;case sn.TRUE:return sn.SYM_TRUE;case sn.DONTCARE:return sn.SYM_DONTCARE;case sn.P:return sn.SYM_P;case sn.L:return sn.SYM_L;case sn.A:return sn.SYM_A}throw new T("Unknown dimension value: "+o)},sn.toDimensionValue=function(o){switch(we.toUpperCase(o)){case sn.SYM_FALSE:return sn.FALSE;case sn.SYM_TRUE:return sn.TRUE;case sn.SYM_DONTCARE:return sn.DONTCARE;case sn.SYM_P:return sn.P;case sn.SYM_L:return sn.L;case sn.SYM_A:return sn.A}throw new T("Unknown dimension symbol: "+o)},Object.defineProperties(sn,so);var Do=function(){};Do.prototype.filter=function(o){},Do.prototype.interfaces_=function(){return[]},Do.prototype.getClass=function(){return Do};var Ji=function(){};Ji.prototype.filter=function(o,a){},Ji.prototype.isDone=function(){},Ji.prototype.isGeometryChanged=function(){},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji};var ni=function(o){function a(f,p){if(o.call(this,p),this._geometries=f||[],o.hasNullElements(this._geometries))throw new T("geometries must not contain null elements")}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){for(var f=new Ze,p=0;p<this._geometries.length;p++)f.expandToInclude(this._geometries[p].getEnvelopeInternal());return f},a.prototype.getGeometryN=function(f){return this._geometries[f]},a.prototype.getSortIndex=function(){return o.SORTINDEX_GEOMETRYCOLLECTION},a.prototype.getCoordinates=function(){for(var f=new Array(this.getNumPoints()).fill(null),p=-1,v=0;v<this._geometries.length;v++)for(var E=this._geometries[v].getCoordinates(),I=0;I<E.length;I++)f[++p]=E[I];return f},a.prototype.getArea=function(){for(var f=0,p=0;p<this._geometries.length;p++)f+=this._geometries[p].getArea();return f},a.prototype.equalsExact=function(){if(2===arguments.length){var f=arguments[0],p=arguments[1];if(!this.isEquivalentClass(f))return!1;var v=f;if(this._geometries.length!==v._geometries.length)return!1;for(var E=0;E<this._geometries.length;E++)if(!this._geometries[E].equalsExact(v._geometries[E],p))return!1;return!0}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){for(var f=0;f<this._geometries.length;f++)this._geometries[f].normalize();Ns.sort(this._geometries)},a.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},a.prototype.getBoundaryDimension=function(){for(var f=sn.FALSE,p=0;p<this._geometries.length;p++)f=Math.max(f,this._geometries[p].getBoundaryDimension());return f},a.prototype.getDimension=function(){for(var f=sn.FALSE,p=0;p<this._geometries.length;p++)f=Math.max(f,this._geometries[p].getDimension());return f},a.prototype.getLength=function(){for(var f=0,p=0;p<this._geometries.length;p++)f+=this._geometries[p].getLength();return f},a.prototype.getNumPoints=function(){for(var f=0,p=0;p<this._geometries.length;p++)f+=this._geometries[p].getNumPoints();return f},a.prototype.getNumGeometries=function(){return this._geometries.length},a.prototype.reverse=function(){for(var p=new Array(this._geometries.length).fill(null),v=0;v<this._geometries.length;v++)p[v]=this._geometries[v].reverse();return this.getFactory().createGeometryCollection(p)},a.prototype.compareToSameClass=function(){if(1===arguments.length){var f=arguments[0],p=new be(Ns.asList(this._geometries)),v=new be(Ns.asList(f._geometries));return this.compare(p,v)}if(2===arguments.length){for(var I=arguments[1],$=arguments[0],oe=this.getNumGeometries(),Te=$.getNumGeometries(),Fe=0;Fe<oe&&Fe<Te;){var Qe=this.getGeometryN(Fe),ot=$.getGeometryN(Fe),ft=Qe.compareToSameClass(ot,I);if(0!==ft)return ft;Fe++}return Fe<oe?1:Fe<Te?-1:0}},a.prototype.apply=function(){if(Me(arguments[0],Qt))for(var f=arguments[0],p=0;p<this._geometries.length;p++)this._geometries[p].apply(f);else if(Me(arguments[0],Ji)){var v=arguments[0];if(0===this._geometries.length)return null;for(var E=0;E<this._geometries.length&&(this._geometries[E].apply(v),!v.isDone());E++);v.isGeometryChanged()&&this.geometryChanged()}else if(Me(arguments[0],Do)){var I=arguments[0];I.filter(this);for(var $=0;$<this._geometries.length;$++)this._geometries[$].apply(I)}else if(Me(arguments[0],Vt)){var oe=arguments[0];oe.filter(this);for(var Te=0;Te<this._geometries.length;Te++)this._geometries[Te].apply(oe)}},a.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),P.shouldNeverReachHere(),null},a.prototype.clone=function(){var f=o.prototype.clone.call(this);f._geometries=new Array(this._geometries.length).fill(null);for(var p=0;p<this._geometries.length;p++)f._geometries[p]=this._geometries[p].clone();return f},a.prototype.getGeometryType=function(){return"GeometryCollection"},a.prototype.copy=function(){for(var f=new Array(this._geometries.length).fill(null),p=0;p<f.length;p++)f[p]=this._geometries[p].copy();return new a(f,this._factory)},a.prototype.isEmpty=function(){for(var f=0;f<this._geometries.length;f++)if(!this._geometries[f].isEmpty())return!1;return!0},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},l.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(a,l),a}(tt),As=function(o){function a(){o.apply(this,arguments)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return tt.SORTINDEX_MULTILINESTRING},a.prototype.equalsExact=function(){if(2===arguments.length){var f=arguments[0],p=arguments[1];return!!this.isEquivalentClass(f)&&o.prototype.equalsExact.call(this,f,p)}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.getBoundaryDimension=function(){return this.isClosed()?sn.FALSE:0},a.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var f=0;f<this._geometries.length;f++)if(!this._geometries[f].isClosed())return!1;return!0},a.prototype.getDimension=function(){return 1},a.prototype.reverse=function(){for(var f=this._geometries.length,p=new Array(f).fill(null),v=0;v<this._geometries.length;v++)p[f-1-v]=this._geometries[v].reverse();return this.getFactory().createMultiLineString(p)},a.prototype.getBoundary=function(){return new Tr(this).getBoundary()},a.prototype.getGeometryType=function(){return"MultiLineString"},a.prototype.copy=function(){for(var f=new Array(this._geometries.length).fill(null),p=0;p<f.length;p++)f[p]=this._geometries[p].copy();return new a(f,this._factory)},a.prototype.interfaces_=function(){return[sa]},a.prototype.getClass=function(){return a},l.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(a,l),a}(ni),Tr=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var o=arguments[0],a=rn.MOD2_BOUNDARY_RULE;this._geom=o,this._geomFact=o.getFactory(),this._bnRule=a}else if(2===arguments.length){var l=arguments[0],f=arguments[1];this._geom=l,this._geomFact=l.getFactory(),this._bnRule=f}};Tr.prototype.boundaryMultiLineString=function(o){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var a=this.computeBoundaryCoordinates(o);return 1===a.length?this._geomFact.createPoint(a[0]):this._geomFact.createMultiPointFromCoords(a)},Tr.prototype.getBoundary=function(){return this._geom instanceof gr?this.boundaryLineString(this._geom):this._geom instanceof As?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Tr.prototype.boundaryLineString=function(o){return this._geom.isEmpty()?this.getEmptyMultiPoint():o.isClosed()?this._bnRule.isInBoundary(2)?o.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([o.getStartPoint(),o.getEndPoint()])},Tr.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Tr.prototype.computeBoundaryCoordinates=function(o){var a=new Je;this._endpointMap=new ge;for(var l=0;l<o.getNumGeometries();l++){var f=o.getGeometryN(l);0!==f.getNumPoints()&&(this.addEndpoint(f.getCoordinateN(0)),this.addEndpoint(f.getCoordinateN(f.getNumPoints()-1)))}for(var p=this._endpointMap.entrySet().iterator();p.hasNext();){var v=p.next(),E=v.getValue().count;this._bnRule.isInBoundary(E)&&a.add(v.getKey())}return Ut.toCoordinateArray(a)},Tr.prototype.addEndpoint=function(o){var a=this._endpointMap.get(o);null===a&&(a=new pu,this._endpointMap.put(o,a)),a.count++},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Tr.getBoundary=function(){return 1===arguments.length?new Tr(arguments[0]).getBoundary():2===arguments.length?new Tr(arguments[0],arguments[1]).getBoundary():void 0};var pu=function(){this.count=null};pu.prototype.interfaces_=function(){return[]},pu.prototype.getClass=function(){return pu};var Zn=function(){},Ps={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.chars=function(o,a){for(var l=new Array(a).fill(null),f=0;f<a;f++)l[f]=o;return String(l)},Zn.getStackTrace=function(){if(1===arguments.length){var o=arguments[0],a=new function(){},l=new function(){}(a);return o.printStackTrace(l),a.toString()}if(2===arguments.length){for(var p=arguments[1],v="",E=new function(){}(new function(){}(Zn.getStackTrace(arguments[0]))),I=0;I<p;I++)try{v+=E.readLine()+Zn.NEWLINE}catch($){if(!($ instanceof Ve))throw $;P.shouldNeverReachHere()}return v}},Zn.split=function(o,a){for(var l=a.length,f=new Je,p=""+o,v=p.indexOf(a);v>=0;){var E=p.substring(0,v);f.add(E),v=(p=p.substring(v+l)).indexOf(a)}p.length>0&&f.add(p);for(var I=new Array(f.size()).fill(null),$=0;$<I.length;$++)I[$]=f.get($);return I},Zn.toString=function(){if(1===arguments.length)return Zn.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},Zn.spaces=function(o){return Zn.chars(" ",o)},Ps.NEWLINE.get=function(){return Xe.getProperty("line.separator")},Ps.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Zn,Ps);var Un=function(){};Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un},Un.copyCoord=function(o,a,l,f){for(var p=Math.min(o.getDimension(),l.getDimension()),v=0;v<p;v++)l.setOrdinate(f,v,o.getOrdinate(a,v))},Un.isRing=function(o){var a=o.size();return 0===a||!(a<=3)&&o.getOrdinate(0,Le.X)===o.getOrdinate(a-1,Le.X)&&o.getOrdinate(0,Le.Y)===o.getOrdinate(a-1,Le.Y)},Un.isEqual=function(o,a){var l=o.size();if(l!==a.size())return!1;for(var f=Math.min(o.getDimension(),a.getDimension()),p=0;p<l;p++)for(var v=0;v<f;v++){var E=o.getOrdinate(p,v),I=a.getOrdinate(p,v);if(!(o.getOrdinate(p,v)===a.getOrdinate(p,v)||O.isNaN(E)&&O.isNaN(I)))return!1}return!0},Un.extend=function(o,a,l){var f=o.create(l,a.getDimension()),p=a.size();if(Un.copy(a,0,f,0,p),p>0)for(var v=p;v<l;v++)Un.copy(a,p-1,f,v,1);return f},Un.reverse=function(o){for(var a=o.size()-1,l=Math.trunc(a/2),f=0;f<=l;f++)Un.swap(o,f,a-f)},Un.swap=function(o,a,l){if(a===l)return null;for(var f=0;f<o.getDimension();f++){var p=o.getOrdinate(a,f);o.setOrdinate(a,f,o.getOrdinate(l,f)),o.setOrdinate(l,f,p)}},Un.copy=function(o,a,l,f,p){for(var v=0;v<p;v++)Un.copyCoord(o,a+v,l,f+v)},Un.toString=function(){if(1===arguments.length){var o=arguments[0],a=o.size();if(0===a)return"()";var l=o.getDimension(),f=new q;f.append("(");for(var p=0;p<a;p++){p>0&&f.append(" ");for(var v=0;v<l;v++)v>0&&f.append(","),f.append(Zn.toString(o.getOrdinate(p,v)))}return f.append(")"),f.toString()}},Un.ensureValidRing=function(o,a){var l=a.size();return 0===l?a:l<=3?Un.createClosedRing(o,a,4):a.getOrdinate(0,Le.X)===a.getOrdinate(l-1,Le.X)&&a.getOrdinate(0,Le.Y)===a.getOrdinate(l-1,Le.Y)?a:Un.createClosedRing(o,a,l+1)},Un.createClosedRing=function(o,a,l){var f=o.create(l,a.getDimension()),p=a.size();Un.copy(a,0,f,0,p);for(var v=p;v<l;v++)Un.copy(a,0,f,v,1);return f};var gr=function(o){function a(f,p){o.call(this,p),this._points=null,this.init(f)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Ze:this._points.expandEnvelope(new Ze)},a.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},a.prototype.getSortIndex=function(){return o.SORTINDEX_LINESTRING},a.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},a.prototype.equalsExact=function(){if(2===arguments.length){var f=arguments[0],p=arguments[1];if(!this.isEquivalentClass(f))return!1;var v=f;if(this._points.size()!==v._points.size())return!1;for(var E=0;E<this._points.size();E++)if(!this.equal(this._points.getCoordinate(E),v._points.getCoordinate(E),p))return!1;return!0}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){for(var f=0;f<Math.trunc(this._points.size()/2);f++){var p=this._points.size()-1-f;if(!this._points.getCoordinate(f).equals(this._points.getCoordinate(p)))return this._points.getCoordinate(f).compareTo(this._points.getCoordinate(p))>0&&Un.reverse(this._points),null}},a.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},a.prototype.getBoundaryDimension=function(){return this.isClosed()?sn.FALSE:0},a.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},a.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},a.prototype.getDimension=function(){return 1},a.prototype.getLength=function(){return ke.computeLength(this._points)},a.prototype.getNumPoints=function(){return this._points.size()},a.prototype.reverse=function(){var f=this._points.copy();return Un.reverse(f),this.getFactory().createLineString(f)},a.prototype.compareToSameClass=function(){if(1===arguments.length){for(var f=arguments[0],p=0,v=0;p<this._points.size()&&v<f._points.size();){var E=this._points.getCoordinate(p).compareTo(f._points.getCoordinate(v));if(0!==E)return E;p++,v++}return p<this._points.size()?1:v<f._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},a.prototype.apply=function(){if(Me(arguments[0],Qt))for(var f=arguments[0],p=0;p<this._points.size();p++)f.filter(this._points.getCoordinate(p));else if(Me(arguments[0],Ji)){var v=arguments[0];if(0===this._points.size())return null;for(var E=0;E<this._points.size()&&(v.filter(this._points,E),!v.isDone());E++);v.isGeometryChanged()&&this.geometryChanged()}else(Me(arguments[0],Do)||Me(arguments[0],Vt))&&arguments[0].filter(this)},a.prototype.getBoundary=function(){return new Tr(this).getBoundary()},a.prototype.isEquivalentClass=function(f){return f instanceof a},a.prototype.clone=function(){var f=o.prototype.clone.call(this);return f._points=this._points.clone(),f},a.prototype.getCoordinateN=function(f){return this._points.getCoordinate(f)},a.prototype.getGeometryType=function(){return"LineString"},a.prototype.copy=function(){return new a(this._points.copy(),this._factory)},a.prototype.getCoordinateSequence=function(){return this._points},a.prototype.isEmpty=function(){return 0===this._points.size()},a.prototype.init=function(f){if(null===f&&(f=this.getFactory().getCoordinateSequenceFactory().create([])),1===f.size())throw new T("Invalid number of points in LineString (found "+f.size()+" - must be 0 or >= 2)");this._points=f},a.prototype.isCoordinate=function(f){for(var p=0;p<this._points.size();p++)if(this._points.getCoordinate(p).equals(f))return!0;return!1},a.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},a.prototype.getPointN=function(f){return this.getFactory().createPoint(this._points.getCoordinate(f))},a.prototype.interfaces_=function(){return[sa]},a.prototype.getClass=function(){return a},l.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(a,l),a}(tt),Ra=function(){};Ra.prototype.interfaces_=function(){return[]},Ra.prototype.getClass=function(){return Ra};var Si=function(o){function a(f,p){o.call(this,p),this._coordinates=f||null,this.init(this._coordinates)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Ze;var f=new Ze;return f.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),f},a.prototype.getSortIndex=function(){return o.SORTINDEX_POINT},a.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},a.prototype.equalsExact=function(){if(2===arguments.length){var f=arguments[0],p=arguments[1];return!!this.isEquivalentClass(f)&&(!(!this.isEmpty()||!f.isEmpty())||this.isEmpty()===f.isEmpty()&&this.equal(f.getCoordinate(),this.getCoordinate(),p))}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){},a.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},a.prototype.getBoundaryDimension=function(){return sn.FALSE},a.prototype.getDimension=function(){return 0},a.prototype.getNumPoints=function(){return this.isEmpty()?0:1},a.prototype.reverse=function(){return this.copy()},a.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},a.prototype.compareToSameClass=function(){if(1===arguments.length){var f=arguments[0];return this.getCoordinate().compareTo(f.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},a.prototype.apply=function(){if(Me(arguments[0],Qt)){var f=arguments[0];if(this.isEmpty())return null;f.filter(this.getCoordinate())}else if(Me(arguments[0],Ji)){var p=arguments[0];if(this.isEmpty())return null;p.filter(this._coordinates,0),p.isGeometryChanged()&&this.geometryChanged()}else(Me(arguments[0],Do)||Me(arguments[0],Vt))&&arguments[0].filter(this)},a.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},a.prototype.clone=function(){var f=o.prototype.clone.call(this);return f._coordinates=this._coordinates.clone(),f},a.prototype.getGeometryType=function(){return"Point"},a.prototype.copy=function(){return new a(this._coordinates.copy(),this._factory)},a.prototype.getCoordinateSequence=function(){return this._coordinates},a.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},a.prototype.isEmpty=function(){return 0===this._coordinates.size()},a.prototype.init=function(f){null===f&&(f=this.getFactory().getCoordinateSequenceFactory().create([])),P.isTrue(f.size()<=1),this._coordinates=f},a.prototype.isSimple=function(){return!0},a.prototype.interfaces_=function(){return[Ra]},a.prototype.getClass=function(){return a},l.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(a,l),a}(tt),Io=function(){};Io.prototype.interfaces_=function(){return[]},Io.prototype.getClass=function(){return Io};var rr=function(o){function a(f,p,v){if(o.call(this,v),this._shell=null,this._holes=null,null===f&&(f=this.getFactory().createLinearRing()),null===p&&(p=[]),o.hasNullElements(p))throw new T("holes must not contain null elements");if(f.isEmpty()&&o.hasNonEmptyElements(p))throw new T("shell is empty but holes are not");this._shell=f,this._holes=p}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={serialVersionUID:{configurable:!0}};return a.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},a.prototype.getSortIndex=function(){return o.SORTINDEX_POLYGON},a.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var f=new Array(this.getNumPoints()).fill(null),p=-1,v=this._shell.getCoordinates(),E=0;E<v.length;E++)f[++p]=v[E];for(var I=0;I<this._holes.length;I++)for(var $=this._holes[I].getCoordinates(),oe=0;oe<$.length;oe++)f[++p]=$[oe];return f},a.prototype.getArea=function(){var f=0;f+=Math.abs(ke.signedArea(this._shell.getCoordinateSequence()));for(var p=0;p<this._holes.length;p++)f-=Math.abs(ke.signedArea(this._holes[p].getCoordinateSequence()));return f},a.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing()||null===this._shell||5!==this._shell.getNumPoints())return!1;for(var f=this._shell.getCoordinateSequence(),p=this.getEnvelopeInternal(),v=0;v<5;v++){var E=f.getX(v);if(E!==p.getMinX()&&E!==p.getMaxX())return!1;var I=f.getY(v);if(I!==p.getMinY()&&I!==p.getMaxY())return!1}for(var $=f.getX(0),oe=f.getY(0),Te=1;Te<=4;Te++){var Fe=f.getX(Te),Qe=f.getY(Te);if(Fe!==$==(Qe!==oe))return!1;$=Fe,oe=Qe}return!0},a.prototype.equalsExact=function(){if(2===arguments.length){var f=arguments[0],p=arguments[1];if(!this.isEquivalentClass(f))return!1;var v=f;if(!this._shell.equalsExact(v._shell,p)||this._holes.length!==v._holes.length)return!1;for(var $=0;$<this._holes.length;$++)if(!this._holes[$].equalsExact(v._holes[$],p))return!1;return!0}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var f=0;f<this._holes.length;f++)this.normalize(this._holes[f],!1);Ns.sort(this._holes)}else if(2===arguments.length){var p=arguments[0],v=arguments[1];if(p.isEmpty())return null;var E=new Array(p.getCoordinates().length-1).fill(null);Xe.arraycopy(p.getCoordinates(),0,E,0,E.length);var I=Ut.minCoordinate(p.getCoordinates());Ut.scroll(E,I),Xe.arraycopy(E,0,p.getCoordinates(),0,E.length),p.getCoordinates()[E.length]=E[0],ke.isCCW(p.getCoordinates())===v&&Ut.reverse(p.getCoordinates())}},a.prototype.getCoordinate=function(){return this._shell.getCoordinate()},a.prototype.getNumInteriorRing=function(){return this._holes.length},a.prototype.getBoundaryDimension=function(){return 1},a.prototype.getDimension=function(){return 2},a.prototype.getLength=function(){var f=0;f+=this._shell.getLength();for(var p=0;p<this._holes.length;p++)f+=this._holes[p].getLength();return f},a.prototype.getNumPoints=function(){for(var f=this._shell.getNumPoints(),p=0;p<this._holes.length;p++)f+=this._holes[p].getNumPoints();return f},a.prototype.reverse=function(){var f=this.copy();f._shell=this._shell.copy().reverse(),f._holes=new Array(this._holes.length).fill(null);for(var p=0;p<this._holes.length;p++)f._holes[p]=this._holes[p].copy().reverse();return f},a.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},a.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var I=arguments[1],$=arguments[0],Fe=this._shell.compareToSameClass($._shell,I);if(0!==Fe)return Fe;for(var Qe=this.getNumInteriorRing(),ot=$.getNumInteriorRing(),ft=0;ft<Qe&&ft<ot;){var It=this.getInteriorRingN(ft),jn=$.getInteriorRingN(ft),Ur=It.compareToSameClass(jn,I);if(0!==Ur)return Ur;ft++}return ft<Qe?1:ft<ot?-1:0}},a.prototype.apply=function(f){if(Me(f,Qt)){this._shell.apply(f);for(var p=0;p<this._holes.length;p++)this._holes[p].apply(f)}else if(Me(f,Ji)){if(this._shell.apply(f),!f.isDone())for(var v=0;v<this._holes.length&&(this._holes[v].apply(f),!f.isDone());v++);f.isGeometryChanged()&&this.geometryChanged()}else if(Me(f,Do))f.filter(this);else if(Me(f,Vt)){f.filter(this),this._shell.apply(f);for(var E=0;E<this._holes.length;E++)this._holes[E].apply(f)}},a.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var f=new Array(this._holes.length+1).fill(null);f[0]=this._shell;for(var p=0;p<this._holes.length;p++)f[p+1]=this._holes[p];return f.length<=1?this.getFactory().createLinearRing(f[0].getCoordinateSequence()):this.getFactory().createMultiLineString(f)},a.prototype.clone=function(){var f=o.prototype.clone.call(this);f._shell=this._shell.clone(),f._holes=new Array(this._holes.length).fill(null);for(var p=0;p<this._holes.length;p++)f._holes[p]=this._holes[p].clone();return f},a.prototype.getGeometryType=function(){return"Polygon"},a.prototype.copy=function(){for(var f=this._shell.copy(),p=new Array(this._holes.length).fill(null),v=0;v<p.length;v++)p[v]=this._holes[v].copy();return new a(f,p,this._factory)},a.prototype.getExteriorRing=function(){return this._shell},a.prototype.isEmpty=function(){return this._shell.isEmpty()},a.prototype.getInteriorRingN=function(f){return this._holes[f]},a.prototype.interfaces_=function(){return[Io]},a.prototype.getClass=function(){return a},l.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(a,l),a}(tt),Uo=function(o){function a(){o.apply(this,arguments)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return tt.SORTINDEX_MULTIPOINT},a.prototype.isValid=function(){return!0},a.prototype.equalsExact=function(){if(2===arguments.length){var f=arguments[0],p=arguments[1];return!!this.isEquivalentClass(f)&&o.prototype.equalsExact.call(this,f,p)}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():o.prototype.getCoordinate.apply(this,arguments)},a.prototype.getBoundaryDimension=function(){return sn.FALSE},a.prototype.getDimension=function(){return 0},a.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},a.prototype.getGeometryType=function(){return"MultiPoint"},a.prototype.copy=function(){for(var f=new Array(this._geometries.length).fill(null),p=0;p<f.length;p++)f[p]=this._geometries[p].copy();return new a(f,this._factory)},a.prototype.interfaces_=function(){return[Ra]},a.prototype.getClass=function(){return a},l.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(a,l),a}(ni),xi=function(o){function a(f,p){f instanceof C&&p instanceof Ne&&(f=p.getCoordinateSequenceFactory().create(f)),o.call(this,f,p),this.validateConstruction()}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return tt.SORTINDEX_LINEARRING},a.prototype.getBoundaryDimension=function(){return sn.FALSE},a.prototype.isClosed=function(){return!!this.isEmpty()||o.prototype.isClosed.call(this)},a.prototype.reverse=function(){var f=this._points.copy();return Un.reverse(f),this.getFactory().createLinearRing(f)},a.prototype.validateConstruction=function(){if(!this.isEmpty()&&!o.prototype.isClosed.call(this))throw new T("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<a.MINIMUM_VALID_SIZE)throw new T("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},a.prototype.getGeometryType=function(){return"LinearRing"},a.prototype.copy=function(){return new a(this._points.copy(),this._factory)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},l.MINIMUM_VALID_SIZE.get=function(){return 4},l.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(a,l),a}(gr),So=function(o){function a(){o.apply(this,arguments)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={serialVersionUID:{configurable:!0}};return a.prototype.getSortIndex=function(){return tt.SORTINDEX_MULTIPOLYGON},a.prototype.equalsExact=function(){if(2===arguments.length){var f=arguments[0],p=arguments[1];return!!this.isEquivalentClass(f)&&o.prototype.equalsExact.call(this,f,p)}return o.prototype.equalsExact.apply(this,arguments)},a.prototype.getBoundaryDimension=function(){return 1},a.prototype.getDimension=function(){return 2},a.prototype.reverse=function(){for(var p=new Array(this._geometries.length).fill(null),v=0;v<this._geometries.length;v++)p[v]=this._geometries[v].reverse();return this.getFactory().createMultiPolygon(p)},a.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var f=new Je,p=0;p<this._geometries.length;p++)for(var v=this._geometries[p].getBoundary(),E=0;E<v.getNumGeometries();E++)f.add(v.getGeometryN(E));var I=new Array(f.size()).fill(null);return this.getFactory().createMultiLineString(f.toArray(I))},a.prototype.getGeometryType=function(){return"MultiPolygon"},a.prototype.copy=function(){for(var f=new Array(this._geometries.length).fill(null),p=0;p<f.length;p++)f[p]=this._geometries[p].copy();return new a(f,this._factory)},a.prototype.interfaces_=function(){return[Io]},a.prototype.getClass=function(){return a},l.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(a,l),a}(ni),ri=function(o){this._factory=o||null,this._isUserDataCopied=!1},aa={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ri.prototype.setCopyUserData=function(o){this._isUserDataCopied=o},ri.prototype.edit=function(o,a){if(null===o)return null;var l=this.editInternal(o,a);return this._isUserDataCopied&&l.setUserData(o.getUserData()),l},ri.prototype.editInternal=function(o,a){return null===this._factory&&(this._factory=o.getFactory()),o instanceof ni?this.editGeometryCollection(o,a):o instanceof rr?this.editPolygon(o,a):o instanceof Si||o instanceof gr?a.edit(o,this._factory):(P.shouldNeverReachHere("Unsupported Geometry class: "+o.getClass().getName()),null)},ri.prototype.editGeometryCollection=function(o,a){for(var l=a.edit(o,this._factory),f=new Je,p=0;p<l.getNumGeometries();p++){var v=this.edit(l.getGeometryN(p),a);null===v||v.isEmpty()||f.add(v)}return l.getClass()===Uo?this._factory.createMultiPoint(f.toArray([])):l.getClass()===As?this._factory.createMultiLineString(f.toArray([])):l.getClass()===So?this._factory.createMultiPolygon(f.toArray([])):this._factory.createGeometryCollection(f.toArray([]))},ri.prototype.editPolygon=function(o,a){var l=a.edit(o,this._factory);if(null===l&&(l=this._factory.createPolygon(null)),l.isEmpty())return l;var f=this.edit(l.getExteriorRing(),a);if(null===f||f.isEmpty())return this._factory.createPolygon();for(var p=new Je,v=0;v<l.getNumInteriorRing();v++){var E=this.edit(l.getInteriorRingN(v),a);null===E||E.isEmpty()||p.add(E)}return this._factory.createPolygon(f,p.toArray([]))},ri.prototype.interfaces_=function(){return[]},ri.prototype.getClass=function(){return ri},ri.GeometryEditorOperation=function(){},aa.NoOpGeometryOperation.get=function(){return Oa},aa.CoordinateOperation.get=function(){return La},aa.CoordinateSequenceOperation.get=function(){return $s},Object.defineProperties(ri,aa);var Oa=function(){};Oa.prototype.edit=function(o,a){return o},Oa.prototype.interfaces_=function(){return[ri.GeometryEditorOperation]},Oa.prototype.getClass=function(){return Oa};var La=function(){};La.prototype.edit=function(o,a){var l=this.editCoordinates(o.getCoordinates(),o);return null===l?o:o instanceof xi?a.createLinearRing(l):o instanceof gr?a.createLineString(l):o instanceof Si?l.length>0?a.createPoint(l[0]):a.createPoint():o},La.prototype.interfaces_=function(){return[ri.GeometryEditorOperation]},La.prototype.getClass=function(){return La};var $s=function(){};$s.prototype.edit=function(o,a){return o instanceof xi?a.createLinearRing(this.edit(o.getCoordinateSequence(),o)):o instanceof gr?a.createLineString(this.edit(o.getCoordinateSequence(),o)):o instanceof Si?a.createPoint(this.edit(o.getCoordinateSequence(),o)):o},$s.prototype.interfaces_=function(){return[ri.GeometryEditorOperation]},$s.prototype.getClass=function(){return $s};var hr=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var o=arguments[0];this._coordinates=new Array(o).fill(null);for(var a=0;a<o;a++)this._coordinates[a]=new C}else if(Me(arguments[0],Le)){var l=arguments[0];if(null===l)return this._coordinates=new Array(0).fill(null),null;this._dimension=l.getDimension(),this._coordinates=new Array(l.size()).fill(null);for(var f=0;f<this._coordinates.length;f++)this._coordinates[f]=l.getCoordinateCopy(f)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var p=arguments[0],v=arguments[1];this._coordinates=p,this._dimension=v,null===p&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var E=arguments[0],I=arguments[1];this._coordinates=new Array(E).fill(null),this._dimension=I;for(var $=0;$<E;$++)this._coordinates[$]=new C}},yl={serialVersionUID:{configurable:!0}};hr.prototype.setOrdinate=function(o,a,l){switch(a){case Le.X:this._coordinates[o].x=l;break;case Le.Y:this._coordinates[o].y=l;break;case Le.Z:this._coordinates[o].z=l;break;default:throw new T("invalid ordinateIndex")}},hr.prototype.size=function(){return this._coordinates.length},hr.prototype.getOrdinate=function(o,a){switch(a){case Le.X:return this._coordinates[o].x;case Le.Y:return this._coordinates[o].y;case Le.Z:return this._coordinates[o].z}return O.NaN},hr.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var a=arguments[0],l=arguments[1];l.x=this._coordinates[a].x,l.y=this._coordinates[a].y,l.z=this._coordinates[a].z}},hr.prototype.getCoordinateCopy=function(o){return new C(this._coordinates[o])},hr.prototype.getDimension=function(){return this._dimension},hr.prototype.getX=function(o){return this._coordinates[o].x},hr.prototype.clone=function(){for(var o=new Array(this.size()).fill(null),a=0;a<this._coordinates.length;a++)o[a]=this._coordinates[a].clone();return new hr(o,this._dimension)},hr.prototype.expandEnvelope=function(o){for(var a=0;a<this._coordinates.length;a++)o.expandToInclude(this._coordinates[a]);return o},hr.prototype.copy=function(){for(var o=new Array(this.size()).fill(null),a=0;a<this._coordinates.length;a++)o[a]=this._coordinates[a].copy();return new hr(o,this._dimension)},hr.prototype.toString=function(){if(this._coordinates.length>0){var o=new q(17*this._coordinates.length);o.append("("),o.append(this._coordinates[0]);for(var a=1;a<this._coordinates.length;a++)o.append(", "),o.append(this._coordinates[a]);return o.append(")"),o.toString()}return"()"},hr.prototype.getY=function(o){return this._coordinates[o].y},hr.prototype.toCoordinateArray=function(){return this._coordinates},hr.prototype.interfaces_=function(){return[Le,H]},hr.prototype.getClass=function(){return hr},yl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(hr,yl);var G=function(){},ce={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};G.prototype.readResolve=function(){return G.instance()},G.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new hr(arguments[0]);if(Me(arguments[0],Le))return new hr(arguments[0])}else if(2===arguments.length){var l=arguments[0],f=arguments[1];return f>3&&(f=3),f<2?new hr(l):new hr(l,f)}},G.prototype.interfaces_=function(){return[te,H]},G.prototype.getClass=function(){return G},G.instance=function(){return G.instanceObject},ce.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},ce.instanceObject.get=function(){return new G},Object.defineProperties(G,ce);var K=function(o){function a(){o.call(this),this.map_=new Map}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.get=function(l){return this.map_.get(l)||null},a.prototype.put=function(l,f){return this.map_.set(l,f),f},a.prototype.values=function(){for(var l=new Je,f=this.map_.values(),p=f.next();!p.done;)l.add(p.value),p=f.next();return l},a.prototype.entrySet=function(){var l=new du;return this.map_.entries().forEach(function(f){return l.add(f)}),l},a.prototype.size=function(){return this.map_.size()},a}(Ms),ye=function o(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=o.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof pe){var a=arguments[0];this._modelType=a,a===o.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var l=arguments[0];this._modelType=o.FIXED,this.setScale(l)}else if(arguments[0]instanceof o){var f=arguments[0];this._modelType=f._modelType,this._scale=f._scale}},xe={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};ye.prototype.equals=function(o){return o instanceof ye&&this._modelType===o._modelType&&this._scale===o._scale},ye.prototype.compareTo=function(o){var a=o,l=this.getMaximumSignificantDigits(),f=a.getMaximumSignificantDigits();return new de(l).compareTo(new de(f))},ye.prototype.getScale=function(){return this._scale},ye.prototype.isFloating=function(){return this._modelType===ye.FLOATING||this._modelType===ye.FLOATING_SINGLE},ye.prototype.getType=function(){return this._modelType},ye.prototype.toString=function(){var o="UNKNOWN";return this._modelType===ye.FLOATING?o="Floating":this._modelType===ye.FLOATING_SINGLE?o="Floating-Single":this._modelType===ye.FIXED&&(o="Fixed (Scale="+this.getScale()+")"),o},ye.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var o=arguments[0];return O.isNaN(o)||this._modelType===ye.FLOATING_SINGLE?o:this._modelType===ye.FIXED?Math.round(o*this._scale)/this._scale:o}if(arguments[0]instanceof C){var a=arguments[0];if(this._modelType===ye.FLOATING)return null;a.x=this.makePrecise(a.x),a.y=this.makePrecise(a.y)}},ye.prototype.getMaximumSignificantDigits=function(){var o=16;return this._modelType===ye.FLOATING?o=16:this._modelType===ye.FLOATING_SINGLE?o=6:this._modelType===ye.FIXED&&(o=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),o},ye.prototype.setScale=function(o){this._scale=Math.abs(o)},ye.prototype.interfaces_=function(){return[H,S]},ye.prototype.getClass=function(){return ye},ye.mostPrecise=function(o,a){return o.compareTo(a)>=0?o:a},xe.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},xe.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(ye,xe);var pe=function o(a){this._name=a||null,o.nameToTypeMap.put(a,this)},je={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};pe.prototype.readResolve=function(){return pe.nameToTypeMap.get(this._name)},pe.prototype.toString=function(){return this._name},pe.prototype.interfaces_=function(){return[H]},pe.prototype.getClass=function(){return pe},je.serialVersionUID.get=function(){return-552860263173159e4},je.nameToTypeMap.get=function(){return new K},Object.defineProperties(pe,je),ye.Type=pe,ye.FIXED=new pe("FIXED"),ye.FLOATING=new pe("FLOATING"),ye.FLOATING_SINGLE=new pe("FLOATING SINGLE");var Ne=function o(){this._precisionModel=new ye,this._SRID=0,this._coordinateSequenceFactory=o.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Me(arguments[0],te)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof ye&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},nt={serialVersionUID:{configurable:!0}};Ne.prototype.toGeometry=function(o){return o.isNull()?this.createPoint(null):o.getMinX()===o.getMaxX()&&o.getMinY()===o.getMaxY()?this.createPoint(new C(o.getMinX(),o.getMinY())):o.getMinX()===o.getMaxX()||o.getMinY()===o.getMaxY()?this.createLineString([new C(o.getMinX(),o.getMinY()),new C(o.getMaxX(),o.getMaxY())]):this.createPolygon(this.createLinearRing([new C(o.getMinX(),o.getMinY()),new C(o.getMinX(),o.getMaxY()),new C(o.getMaxX(),o.getMaxY()),new C(o.getMaxX(),o.getMinY()),new C(o.getMinX(),o.getMinY())]),null)},Ne.prototype.createLineString=function(o){return o?o instanceof Array?new gr(this.getCoordinateSequenceFactory().create(o),this):Me(o,Le)?new gr(o,this):void 0:new gr(this.getCoordinateSequenceFactory().create([]),this)},Ne.prototype.createMultiLineString=function(){return 0===arguments.length?new As(null,this):1===arguments.length?new As(arguments[0],this):void 0},Ne.prototype.buildGeometry=function(o){for(var a=null,l=!1,f=!1,p=o.iterator();p.hasNext();){var v=p.next(),E=v.getClass();null===a&&(a=E),E!==a&&(l=!0),v.isGeometryCollectionOrDerived()&&(f=!0)}if(null===a)return this.createGeometryCollection();if(l||f)return this.createGeometryCollection(Ne.toGeometryArray(o));var I=o.iterator().next();if(o.size()>1){if(I instanceof rr)return this.createMultiPolygon(Ne.toPolygonArray(o));if(I instanceof gr)return this.createMultiLineString(Ne.toLineStringArray(o));if(I instanceof Si)return this.createMultiPoint(Ne.toPointArray(o));P.shouldNeverReachHere("Unhandled class: "+I.getClass().getName())}return I},Ne.prototype.createMultiPointFromCoords=function(o){return this.createMultiPoint(null!==o?this.getCoordinateSequenceFactory().create(o):null)},Ne.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof C){var o=arguments[0];return this.createPoint(null!==o?this.getCoordinateSequenceFactory().create([o]):null)}if(Me(arguments[0],Le))return new Si(arguments[0],this)}},Ne.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Ne.prototype.createPolygon=function(){if(0===arguments.length)return new rr(null,null,this);if(1===arguments.length){if(Me(arguments[0],Le))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof xi)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new rr(arguments[0],arguments[1],this)},Ne.prototype.getSRID=function(){return this._SRID},Ne.prototype.createGeometryCollection=function(){return 0===arguments.length?new ni(null,this):1===arguments.length?new ni(arguments[0],this):void 0},Ne.prototype.createGeometry=function(o){return new ri(this).edit(o,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Ne.prototype.getPrecisionModel=function(){return this._precisionModel},Ne.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var o=arguments[0];return this.createLinearRing(null!==o?this.getCoordinateSequenceFactory().create(o):null)}if(Me(arguments[0],Le))return new xi(arguments[0],this)}},Ne.prototype.createMultiPolygon=function(){return 0===arguments.length?new So(null,this):1===arguments.length?new So(arguments[0],this):void 0},Ne.prototype.createMultiPoint=function(){if(0===arguments.length)return new Uo(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Uo(arguments[0],this);if(arguments[0]instanceof Array){var a=arguments[0];return this.createMultiPoint(null!==a?this.getCoordinateSequenceFactory().create(a):null)}if(Me(arguments[0],Le)){var l=arguments[0];if(null===l)return this.createMultiPoint(new Array(0).fill(null));for(var f=new Array(l.size()).fill(null),p=0;p<l.size();p++){var v=this.getCoordinateSequenceFactory().create(1,l.getDimension());Un.copy(l,p,v,0,1),f[p]=this.createPoint(v)}return this.createMultiPoint(f)}}},Ne.prototype.interfaces_=function(){return[H]},Ne.prototype.getClass=function(){return Ne},Ne.toMultiPolygonArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toGeometryArray=function(o){if(null===o)return null;var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.getDefaultCoordinateSequenceFactory=function(){return G.instance()},Ne.toMultiLineStringArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toLineStringArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toMultiPointArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toLinearRingArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toPointArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.toPolygonArray=function(o){var a=new Array(o.size()).fill(null);return o.toArray(a)},Ne.createPointFromInternalCoord=function(o,a){return a.getPrecisionModel().makePrecise(o),a.getFactory().createPoint(o)},nt.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Ne,nt);var it=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],We=function(o){this.geometryFactory=o||new Ne};We.prototype.read=function(o){var a,l=(a="string"==typeof o?JSON.parse(o):o).type;if(!ze[l])throw new Error("Unknown GeoJSON type: "+a.type);return-1!==it.indexOf(l)?ze[l].apply(this,[a.coordinates]):ze[l].apply(this,"GeometryCollection"===l?[a.geometries]:[a])},We.prototype.write=function(o){var a=o.getGeometryType();if(!Gt[a])throw new Error("Geometry is not supported");return Gt[a].apply(this,[o])};var ze={Feature:function(o){var a={};for(var l in o)a[l]=o[l];if(o.geometry){if(!ze[o.geometry.type])throw new Error("Unknown GeoJSON type: "+o.type);a.geometry=this.read(o.geometry)}return o.bbox&&(a.bbox=ze.bbox.apply(this,[o.bbox])),a},FeatureCollection:function(o){var a={};if(o.features){a.features=[];for(var l=0;l<o.features.length;++l)a.features.push(this.read(o.features[l]))}return o.bbox&&(a.bbox=this.parse.bbox.apply(this,[o.bbox])),a},coordinates:function(o){for(var a=[],l=0;l<o.length;++l){var f=o[l];a.push(new C(f[0],f[1]))}return a},bbox:function(o){return this.geometryFactory.createLinearRing([new C(o[0],o[1]),new C(o[2],o[1]),new C(o[2],o[3]),new C(o[0],o[3]),new C(o[0],o[1])])},Point:function(o){var a=new C(o[0],o[1]);return this.geometryFactory.createPoint(a)},MultiPoint:function(o){for(var a=[],l=0;l<o.length;++l)a.push(ze.Point.apply(this,[o[l]]));return this.geometryFactory.createMultiPoint(a)},LineString:function(o){var a=ze.coordinates.apply(this,[o]);return this.geometryFactory.createLineString(a)},MultiLineString:function(o){for(var a=[],l=0;l<o.length;++l)a.push(ze.LineString.apply(this,[o[l]]));return this.geometryFactory.createMultiLineString(a)},Polygon:function(o){for(var a=ze.coordinates.apply(this,[o[0]]),l=this.geometryFactory.createLinearRing(a),f=[],p=1;p<o.length;++p){var E=ze.coordinates.apply(this,[o[p]]),I=this.geometryFactory.createLinearRing(E);f.push(I)}return this.geometryFactory.createPolygon(l,f)},MultiPolygon:function(o){for(var a=[],l=0;l<o.length;++l)a.push(ze.Polygon.apply(this,[o[l]]));return this.geometryFactory.createMultiPolygon(a)},GeometryCollection:function(o){for(var a=[],l=0;l<o.length;++l)a.push(this.read(o[l]));return this.geometryFactory.createGeometryCollection(a)}},Gt={coordinate:function(o){return[o.x,o.y]},Point:function(o){return{type:"Point",coordinates:Gt.coordinate.apply(this,[o.getCoordinate()])}},MultiPoint:function(o){for(var a=[],l=0;l<o._geometries.length;++l){var p=Gt.Point.apply(this,[o._geometries[l]]);a.push(p.coordinates)}return{type:"MultiPoint",coordinates:a}},LineString:function(o){for(var a=[],l=o.getCoordinates(),f=0;f<l.length;++f)a.push(Gt.coordinate.apply(this,[l[f]]));return{type:"LineString",coordinates:a}},MultiLineString:function(o){for(var a=[],l=0;l<o._geometries.length;++l){var p=Gt.LineString.apply(this,[o._geometries[l]]);a.push(p.coordinates)}return{type:"MultiLineString",coordinates:a}},Polygon:function(o){var a=[],l=Gt.LineString.apply(this,[o._shell]);a.push(l.coordinates);for(var f=0;f<o._holes.length;++f){var v=Gt.LineString.apply(this,[o._holes[f]]);a.push(v.coordinates)}return{type:"Polygon",coordinates:a}},MultiPolygon:function(o){for(var a=[],l=0;l<o._geometries.length;++l){var p=Gt.Polygon.apply(this,[o._geometries[l]]);a.push(p.coordinates)}return{type:"MultiPolygon",coordinates:a}},GeometryCollection:function(o){for(var a=[],l=0;l<o._geometries.length;++l){var f=o._geometries[l],p=f.getGeometryType();a.push(Gt[p].apply(this,[f]))}return{type:"GeometryCollection",geometries:a}}},qn=function(o){this.geometryFactory=o||new Ne,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new We(this.geometryFactory)};qn.prototype.read=function(o){var a=this.parser.read(o);return this.precisionModel.getType()===ye.FIXED&&this.reducePrecision(a),a},qn.prototype.reducePrecision=function(o){var a,l;if(o.coordinate)this.precisionModel.makePrecise(o.coordinate);else if(o.points)for(a=0,l=o.points.length;a<l;a++)this.precisionModel.makePrecise(o.points[a]);else if(o.geometries)for(a=0,l=o.geometries.length;a<l;a++)this.reducePrecision(o.geometries[a])};var Ye=function(){this.parser=new We(this.geometryFactory)};Ye.prototype.write=function(o){return this.parser.write(o)};var Ue=function(){},yt={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Ue.prototype.interfaces_=function(){return[]},Ue.prototype.getClass=function(){return Ue},Ue.opposite=function(o){return o===Ue.LEFT?Ue.RIGHT:o===Ue.RIGHT?Ue.LEFT:o},yt.ON.get=function(){return 0},yt.LEFT.get=function(){return 1},yt.RIGHT.get=function(){return 2},Object.defineProperties(Ue,yt),(R.prototype=new Error).name="EmptyStackException",(j.prototype=new nr).add=function(o){return this.array_.push(o),!0},j.prototype.get=function(o){if(o<0||o>=this.size())throw new Error;return this.array_[o]},j.prototype.push=function(o){return this.array_.push(o),o},j.prototype.pop=function(o){if(0===this.array_.length)throw new R;return this.array_.pop()},j.prototype.peek=function(){if(0===this.array_.length)throw new R;return this.array_[this.array_.length-1]},j.prototype.empty=function(){return 0===this.array_.length},j.prototype.isEmpty=function(){return this.empty()},j.prototype.search=function(o){return this.array_.indexOf(o)},j.prototype.size=function(){return this.array_.length},j.prototype.toArray=function(){for(var o=[],a=0,l=this.array_.length;a<l;a++)o.push(this.array_[a]);return o};var Rt=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Rt.prototype.getCoordinate=function(){return this._minCoord},Rt.prototype.getRightmostSide=function(o,a){var l=this.getRightmostSideOfSegment(o,a);return l<0&&(l=this.getRightmostSideOfSegment(o,a-1)),l<0&&(this._minCoord=null,this.checkForRightmostCoordinate(o)),l},Rt.prototype.findRightmostEdgeAtVertex=function(){var o=this._minDe.getEdge().getCoordinates();P.isTrue(this._minIndex>0&&this._minIndex<o.length,"rightmost point expected to be interior vertex of edge");var a=o[this._minIndex-1],l=o[this._minIndex+1],f=ke.computeOrientation(this._minCoord,l,a),p=!1;(a.y<this._minCoord.y&&l.y<this._minCoord.y&&f===ke.COUNTERCLOCKWISE||a.y>this._minCoord.y&&l.y>this._minCoord.y&&f===ke.CLOCKWISE)&&(p=!0),p&&(this._minIndex=this._minIndex-1)},Rt.prototype.getRightmostSideOfSegment=function(o,a){var l=o.getEdge().getCoordinates();if(a<0||a+1>=l.length||l[a].y===l[a+1].y)return-1;var f=Ue.LEFT;return l[a].y<l[a+1].y&&(f=Ue.RIGHT),f},Rt.prototype.getEdge=function(){return this._orientedDe},Rt.prototype.checkForRightmostCoordinate=function(o){for(var a=o.getEdge().getCoordinates(),l=0;l<a.length-1;l++)(null===this._minCoord||a[l].x>this._minCoord.x)&&(this._minDe=o,this._minIndex=l,this._minCoord=a[l])},Rt.prototype.findRightmostEdgeAtNode=function(){var o=this._minDe.getNode().getEdges();this._minDe=o.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Rt.prototype.findEdge=function(o){for(var a=o.iterator();a.hasNext();){var l=a.next();l.isForward()&&this.checkForRightmostCoordinate(l)}P.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ue.LEFT&&(this._orientedDe=this._minDe.getSym())},Rt.prototype.interfaces_=function(){return[]},Rt.prototype.getClass=function(){return Rt};var Ki=function(o){function a(l,f){o.call(this,a.msgWithCoord(l,f)),this.pt=f?new C(f):null,this.name="TopologyException"}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.getCoordinate=function(){return this.pt},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.msgWithCoord=function(l,f){return f?l:l+" [ "+f+" ]"},a}(B),Fa=function(){this.array_=[]};Fa.prototype.addLast=function(o){this.array_.push(o)},Fa.prototype.removeFirst=function(){return this.array_.shift()},Fa.prototype.isEmpty=function(){return 0===this.array_.length};var ii=function(){this._finder=null,this._dirEdgeList=new Je,this._nodes=new Je,this._rightMostCoord=null,this._env=null,this._finder=new Rt};ii.prototype.clearVisitedEdges=function(){for(var o=this._dirEdgeList.iterator();o.hasNext();)o.next().setVisited(!1)},ii.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},ii.prototype.computeNodeDepth=function(o){for(var a=null,l=o.getEdges().iterator();l.hasNext();){var f=l.next();if(f.isVisited()||f.getSym().isVisited()){a=f;break}}if(null===a)throw new Ki("unable to find edge to compute depths at "+o.getCoordinate());o.getEdges().computeDepths(a);for(var p=o.getEdges().iterator();p.hasNext();){var v=p.next();v.setVisited(!0),this.copySymDepths(v)}},ii.prototype.computeDepth=function(o){this.clearVisitedEdges();var a=this._finder.getEdge();a.setEdgeDepths(Ue.RIGHT,o),this.copySymDepths(a),this.computeDepths(a)},ii.prototype.create=function(o){this.addReachable(o),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},ii.prototype.findResultEdges=function(){for(var o=this._dirEdgeList.iterator();o.hasNext();){var a=o.next();a.getDepth(Ue.RIGHT)>=1&&a.getDepth(Ue.LEFT)<=0&&!a.isInteriorAreaEdge()&&a.setInResult(!0)}},ii.prototype.computeDepths=function(o){var a=new du,l=new Fa,f=o.getNode();for(l.addLast(f),a.add(f),o.setVisited(!0);!l.isEmpty();){var p=l.removeFirst();a.add(p),this.computeNodeDepth(p);for(var v=p.getEdges().iterator();v.hasNext();){var E=v.next().getSym();if(!E.isVisited()){var I=E.getNode();a.contains(I)||(l.addLast(I),a.add(I))}}}},ii.prototype.compareTo=function(o){return this._rightMostCoord.x<o._rightMostCoord.x?-1:this._rightMostCoord.x>o._rightMostCoord.x?1:0},ii.prototype.getEnvelope=function(){if(null===this._env){for(var o=new Ze,a=this._dirEdgeList.iterator();a.hasNext();)for(var l=a.next().getEdge().getCoordinates(),f=0;f<l.length-1;f++)o.expandToInclude(l[f]);this._env=o}return this._env},ii.prototype.addReachable=function(o){var a=new j;for(a.add(o);!a.empty();){var l=a.pop();this.add(l,a)}},ii.prototype.copySymDepths=function(o){var a=o.getSym();a.setDepth(Ue.LEFT,o.getDepth(Ue.RIGHT)),a.setDepth(Ue.RIGHT,o.getDepth(Ue.LEFT))},ii.prototype.add=function(o,a){o.setVisited(!0),this._nodes.add(o);for(var l=o.getEdges().iterator();l.hasNext();){var f=l.next();this._dirEdgeList.add(f);var p=f.getSym().getNode();p.isVisited()||a.push(p)}},ii.prototype.getNodes=function(){return this._nodes},ii.prototype.getDirectedEdges=function(){return this._dirEdgeList},ii.prototype.interfaces_=function(){return[S]},ii.prototype.getClass=function(){return ii};var un=function o(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var l=arguments[0];this.init(1),this.location[Ue.ON]=l}else if(arguments[0]instanceof o){var f=arguments[0];if(this.init(f.location.length),null!==f)for(var p=0;p<this.location.length;p++)this.location[p]=f.location[p]}}else if(3===arguments.length){var v=arguments[0],E=arguments[1],I=arguments[2];this.init(3),this.location[Ue.ON]=v,this.location[Ue.LEFT]=E,this.location[Ue.RIGHT]=I}};un.prototype.setAllLocations=function(o){for(var a=0;a<this.location.length;a++)this.location[a]=o},un.prototype.isNull=function(){for(var o=0;o<this.location.length;o++)if(this.location[o]!==V.NONE)return!1;return!0},un.prototype.setAllLocationsIfNull=function(o){for(var a=0;a<this.location.length;a++)this.location[a]===V.NONE&&(this.location[a]=o)},un.prototype.isLine=function(){return 1===this.location.length},un.prototype.merge=function(o){if(o.location.length>this.location.length){var a=new Array(3).fill(null);a[Ue.ON]=this.location[Ue.ON],a[Ue.LEFT]=V.NONE,a[Ue.RIGHT]=V.NONE,this.location=a}for(var l=0;l<this.location.length;l++)this.location[l]===V.NONE&&l<o.location.length&&(this.location[l]=o.location[l])},un.prototype.getLocations=function(){return this.location},un.prototype.flip=function(){if(this.location.length<=1)return null;var o=this.location[Ue.LEFT];this.location[Ue.LEFT]=this.location[Ue.RIGHT],this.location[Ue.RIGHT]=o},un.prototype.toString=function(){var o=new q;return this.location.length>1&&o.append(V.toLocationSymbol(this.location[Ue.LEFT])),o.append(V.toLocationSymbol(this.location[Ue.ON])),this.location.length>1&&o.append(V.toLocationSymbol(this.location[Ue.RIGHT])),o.toString()},un.prototype.setLocations=function(o,a,l){this.location[Ue.ON]=o,this.location[Ue.LEFT]=a,this.location[Ue.RIGHT]=l},un.prototype.get=function(o){return o<this.location.length?this.location[o]:V.NONE},un.prototype.isArea=function(){return this.location.length>1},un.prototype.isAnyNull=function(){for(var o=0;o<this.location.length;o++)if(this.location[o]===V.NONE)return!0;return!1},un.prototype.setLocation=function(){1===arguments.length?this.setLocation(Ue.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},un.prototype.init=function(o){this.location=new Array(o).fill(null),this.setAllLocations(V.NONE)},un.prototype.isEqualOnSide=function(o,a){return this.location[a]===o.location[a]},un.prototype.allPositionsEqual=function(o){for(var a=0;a<this.location.length;a++)if(this.location[a]!==o)return!1;return!0},un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un};var Yt=function o(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var a=arguments[0];this.elt[0]=new un(a),this.elt[1]=new un(a)}else if(arguments[0]instanceof o){var l=arguments[0];this.elt[0]=new un(l.elt[0]),this.elt[1]=new un(l.elt[1])}}else if(2===arguments.length){var f=arguments[0],p=arguments[1];this.elt[0]=new un(V.NONE),this.elt[1]=new un(V.NONE),this.elt[f].setLocation(p)}else if(3===arguments.length){var v=arguments[0],E=arguments[1],I=arguments[2];this.elt[0]=new un(v,E,I),this.elt[1]=new un(v,E,I)}else if(4===arguments.length){var $=arguments[0],oe=arguments[1],Te=arguments[2],Fe=arguments[3];this.elt[0]=new un(V.NONE,V.NONE,V.NONE),this.elt[1]=new un(V.NONE,V.NONE,V.NONE),this.elt[$].setLocations(oe,Te,Fe)}};Yt.prototype.getGeometryCount=function(){var o=0;return this.elt[0].isNull()||o++,this.elt[1].isNull()||o++,o},Yt.prototype.setAllLocations=function(o,a){this.elt[o].setAllLocations(a)},Yt.prototype.isNull=function(o){return this.elt[o].isNull()},Yt.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var o=arguments[0];this.setAllLocationsIfNull(0,o),this.setAllLocationsIfNull(1,o)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},Yt.prototype.isLine=function(o){return this.elt[o].isLine()},Yt.prototype.merge=function(o){for(var a=0;a<2;a++)null===this.elt[a]&&null!==o.elt[a]?this.elt[a]=new un(o.elt[a]):this.elt[a].merge(o.elt[a])},Yt.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Yt.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Ue.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},Yt.prototype.toString=function(){var o=new q;return null!==this.elt[0]&&(o.append("A:"),o.append(this.elt[0].toString())),null!==this.elt[1]&&(o.append(" B:"),o.append(this.elt[1].toString())),o.toString()},Yt.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},Yt.prototype.isAnyNull=function(o){return this.elt[o].isAnyNull()},Yt.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Ue.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},Yt.prototype.isEqualOnSide=function(o,a){return this.elt[0].isEqualOnSide(o.elt[0],a)&&this.elt[1].isEqualOnSide(o.elt[1],a)},Yt.prototype.allPositionsEqual=function(o,a){return this.elt[o].allPositionsEqual(a)},Yt.prototype.toLine=function(o){this.elt[o].isArea()&&(this.elt[o]=new un(this.elt[o].location[0]))},Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},Yt.toLineLabel=function(o){for(var a=new Yt(V.NONE),l=0;l<2;l++)a.setLocation(l,o.getLocation(l));return a};var xr=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Je,this._pts=new Je,this._label=new Yt(V.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Je,this._geometryFactory=null;var o=arguments[0];this._geometryFactory=arguments[1],this.computePoints(o),this.computeRing()};xr.prototype.computeRing=function(){if(null!==this._ring)return null;for(var o=new Array(this._pts.size()).fill(null),a=0;a<this._pts.size();a++)o[a]=this._pts.get(a);this._ring=this._geometryFactory.createLinearRing(o),this._isHole=ke.isCCW(this._ring.getCoordinates())},xr.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},xr.prototype.computePoints=function(o){this._startDe=o;var a=o,l=!0;do{if(null===a)throw new Ki("Found null DirectedEdge");if(a.getEdgeRing()===this)throw new Ki("Directed Edge visited twice during ring-building at "+a.getCoordinate());this._edges.add(a);var f=a.getLabel();P.isTrue(f.isArea()),this.mergeLabel(f),this.addPoints(a.getEdge(),a.isForward(),l),l=!1,this.setEdgeRing(a,this),a=this.getNext(a)}while(a!==this._startDe)},xr.prototype.getLinearRing=function(){return this._ring},xr.prototype.getCoordinate=function(o){return this._pts.get(o)},xr.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var o=this._startDe;do{var a=o.getNode().getEdges().getOutgoingDegree(this);a>this._maxNodeDegree&&(this._maxNodeDegree=a),o=this.getNext(o)}while(o!==this._startDe);this._maxNodeDegree*=2},xr.prototype.addPoints=function(o,a,l){var f=o.getCoordinates();if(a){var p=1;l&&(p=0);for(var v=p;v<f.length;v++)this._pts.add(f[v])}else{var E=f.length-2;l&&(E=f.length-1);for(var I=E;I>=0;I--)this._pts.add(f[I])}},xr.prototype.isHole=function(){return this._isHole},xr.prototype.setInResult=function(){var o=this._startDe;do{o.getEdge().setInResult(!0),o=o.getNext()}while(o!==this._startDe)},xr.prototype.containsPoint=function(o){var a=this.getLinearRing();if(!a.getEnvelopeInternal().contains(o)||!ke.isPointInRing(o,a.getCoordinates()))return!1;for(var l=this._holes.iterator();l.hasNext();)if(l.next().containsPoint(o))return!1;return!0},xr.prototype.addHole=function(o){this._holes.add(o)},xr.prototype.isShell=function(){return null===this._shell},xr.prototype.getLabel=function(){return this._label},xr.prototype.getEdges=function(){return this._edges},xr.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},xr.prototype.getShell=function(){return this._shell},xr.prototype.mergeLabel=function(){if(1===arguments.length){var o=arguments[0];this.mergeLabel(o,0),this.mergeLabel(o,1)}else if(2===arguments.length){var l=arguments[1],f=arguments[0].getLocation(l,Ue.RIGHT);if(f===V.NONE)return null;if(this._label.getLocation(l)===V.NONE)return this._label.setLocation(l,f),null}},xr.prototype.setShell=function(o){this._shell=o,null!==o&&o.addHole(this)},xr.prototype.toPolygon=function(o){for(var a=new Array(this._holes.size()).fill(null),l=0;l<this._holes.size();l++)a[l]=this._holes.get(l).getLinearRing();return o.createPolygon(this.getLinearRing(),a)},xr.prototype.interfaces_=function(){return[]},xr.prototype.getClass=function(){return xr};var Ic=function(o){function a(){o.call(this,arguments[0],arguments[1])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.setEdgeRing=function(l,f){l.setMinEdgeRing(f)},a.prototype.getNext=function(l){return l.getNextMin()},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(xr),Sc=function(o){function a(){o.call(this,arguments[0],arguments[1])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.buildMinimalRings=function(){var l=new Je,f=this._startDe;do{if(null===f.getMinEdgeRing()){var p=new Ic(f,this._geometryFactory);l.add(p)}f=f.getNext()}while(f!==this._startDe);return l},a.prototype.setEdgeRing=function(l,f){l.setEdgeRing(f)},a.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var l=this._startDe;do{l.getNode().getEdges().linkMinimalDirectedEdges(this),l=l.getNext()}while(l!==this._startDe)},a.prototype.getNext=function(l){return l.getNext()},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(xr),kr=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0!==arguments.length&&1===arguments.length&&(this._label=arguments[0])};kr.prototype.setVisited=function(o){this._isVisited=o},kr.prototype.setInResult=function(o){this._isInResult=o},kr.prototype.isCovered=function(){return this._isCovered},kr.prototype.isCoveredSet=function(){return this._isCoveredSet},kr.prototype.setLabel=function(o){this._label=o},kr.prototype.getLabel=function(){return this._label},kr.prototype.setCovered=function(o){this._isCovered=o,this._isCoveredSet=!0},kr.prototype.updateIM=function(o){P.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(o)},kr.prototype.isInResult=function(){return this._isInResult},kr.prototype.isVisited=function(){return this._isVisited},kr.prototype.interfaces_=function(){return[]},kr.prototype.getClass=function(){return kr};var xc=function(o){function a(){o.call(this),this._coord=null,this._edges=null;var f=arguments[1];this._coord=arguments[0],this._edges=f,this._label=new Yt(0,V.NONE)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.isIncidentEdgeInResult=function(){for(var l=this.getEdges().getEdges().iterator();l.hasNext();)if(l.next().getEdge().isInResult())return!0;return!1},a.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},a.prototype.getCoordinate=function(){return this._coord},a.prototype.print=function(l){l.println("node "+this._coord+" lbl: "+this._label)},a.prototype.computeIM=function(l){},a.prototype.computeMergedLocation=function(l,f){var p=V.NONE;if(p=this._label.getLocation(f),!l.isNull(f)){var v=l.getLocation(f);p!==V.BOUNDARY&&(p=v)}return p},a.prototype.setLabel=function(){if(2!==arguments.length)return o.prototype.setLabel.apply(this,arguments);var l=arguments[0],f=arguments[1];null===this._label?this._label=new Yt(l,f):this._label.setLocation(l,f)},a.prototype.getEdges=function(){return this._edges},a.prototype.mergeLabel=function(){if(arguments[0]instanceof a)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof Yt)for(var f=arguments[0],p=0;p<2;p++){var v=this.computeMergedLocation(f,p);this._label.getLocation(p)===V.NONE&&this._label.setLocation(p,v)}},a.prototype.add=function(l){this._edges.insert(l),l.setNode(this)},a.prototype.setLabelBoundary=function(l){if(null===this._label)return null;var f=V.NONE;null!==this._label&&(f=this._label.getLocation(l)),this._label.setLocation(l,f===V.BOUNDARY?V.INTERIOR:V.BOUNDARY)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(kr),hs=function(){this.nodeMap=new ge,this.nodeFact=null,this.nodeFact=arguments[0]};hs.prototype.find=function(o){return this.nodeMap.get(o)},hs.prototype.addNode=function(){if(arguments[0]instanceof C){var o=arguments[0],a=this.nodeMap.get(o);return null===a&&(a=this.nodeFact.createNode(o),this.nodeMap.put(o,a)),a}if(arguments[0]instanceof xc){var l=arguments[0],f=this.nodeMap.get(l.getCoordinate());return null===f?(this.nodeMap.put(l.getCoordinate(),l),l):(f.mergeLabel(l),f)}},hs.prototype.print=function(o){for(var a=this.iterator();a.hasNext();)a.next().print(o)},hs.prototype.iterator=function(){return this.nodeMap.values().iterator()},hs.prototype.values=function(){return this.nodeMap.values()},hs.prototype.getBoundaryNodes=function(o){for(var a=new Je,l=this.iterator();l.hasNext();){var f=l.next();f.getLabel().getLocation(o)===V.BOUNDARY&&a.add(f)}return a},hs.prototype.add=function(o){var a=o.getCoordinate();this.addNode(a).add(o)},hs.prototype.interfaces_=function(){return[]},hs.prototype.getClass=function(){return hs};var Jn=function(){},vl={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn},Jn.isNorthern=function(o){return o===Jn.NE||o===Jn.NW},Jn.isOpposite=function(o,a){return o!==a&&(o-a+4)%4==2},Jn.commonHalfPlane=function(o,a){if(o===a)return o;if((o-a+4)%4==2)return-1;var l=o<a?o:a;return 0===l&&3===(o>a?o:a)?3:l},Jn.isInHalfPlane=function(o,a){return a===Jn.SE?o===Jn.SE||o===Jn.SW:o===a||o===a+1},Jn.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1];if(0===o&&0===a)throw new T("Cannot compute the quadrant for point ( "+o+", "+a+" )");return o>=0?a>=0?Jn.NE:Jn.SE:a>=0?Jn.NW:Jn.SW}if(arguments[0]instanceof C&&arguments[1]instanceof C){var l=arguments[0],f=arguments[1];if(f.x===l.x&&f.y===l.y)throw new T("Cannot compute the quadrant for two identical points "+l);return f.x>=l.x?f.y>=l.y?Jn.NE:Jn.SE:f.y>=l.y?Jn.NW:Jn.SW}},vl.NE.get=function(){return 0},vl.NW.get=function(){return 1},vl.SW.get=function(){return 2},vl.SE.get=function(){return 3},Object.defineProperties(Jn,vl);var mi=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var l=arguments[1],f=arguments[2];this._edge=arguments[0],this.init(l,f),this._label=null}else if(4===arguments.length){var v=arguments[1],E=arguments[2],I=arguments[3];this._edge=arguments[0],this.init(v,E),this._label=I}};mi.prototype.compareDirection=function(o){return this._dx===o._dx&&this._dy===o._dy?0:this._quadrant>o._quadrant?1:this._quadrant<o._quadrant?-1:ke.computeOrientation(o._p0,o._p1,this._p1)},mi.prototype.getDy=function(){return this._dy},mi.prototype.getCoordinate=function(){return this._p0},mi.prototype.setNode=function(o){this._node=o},mi.prototype.print=function(o){var a=Math.atan2(this._dy,this._dx),l=this.getClass().getName(),f=l.lastIndexOf("."),p=l.substring(f+1);o.print("  "+p+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+a+"   "+this._label)},mi.prototype.compareTo=function(o){return this.compareDirection(o)},mi.prototype.getDirectedCoordinate=function(){return this._p1},mi.prototype.getDx=function(){return this._dx},mi.prototype.getLabel=function(){return this._label},mi.prototype.getEdge=function(){return this._edge},mi.prototype.getQuadrant=function(){return this._quadrant},mi.prototype.getNode=function(){return this._node},mi.prototype.toString=function(){var o=Math.atan2(this._dy,this._dx),a=this.getClass().getName(),l=a.lastIndexOf(".");return"  "+a.substring(l+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+o+"   "+this._label},mi.prototype.computeLabel=function(o){},mi.prototype.init=function(o,a){this._p0=o,this._p1=a,this._dx=a.x-o.x,this._dy=a.y-o.y,this._quadrant=Jn.quadrant(this._dx,this._dy),P.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},mi.prototype.interfaces_=function(){return[S]},mi.prototype.getClass=function(){return mi};var hh=function(o){function a(){var l=arguments[0],f=arguments[1];if(o.call(this,l),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=f,f)this.init(l.getCoordinate(0),l.getCoordinate(1));else{var p=l.getNumPoints()-1;this.init(l.getCoordinate(p),l.getCoordinate(p-1))}this.computeDirectedLabel()}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.getNextMin=function(){return this._nextMin},a.prototype.getDepth=function(l){return this._depth[l]},a.prototype.setVisited=function(l){this._isVisited=l},a.prototype.computeDirectedLabel=function(){this._label=new Yt(this._edge.getLabel()),this._isForward||this._label.flip()},a.prototype.getNext=function(){return this._next},a.prototype.setDepth=function(l,f){if(-999!==this._depth[l]&&this._depth[l]!==f)throw new Ki("assigned depths do not match",this.getCoordinate());this._depth[l]=f},a.prototype.isInteriorAreaEdge=function(){for(var l=!0,f=0;f<2;f++)this._label.isArea(f)&&this._label.getLocation(f,Ue.LEFT)===V.INTERIOR&&this._label.getLocation(f,Ue.RIGHT)===V.INTERIOR||(l=!1);return l},a.prototype.setNextMin=function(l){this._nextMin=l},a.prototype.print=function(l){o.prototype.print.call(this,l),l.print(" "+this._depth[Ue.LEFT]+"/"+this._depth[Ue.RIGHT]),l.print(" ("+this.getDepthDelta()+")"),this._isInResult&&l.print(" inResult")},a.prototype.setMinEdgeRing=function(l){this._minEdgeRing=l},a.prototype.isLineEdge=function(){var l=this._label.isLine(0)||this._label.isLine(1),f=!this._label.isArea(0)||this._label.allPositionsEqual(0,V.EXTERIOR),p=!this._label.isArea(1)||this._label.allPositionsEqual(1,V.EXTERIOR);return l&&f&&p},a.prototype.setEdgeRing=function(l){this._edgeRing=l},a.prototype.getMinEdgeRing=function(){return this._minEdgeRing},a.prototype.getDepthDelta=function(){var l=this._edge.getDepthDelta();return this._isForward||(l=-l),l},a.prototype.setInResult=function(l){this._isInResult=l},a.prototype.getSym=function(){return this._sym},a.prototype.isForward=function(){return this._isForward},a.prototype.getEdge=function(){return this._edge},a.prototype.printEdge=function(l){this.print(l),l.print(" "),this._isForward?this._edge.print(l):this._edge.printReverse(l)},a.prototype.setSym=function(l){this._sym=l},a.prototype.setVisitedEdge=function(l){this.setVisited(l),this._sym.setVisited(l)},a.prototype.setEdgeDepths=function(l,f){var p=this.getEdge().getDepthDelta();this._isForward||(p=-p);var v=1;l===Ue.LEFT&&(v=-1);var E=Ue.opposite(l),I=f+p*v;this.setDepth(l,f),this.setDepth(E,I)},a.prototype.getEdgeRing=function(){return this._edgeRing},a.prototype.isInResult=function(){return this._isInResult},a.prototype.setNext=function(l){this._next=l},a.prototype.isVisited=function(){return this._isVisited},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.depthFactor=function(l,f){return l===V.EXTERIOR&&f===V.INTERIOR?1:l===V.INTERIOR&&f===V.EXTERIOR?-1:0},a}(mi),gu=function(){};gu.prototype.createNode=function(o){return new xc(o,null)},gu.prototype.interfaces_=function(){return[]},gu.prototype.getClass=function(){return gu};var Er=function(){this._edges=new Je,this._nodes=null,this._edgeEndList=new Je,0===arguments.length?this._nodes=new hs(new gu):1===arguments.length&&(this._nodes=new hs(arguments[0]))};Er.prototype.printEdges=function(o){o.println("Edges:");for(var a=0;a<this._edges.size();a++){o.println("edge "+a+":");var l=this._edges.get(a);l.print(o),l.eiList.print(o)}},Er.prototype.find=function(o){return this._nodes.find(o)},Er.prototype.addNode=function(){return arguments[0]instanceof xc||arguments[0]instanceof C?this._nodes.addNode(arguments[0]):void 0},Er.prototype.getNodeIterator=function(){return this._nodes.iterator()},Er.prototype.linkResultDirectedEdges=function(){for(var o=this._nodes.iterator();o.hasNext();)o.next().getEdges().linkResultDirectedEdges()},Er.prototype.debugPrintln=function(o){Xe.out.println(o)},Er.prototype.isBoundaryNode=function(o,a){var l=this._nodes.find(a);if(null===l)return!1;var f=l.getLabel();return null!==f&&f.getLocation(o)===V.BOUNDARY},Er.prototype.linkAllDirectedEdges=function(){for(var o=this._nodes.iterator();o.hasNext();)o.next().getEdges().linkAllDirectedEdges()},Er.prototype.matchInSameDirection=function(o,a,l,f){return!!o.equals(l)&&ke.computeOrientation(o,a,f)===ke.COLLINEAR&&Jn.quadrant(o,a)===Jn.quadrant(l,f)},Er.prototype.getEdgeEnds=function(){return this._edgeEndList},Er.prototype.debugPrint=function(o){Xe.out.print(o)},Er.prototype.getEdgeIterator=function(){return this._edges.iterator()},Er.prototype.findEdgeInSameDirection=function(o,a){for(var l=0;l<this._edges.size();l++){var f=this._edges.get(l),p=f.getCoordinates();if(this.matchInSameDirection(o,a,p[0],p[1])||this.matchInSameDirection(o,a,p[p.length-1],p[p.length-2]))return f}return null},Er.prototype.insertEdge=function(o){this._edges.add(o)},Er.prototype.findEdgeEnd=function(o){for(var a=this.getEdgeEnds().iterator();a.hasNext();){var l=a.next();if(l.getEdge()===o)return l}return null},Er.prototype.addEdges=function(o){for(var a=o.iterator();a.hasNext();){var l=a.next();this._edges.add(l);var f=new hh(l,!0),p=new hh(l,!1);f.setSym(p),p.setSym(f),this.add(f),this.add(p)}},Er.prototype.add=function(o){this._nodes.add(o),this._edgeEndList.add(o)},Er.prototype.getNodes=function(){return this._nodes.values()},Er.prototype.findEdge=function(o,a){for(var l=0;l<this._edges.size();l++){var f=this._edges.get(l),p=f.getCoordinates();if(o.equals(p[0])&&a.equals(p[1]))return f}return null},Er.prototype.interfaces_=function(){return[]},Er.prototype.getClass=function(){return Er},Er.linkResultDirectedEdges=function(o){for(var a=o.iterator();a.hasNext();)a.next().getEdges().linkResultDirectedEdges()};var dr=function(){this._geometryFactory=null,this._shellList=new Je,this._geometryFactory=arguments[0]};dr.prototype.sortShellsAndHoles=function(o,a,l){for(var f=o.iterator();f.hasNext();){var p=f.next();p.isHole()?l.add(p):a.add(p)}},dr.prototype.computePolygons=function(o){for(var a=new Je,l=o.iterator();l.hasNext();){var f=l.next().toPolygon(this._geometryFactory);a.add(f)}return a},dr.prototype.placeFreeHoles=function(o,a){for(var l=a.iterator();l.hasNext();){var f=l.next();if(null===f.getShell()){var p=this.findEdgeRingContaining(f,o);if(null===p)throw new Ki("unable to assign hole to a shell",f.getCoordinate(0));f.setShell(p)}}},dr.prototype.buildMinimalEdgeRings=function(o,a,l){for(var f=new Je,p=o.iterator();p.hasNext();){var v=p.next();if(v.getMaxNodeDegree()>2){v.linkDirectedEdgesForMinimalEdgeRings();var E=v.buildMinimalRings(),I=this.findShell(E);null!==I?(this.placePolygonHoles(I,E),a.add(I)):l.addAll(E)}else f.add(v)}return f},dr.prototype.containsPoint=function(o){for(var a=this._shellList.iterator();a.hasNext();)if(a.next().containsPoint(o))return!0;return!1},dr.prototype.buildMaximalEdgeRings=function(o){for(var a=new Je,l=o.iterator();l.hasNext();){var f=l.next();if(f.isInResult()&&f.getLabel().isArea()&&null===f.getEdgeRing()){var p=new Sc(f,this._geometryFactory);a.add(p),p.setInResult()}}return a},dr.prototype.placePolygonHoles=function(o,a){for(var l=a.iterator();l.hasNext();){var f=l.next();f.isHole()&&f.setShell(o)}},dr.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},dr.prototype.findEdgeRingContaining=function(o,a){for(var l=o.getLinearRing(),f=l.getEnvelopeInternal(),p=l.getCoordinateN(0),v=null,E=null,I=a.iterator();I.hasNext();){var $=I.next(),oe=$.getLinearRing(),Te=oe.getEnvelopeInternal();null!==v&&(E=v.getLinearRing().getEnvelopeInternal());var Fe=!1;Te.contains(f)&&ke.isPointInRing(p,oe.getCoordinates())&&(Fe=!0),Fe&&(null===v||E.contains(Te))&&(v=$)}return v},dr.prototype.findShell=function(o){for(var a=0,l=null,f=o.iterator();f.hasNext();){var p=f.next();p.isHole()||(l=p,a++)}return P.isTrue(a<=1,"found two shells in MinimalEdgeRing list"),l},dr.prototype.add=function(){if(1===arguments.length){var o=arguments[0];this.add(o.getEdgeEnds(),o.getNodes())}else if(2===arguments.length){var a=arguments[0];Er.linkResultDirectedEdges(arguments[1]);var f=this.buildMaximalEdgeRings(a),p=new Je,v=this.buildMinimalEdgeRings(f,this._shellList,p);this.sortShellsAndHoles(v,this._shellList,p),this.placeFreeHoles(this._shellList,p)}},dr.prototype.interfaces_=function(){return[]},dr.prototype.getClass=function(){return dr};var Gn=function(){};Gn.prototype.getBounds=function(){},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn};var Qo=function(){this._bounds=null,this._item=null;var a=arguments[1];this._bounds=arguments[0],this._item=a};Qo.prototype.getItem=function(){return this._item},Qo.prototype.getBounds=function(){return this._bounds},Qo.prototype.interfaces_=function(){return[Gn,H]},Qo.prototype.getClass=function(){return Qo};var zs=function(){this._size=null,this._items=null,this._size=0,this._items=new Je,this._items.add(null)};zs.prototype.poll=function(){if(this.isEmpty())return null;var o=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),o},zs.prototype.size=function(){return this._size},zs.prototype.reorder=function(o){for(var a=null,l=this._items.get(o);2*o<=this._size&&((a=2*o)!==this._size&&this._items.get(a+1).compareTo(this._items.get(a))<0&&a++,this._items.get(a).compareTo(l)<0);o=a)this._items.set(o,this._items.get(a));this._items.set(o,l)},zs.prototype.clear=function(){this._size=0,this._items.clear()},zs.prototype.isEmpty=function(){return 0===this._size},zs.prototype.add=function(o){this._items.add(null),this._size+=1;var a=this._size;for(this._items.set(0,o);o.compareTo(this._items.get(Math.trunc(a/2)))<0;a/=2)this._items.set(a,this._items.get(Math.trunc(a/2)));this._items.set(a,o)},zs.prototype.interfaces_=function(){return[]},zs.prototype.getClass=function(){return zs};var ua=function(){};ua.prototype.visitItem=function(o){},ua.prototype.interfaces_=function(){return[]},ua.prototype.getClass=function(){return ua};var Ot=function(){};Ot.prototype.insert=function(o,a){},Ot.prototype.remove=function(o,a){},Ot.prototype.query=function(){},Ot.prototype.interfaces_=function(){return[]},Ot.prototype.getClass=function(){return Ot};var Hr=function(){this._childBoundables=new Je,this._bounds=null,this._level=null,0!==arguments.length&&1===arguments.length&&(this._level=arguments[0])},ao={serialVersionUID:{configurable:!0}};Hr.prototype.getLevel=function(){return this._level},Hr.prototype.size=function(){return this._childBoundables.size()},Hr.prototype.getChildBoundables=function(){return this._childBoundables},Hr.prototype.addChildBoundable=function(o){P.isTrue(null===this._bounds),this._childBoundables.add(o)},Hr.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Hr.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Hr.prototype.interfaces_=function(){return[Gn,H]},Hr.prototype.getClass=function(){return Hr},ao.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Hr,ao);var Qi=function(){};Qi.reverseOrder=function(){return{compare:function(o,a){return a.compareTo(o)}}},Qi.min=function(o){return Qi.sort(o),o.get(0)},Qi.sort=function(o,a){var l=o.toArray();a?Ns.sort(l,a):Ns.sort(l);for(var f=o.iterator(),p=0,v=l.length;p<v;p++)f.next(),f.set(l[p])},Qi.singletonList=function(o){var a=new Je;return a.add(o),a};var Rr=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var a=arguments[1],l=arguments[2];this._boundable1=arguments[0],this._boundable2=a,this._itemDistance=l,this._distance=this.distance()};Rr.prototype.expandToQueue=function(o,a){var l=Rr.isComposite(this._boundable1),f=Rr.isComposite(this._boundable2);if(l&&f)return Rr.area(this._boundable1)>Rr.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,o,a),null):(this.expand(this._boundable2,this._boundable1,o,a),null);if(l)return this.expand(this._boundable1,this._boundable2,o,a),null;if(f)return this.expand(this._boundable2,this._boundable1,o,a),null;throw new T("neither boundable is composite")},Rr.prototype.isLeaves=function(){return!(Rr.isComposite(this._boundable1)||Rr.isComposite(this._boundable2))},Rr.prototype.compareTo=function(o){return this._distance<o._distance?-1:this._distance>o._distance?1:0},Rr.prototype.expand=function(o,a,l,f){for(var p=o.getChildBoundables().iterator();p.hasNext();){var v=p.next(),E=new Rr(v,a,this._itemDistance);E.getDistance()<f&&l.add(E)}},Rr.prototype.getBoundable=function(o){return 0===o?this._boundable1:this._boundable2},Rr.prototype.getDistance=function(){return this._distance},Rr.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Rr.prototype.interfaces_=function(){return[S]},Rr.prototype.getClass=function(){return Rr},Rr.area=function(o){return o.getBounds().getArea()},Rr.isComposite=function(o){return o instanceof Hr};var jr=function o(){if(this._root=null,this._built=!1,this._itemBoundables=new Je,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=o.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var l=arguments[0];P.isTrue(l>1,"Node capacity must be greater than 1"),this._nodeCapacity=l}},_l={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};jr.prototype.getNodeCapacity=function(){return this._nodeCapacity},jr.prototype.lastNode=function(o){return o.get(o.size()-1)},jr.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var o=0,a=arguments[0].getChildBoundables().iterator();a.hasNext();){var l=a.next();l instanceof Hr?o+=this.size(l):l instanceof Qo&&(o+=1)}return o}},jr.prototype.removeItem=function(o,a){for(var l=null,f=o.getChildBoundables().iterator();f.hasNext();){var p=f.next();p instanceof Qo&&p.getItem()===a&&(l=p)}return null!==l&&(o.getChildBoundables().remove(l),!0)},jr.prototype.itemsTree=function(){if(0===arguments.length){this.build();var o=this.itemsTree(this._root);return null===o?new Je:o}if(1===arguments.length){for(var a=arguments[0],l=new Je,f=a.getChildBoundables().iterator();f.hasNext();){var p=f.next();if(p instanceof Hr){var v=this.itemsTree(p);null!==v&&l.add(v)}else p instanceof Qo?l.add(p.getItem()):P.shouldNeverReachHere()}return l.size()<=0?null:l}},jr.prototype.insert=function(o,a){P.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Qo(o,a))},jr.prototype.boundablesAtLevel=function(){if(1===arguments.length){var o=arguments[0],a=new Je;return this.boundablesAtLevel(o,this._root,a),a}if(3===arguments.length){var l=arguments[0],f=arguments[1],p=arguments[2];if(P.isTrue(l>-2),f.getLevel()===l)return p.add(f),null;for(var v=f.getChildBoundables().iterator();v.hasNext();){var E=v.next();E instanceof Hr?this.boundablesAtLevel(l,E,p):(P.isTrue(E instanceof Qo),-1===l&&p.add(E))}return null}},jr.prototype.query=function(){if(1===arguments.length){var o=arguments[0];this.build();var a=new Je;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.query(o,this._root,a),a}if(2===arguments.length){var l=arguments[0],f=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),l)&&this.query(l,this._root,f)}else if(3===arguments.length)if(Me(arguments[2],ua)&&arguments[0]instanceof Object&&arguments[1]instanceof Hr)for(var p=arguments[0],E=arguments[2],I=arguments[1].getChildBoundables(),$=0;$<I.size();$++){var oe=I.get($);this.getIntersectsOp().intersects(oe.getBounds(),p)&&(oe instanceof Hr?this.query(p,oe,E):oe instanceof Qo?E.visitItem(oe.getItem()):P.shouldNeverReachHere())}else if(Me(arguments[2],nr)&&arguments[0]instanceof Object&&arguments[1]instanceof Hr)for(var Te=arguments[0],Qe=arguments[2],ot=arguments[1].getChildBoundables(),ft=0;ft<ot.size();ft++){var It=ot.get(ft);this.getIntersectsOp().intersects(It.getBounds(),Te)&&(It instanceof Hr?this.query(Te,It,Qe):It instanceof Qo?Qe.add(It.getItem()):P.shouldNeverReachHere())}},jr.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},jr.prototype.getRoot=function(){return this.build(),this._root},jr.prototype.remove=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),o)&&this.remove(o,this._root,a)}if(3===arguments.length){var l=arguments[0],f=arguments[1],p=arguments[2],v=this.removeItem(f,p);if(v)return!0;for(var E=null,I=f.getChildBoundables().iterator();I.hasNext();){var $=I.next();if(this.getIntersectsOp().intersects($.getBounds(),l)&&$ instanceof Hr&&(v=this.remove(l,$,p))){E=$;break}}return null!==E&&E.getChildBoundables().isEmpty()&&f.getChildBoundables().remove(E),v}},jr.prototype.createHigherLevels=function(o,a){P.isTrue(!o.isEmpty());var l=this.createParentBoundables(o,a+1);return 1===l.size()?l.get(0):this.createHigherLevels(l,a+1)},jr.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var o=0,a=arguments[0].getChildBoundables().iterator();a.hasNext();){var l=a.next();if(l instanceof Hr){var f=this.depth(l);f>o&&(o=f)}}return o+1}},jr.prototype.createParentBoundables=function(o,a){P.isTrue(!o.isEmpty());var l=new Je;l.add(this.createNode(a));var f=new Je(o);Qi.sort(f,this.getComparator());for(var p=f.iterator();p.hasNext();){var v=p.next();this.lastNode(l).getChildBoundables().size()===this.getNodeCapacity()&&l.add(this.createNode(a)),this.lastNode(l).addChildBoundable(v)}return l},jr.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},jr.prototype.interfaces_=function(){return[H]},jr.prototype.getClass=function(){return jr},jr.compareDoubles=function(o,a){return o>a?1:o<a?-1:0},_l.IntersectsOp.get=function(){return tg},_l.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},_l.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(jr,_l);var tg=function(){},ka=function(){};ka.prototype.distance=function(o,a){},ka.prototype.interfaces_=function(){return[]},ka.prototype.getClass=function(){return ka};var zu=function(o){function a(f){o.call(this,f=f||a.DEFAULT_NODE_CAPACITY)}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return a.prototype.createParentBoundablesFromVerticalSlices=function(f,p){P.isTrue(f.length>0);for(var v=new Je,E=0;E<f.length;E++)v.addAll(this.createParentBoundablesFromVerticalSlice(f[E],p));return v},a.prototype.createNode=function(f){return new El(f)},a.prototype.size=function(){return 0===arguments.length?o.prototype.size.call(this):o.prototype.size.apply(this,arguments)},a.prototype.insert=function(){if(2!==arguments.length)return o.prototype.insert.apply(this,arguments);var f=arguments[0],p=arguments[1];if(f.isNull())return null;o.prototype.insert.call(this,f,p)},a.prototype.getIntersectsOp=function(){return a.intersectsOp},a.prototype.verticalSlices=function(f,p){for(var v=Math.trunc(Math.ceil(f.size()/p)),E=new Array(p).fill(null),I=f.iterator(),$=0;$<p;$++){E[$]=new Je;for(var oe=0;I.hasNext()&&oe<v;){var Te=I.next();E[$].add(Te),oe++}}return E},a.prototype.query=function(){if(1===arguments.length)return o.prototype.query.call(this,arguments[0]);2===arguments.length?o.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Me(arguments[2],ua)&&arguments[0]instanceof Object&&arguments[1]instanceof Hr||Me(arguments[2],nr)&&arguments[0]instanceof Object&&arguments[1]instanceof Hr)&&o.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},a.prototype.getComparator=function(){return a.yComparator},a.prototype.createParentBoundablesFromVerticalSlice=function(f,p){return o.prototype.createParentBoundables.call(this,f,p)},a.prototype.remove=function(){return 2===arguments.length?o.prototype.remove.call(this,arguments[0],arguments[1]):o.prototype.remove.apply(this,arguments)},a.prototype.depth=function(){return 0===arguments.length?o.prototype.depth.call(this):o.prototype.depth.apply(this,arguments)},a.prototype.createParentBoundables=function(f,p){P.isTrue(!f.isEmpty());var v=Math.trunc(Math.ceil(f.size()/this.getNodeCapacity())),E=new Je(f);Qi.sort(E,a.xComparator);var I=this.verticalSlices(E,Math.trunc(Math.ceil(Math.sqrt(v))));return this.createParentBoundablesFromVerticalSlices(I,p)},a.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Me(arguments[0],ka)){var f=arguments[0],p=new Rr(this.getRoot(),this.getRoot(),f);return this.nearestNeighbour(p)}if(arguments[0]instanceof Rr)return this.nearestNeighbour(arguments[0],O.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof a&&Me(arguments[1],ka)){var E=arguments[0],I=arguments[1],$=new Rr(this.getRoot(),E.getRoot(),I);return this.nearestNeighbour($)}if(arguments[0]instanceof Rr&&"number"==typeof arguments[1]){var oe=arguments[0],Te=arguments[1],Fe=null,Qe=new zs;for(Qe.add(oe);!Qe.isEmpty()&&Te>0;){var ot=Qe.poll(),ft=ot.getDistance();if(ft>=Te)break;ot.isLeaves()?(Te=ft,Fe=ot):ot.expandToQueue(Qe,Te)}return[Fe.getBoundable(0).getItem(),Fe.getBoundable(1).getItem()]}}else if(3===arguments.length){var Ur=arguments[2],Ei=new Qo(arguments[0],arguments[1]),Nr=new Rr(this.getRoot(),Ei,Ur);return this.nearestNeighbour(Nr)[0]}},a.prototype.interfaces_=function(){return[Ot,H]},a.prototype.getClass=function(){return a},a.centreX=function(f){return a.avg(f.getMinX(),f.getMaxX())},a.avg=function(f,p){return(f+p)/2},a.centreY=function(f){return a.avg(f.getMinY(),f.getMaxY())},l.STRtreeNode.get=function(){return El},l.serialVersionUID.get=function(){return 0x39920f7d5f261e0},l.xComparator.get=function(){return{interfaces_:function(){return[k]},compare:function(f,p){return o.compareDoubles(a.centreX(f.getBounds()),a.centreX(p.getBounds()))}}},l.yComparator.get=function(){return{interfaces_:function(){return[k]},compare:function(f,p){return o.compareDoubles(a.centreY(f.getBounds()),a.centreY(p.getBounds()))}}},l.intersectsOp.get=function(){return{interfaces_:function(){return[o.IntersectsOp]},intersects:function(f,p){return f.intersects(p)}}},l.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(a,l),a}(jr),El=function(o){function a(){o.call(this,arguments[0])}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.computeBounds=function(){for(var l=null,f=this.getChildBoundables().iterator();f.hasNext();){var p=f.next();null===l?l=new Ze(p.getBounds()):l.expandToInclude(p.getBounds())}return l},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Hr),bi=function(){};bi.prototype.interfaces_=function(){return[]},bi.prototype.getClass=function(){return bi},bi.relativeSign=function(o,a){return o<a?-1:o>a?1:0},bi.compare=function(o,a,l){if(a.equals2D(l))return 0;var f=bi.relativeSign(a.x,l.x),p=bi.relativeSign(a.y,l.y);switch(o){case 0:return bi.compareValue(f,p);case 1:return bi.compareValue(p,f);case 2:return bi.compareValue(p,-f);case 3:return bi.compareValue(-f,p);case 4:return bi.compareValue(-f,-p);case 5:return bi.compareValue(-p,-f);case 6:return bi.compareValue(-p,f);case 7:return bi.compareValue(f,-p)}return P.shouldNeverReachHere("invalid octant value"),0},bi.compareValue=function(o,a){return o<0?-1:o>0?1:a<0?-1:a>0?1:0};var qs=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var o=arguments[0],a=arguments[1],l=arguments[2],f=arguments[3];this._segString=o,this.coord=new C(a),this.segmentIndex=l,this._segmentOctant=f,this._isInterior=!a.equals2D(o.getCoordinate(l))};qs.prototype.getCoordinate=function(){return this.coord},qs.prototype.print=function(o){o.print(this.coord),o.print(" seg # = "+this.segmentIndex)},qs.prototype.compareTo=function(o){var a=o;return this.segmentIndex<a.segmentIndex?-1:this.segmentIndex>a.segmentIndex?1:this.coord.equals2D(a.coord)?0:bi.compare(this._segmentOctant,this.coord,a.coord)},qs.prototype.isEndPoint=function(o){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===o},qs.prototype.isInterior=function(){return this._isInterior},qs.prototype.interfaces_=function(){return[S]},qs.prototype.getClass=function(){return qs};var _t=function(){this._nodeMap=new ge,this._edge=null,this._edge=arguments[0]};_t.prototype.getSplitCoordinates=function(){var o=new oo;this.addEndpoints();for(var a=this.iterator(),l=a.next();a.hasNext();){var f=a.next();this.addEdgeCoordinates(l,f,o),l=f}return o.toCoordinateArray()},_t.prototype.addCollapsedNodes=function(){var o=new Je;this.findCollapsesFromInsertedNodes(o),this.findCollapsesFromExistingVertices(o);for(var a=o.iterator();a.hasNext();){var l=a.next().intValue();this.add(this._edge.getCoordinate(l),l)}},_t.prototype.print=function(o){o.println("Intersections:");for(var a=this.iterator();a.hasNext();)a.next().print(o)},_t.prototype.findCollapsesFromExistingVertices=function(o){for(var a=0;a<this._edge.size()-2;a++){var l=this._edge.getCoordinate(a),f=this._edge.getCoordinate(a+2);l.equals2D(f)&&o.add(new de(a+1))}},_t.prototype.addEdgeCoordinates=function(o,a,l){var f=this._edge.getCoordinate(a.segmentIndex),p=a.isInterior()||!a.coord.equals2D(f);l.add(new C(o.coord),!1);for(var v=o.segmentIndex+1;v<=a.segmentIndex;v++)l.add(this._edge.getCoordinate(v));p&&l.add(new C(a.coord))},_t.prototype.iterator=function(){return this._nodeMap.values().iterator()},_t.prototype.addSplitEdges=function(o){this.addEndpoints(),this.addCollapsedNodes();for(var a=this.iterator(),l=a.next();a.hasNext();){var f=a.next(),p=this.createSplitEdge(l,f);o.add(p),l=f}},_t.prototype.findCollapseIndex=function(o,a,l){if(!o.coord.equals2D(a.coord))return!1;var f=a.segmentIndex-o.segmentIndex;return a.isInterior()||f--,1===f&&(l[0]=o.segmentIndex+1,!0)},_t.prototype.findCollapsesFromInsertedNodes=function(o){for(var a=new Array(1).fill(null),l=this.iterator(),f=l.next();l.hasNext();){var p=l.next();this.findCollapseIndex(f,p,a)&&o.add(new de(a[0])),f=p}},_t.prototype.getEdge=function(){return this._edge},_t.prototype.addEndpoints=function(){var o=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(o),o)},_t.prototype.createSplitEdge=function(o,a){var l=a.segmentIndex-o.segmentIndex+2,f=this._edge.getCoordinate(a.segmentIndex),p=a.isInterior()||!a.coord.equals2D(f);p||l--;var v=new Array(l).fill(null),E=0;v[E++]=new C(o.coord);for(var I=o.segmentIndex+1;I<=a.segmentIndex;I++)v[E++]=this._edge.getCoordinate(I);return p&&(v[E]=new C(a.coord)),new wr(v,this._edge.getData())},_t.prototype.add=function(o,a){var l=new qs(this._edge,o,a,this._edge.getSegmentOctant(a)),f=this._nodeMap.get(l);return null!==f?(P.isTrue(f.coord.equals2D(o),"Found equal nodes with different coordinates"),f):(this._nodeMap.put(l,l),l)},_t.prototype.checkSplitEdgesCorrectness=function(o){var a=this._edge.getCoordinates(),l=o.get(0).getCoordinate(0);if(!l.equals2D(a[0]))throw new B("bad split edge start point at "+l);var f=o.get(o.size()-1).getCoordinates(),p=f[f.length-1];if(!p.equals2D(a[a.length-1]))throw new B("bad split edge end point at "+p)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t};var Ws=function(){};Ws.prototype.interfaces_=function(){return[]},Ws.prototype.getClass=function(){return Ws},Ws.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1];if(0===o&&0===a)throw new T("Cannot compute the octant for point ( "+o+", "+a+" )");var l=Math.abs(o),f=Math.abs(a);return o>=0?a>=0?l>=f?0:1:l>=f?7:6:a>=0?l>=f?3:2:l>=f?4:5}if(arguments[0]instanceof C&&arguments[1]instanceof C){var p=arguments[0],v=arguments[1],E=v.x-p.x,I=v.y-p.y;if(0===E&&0===I)throw new T("Cannot compute the octant for two identical points "+p);return Ws.octant(E,I)}};var ds=function(){};ds.prototype.getCoordinates=function(){},ds.prototype.size=function(){},ds.prototype.getCoordinate=function(o){},ds.prototype.isClosed=function(){},ds.prototype.setData=function(o){},ds.prototype.getData=function(){},ds.prototype.interfaces_=function(){return[]},ds.prototype.getClass=function(){return ds};var eo=function(){};eo.prototype.addIntersection=function(o,a){},eo.prototype.interfaces_=function(){return[ds]},eo.prototype.getClass=function(){return eo};var wr=function(){this._nodeList=new _t(this),this._pts=null,this._data=null;var a=arguments[1];this._pts=arguments[0],this._data=a};wr.prototype.getCoordinates=function(){return this._pts},wr.prototype.size=function(){return this._pts.length},wr.prototype.getCoordinate=function(o){return this._pts[o]},wr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},wr.prototype.getSegmentOctant=function(o){return o===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(o),this.getCoordinate(o+1))},wr.prototype.setData=function(o){this._data=o},wr.prototype.safeOctant=function(o,a){return o.equals2D(a)?0:Ws.octant(o,a)},wr.prototype.getData=function(){return this._data},wr.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var f=arguments[1],v=new C(arguments[0].getIntersection(arguments[3]));this.addIntersection(v,f)}},wr.prototype.toString=function(){return Ie.toLineString(new hr(this._pts))},wr.prototype.getNodeList=function(){return this._nodeList},wr.prototype.addIntersectionNode=function(o,a){var l=a,f=l+1;return f<this._pts.length&&o.equals2D(this._pts[f])&&(l=f),this._nodeList.add(o,l)},wr.prototype.addIntersections=function(o,a,l){for(var f=0;f<o.getIntersectionNum();f++)this.addIntersection(o,a,l,f)},wr.prototype.interfaces_=function(){return[eo]},wr.prototype.getClass=function(){return wr},wr.getNodedSubstrings=function(){if(1===arguments.length){var o=arguments[0],a=new Je;return wr.getNodedSubstrings(o,a),a}if(2===arguments.length)for(var f=arguments[1],p=arguments[0].iterator();p.hasNext();)p.next().getNodeList().addSplitEdges(f)};var wt=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new C,this.p1=new C;else if(1===arguments.length){var o=arguments[0];this.p0=new C(o.p0),this.p1=new C(o.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var f=arguments[2],p=arguments[3];this.p0=new C(arguments[0],arguments[1]),this.p1=new C(f,p)}},Ys={serialVersionUID:{configurable:!0}};wt.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},wt.prototype.orientationIndex=function(){if(arguments[0]instanceof wt){var o=arguments[0],a=ke.orientationIndex(this.p0,this.p1,o.p0),l=ke.orientationIndex(this.p0,this.p1,o.p1);return a>=0&&l>=0||a<=0&&l<=0?Math.max(a,l):0}if(arguments[0]instanceof C)return ke.orientationIndex(this.p0,this.p1,arguments[0])},wt.prototype.toGeometry=function(o){return o.createLineString([this.p0,this.p1])},wt.prototype.isVertical=function(){return this.p0.x===this.p1.x},wt.prototype.equals=function(o){if(!(o instanceof wt))return!1;var a=o;return this.p0.equals(a.p0)&&this.p1.equals(a.p1)},wt.prototype.intersection=function(o){var a=new Pe;return a.computeIntersection(this.p0,this.p1,o.p0,o.p1),a.hasIntersection()?a.getIntersection(0):null},wt.prototype.project=function(){if(arguments[0]instanceof C){var o=arguments[0];if(o.equals(this.p0)||o.equals(this.p1))return new C(o);var a=this.projectionFactor(o),l=new C;return l.x=this.p0.x+a*(this.p1.x-this.p0.x),l.y=this.p0.y+a*(this.p1.y-this.p0.y),l}if(arguments[0]instanceof wt){var f=arguments[0],p=this.projectionFactor(f.p0),v=this.projectionFactor(f.p1);if(p>=1&&v>=1||p<=0&&v<=0)return null;var E=this.project(f.p0);p<0&&(E=this.p0),p>1&&(E=this.p1);var I=this.project(f.p1);return v<0&&(I=this.p0),v>1&&(I=this.p1),new wt(E,I)}},wt.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},wt.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},wt.prototype.getCoordinate=function(o){return 0===o?this.p0:this.p1},wt.prototype.distancePerpendicular=function(o){return ke.distancePointLinePerpendicular(o,this.p0,this.p1)},wt.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},wt.prototype.midPoint=function(){return wt.midPoint(this.p0,this.p1)},wt.prototype.projectionFactor=function(o){if(o.equals(this.p0))return 0;if(o.equals(this.p1))return 1;var a=this.p1.x-this.p0.x,l=this.p1.y-this.p0.y,f=a*a+l*l;return f<=0?O.NaN:((o.x-this.p0.x)*a+(o.y-this.p0.y)*l)/f},wt.prototype.closestPoints=function(o){var a=this.intersection(o);if(null!==a)return[a,a];var l=new Array(2).fill(null),f=O.MAX_VALUE,p=null,v=this.closestPoint(o.p0);f=v.distance(o.p0),l[0]=v,l[1]=o.p0;var E=this.closestPoint(o.p1);(p=E.distance(o.p1))<f&&(f=p,l[0]=E,l[1]=o.p1);var I=o.closestPoint(this.p0);(p=I.distance(this.p0))<f&&(f=p,l[0]=this.p0,l[1]=I);var $=o.closestPoint(this.p1);return(p=$.distance(this.p1))<f&&(f=p,l[0]=this.p1,l[1]=$),l},wt.prototype.closestPoint=function(o){var a=this.projectionFactor(o);return a>0&&a<1?this.project(o):this.p0.distance(o)<this.p1.distance(o)?this.p0:this.p1},wt.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},wt.prototype.getLength=function(){return this.p0.distance(this.p1)},wt.prototype.compareTo=function(o){var a=o,l=this.p0.compareTo(a.p0);return 0!==l?l:this.p1.compareTo(a.p1)},wt.prototype.reverse=function(){var o=this.p0;this.p0=this.p1,this.p1=o},wt.prototype.equalsTopo=function(o){return this.p0.equals(o.p0)&&(this.p1.equals(o.p1)||this.p0.equals(o.p1))&&this.p1.equals(o.p0)},wt.prototype.lineIntersection=function(o){try{return ht.intersection(this.p0,this.p1,o.p0,o.p1)}catch(a){if(!(a instanceof dt))throw a}return null},wt.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},wt.prototype.pointAlongOffset=function(o,a){var l=this.p0.x+o*(this.p1.x-this.p0.x),f=this.p0.y+o*(this.p1.y-this.p0.y),p=this.p1.x-this.p0.x,v=this.p1.y-this.p0.y,E=Math.sqrt(p*p+v*v),I=0,$=0;if(0!==a){if(E<=0)throw new Error("Cannot compute offset from zero-length line segment");I=a*p/E,$=a*v/E}return new C(l-$,f+I)},wt.prototype.setCoordinates=function(){if(1===arguments.length){var o=arguments[0];this.setCoordinates(o.p0,o.p1)}else if(2===arguments.length){var a=arguments[0],l=arguments[1];this.p0.x=a.x,this.p0.y=a.y,this.p1.x=l.x,this.p1.y=l.y}},wt.prototype.segmentFraction=function(o){var a=this.projectionFactor(o);return a<0?a=0:(a>1||O.isNaN(a))&&(a=1),a},wt.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},wt.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},wt.prototype.distance=function(){if(arguments[0]instanceof wt){var o=arguments[0];return ke.distanceLineLine(this.p0,this.p1,o.p0,o.p1)}if(arguments[0]instanceof C)return ke.distancePointLine(arguments[0],this.p0,this.p1)},wt.prototype.pointAlong=function(o){var a=new C;return a.x=this.p0.x+o*(this.p1.x-this.p0.x),a.y=this.p0.y+o*(this.p1.y-this.p0.y),a},wt.prototype.hashCode=function(){var o=O.doubleToLongBits(this.p0.x);o^=31*O.doubleToLongBits(this.p0.y);var a=Math.trunc(o)^Math.trunc(o>>32),l=O.doubleToLongBits(this.p1.x);return l^=31*O.doubleToLongBits(this.p1.y),a^Math.trunc(l)^Math.trunc(l>>32)},wt.prototype.interfaces_=function(){return[S,H]},wt.prototype.getClass=function(){return wt},wt.midPoint=function(o,a){return new C((o.x+a.x)/2,(o.y+a.y)/2)},Ys.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(wt,Ys);var uo=function(){this.tempEnv1=new Ze,this.tempEnv2=new Ze,this._overlapSeg1=new wt,this._overlapSeg2=new wt};uo.prototype.overlap=function(){if(2!==arguments.length&&4===arguments.length){var l=arguments[2],f=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),l.getLineSegment(f,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},uo.prototype.interfaces_=function(){return[]},uo.prototype.getClass=function(){return uo};var lo=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var a=arguments[1],l=arguments[2],f=arguments[3];this._pts=arguments[0],this._start=a,this._end=l,this._context=f};lo.prototype.getLineSegment=function(o,a){a.p0=this._pts[o],a.p1=this._pts[o+1]},lo.prototype.computeSelect=function(o,a,l,f){if(f.tempEnv1.init(this._pts[a],this._pts[l]),l-a==1)return f.select(this,a),null;if(!o.intersects(f.tempEnv1))return null;var E=Math.trunc((a+l)/2);a<E&&this.computeSelect(o,a,E,f),E<l&&this.computeSelect(o,E,l,f)},lo.prototype.getCoordinates=function(){for(var o=new Array(this._end-this._start+1).fill(null),a=0,l=this._start;l<=this._end;l++)o[a++]=this._pts[l];return o},lo.prototype.computeOverlaps=function(o,a){this.computeOverlapsInternal(this._start,this._end,o,o._start,o._end,a)},lo.prototype.setId=function(o){this._id=o},lo.prototype.select=function(o,a){this.computeSelect(o,this._start,this._end,a)},lo.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Ze(this._pts[this._start],this._pts[this._end])),this._env},lo.prototype.getEndIndex=function(){return this._end},lo.prototype.getStartIndex=function(){return this._start},lo.prototype.getContext=function(){return this._context},lo.prototype.getId=function(){return this._id},lo.prototype.computeOverlapsInternal=function(o,a,l,f,p,v){var E=this._pts[o],I=this._pts[a],$=l._pts[f],oe=l._pts[p];if(a-o==1&&p-f==1)return v.overlap(this,o,l,f),null;if(v.tempEnv1.init(E,I),v.tempEnv2.init($,oe),!v.tempEnv1.intersects(v.tempEnv2))return null;var Te=Math.trunc((o+a)/2),Fe=Math.trunc((f+p)/2);o<Te&&(f<Fe&&this.computeOverlapsInternal(o,Te,l,f,Fe,v),Fe<p&&this.computeOverlapsInternal(o,Te,l,Fe,p,v)),Te<a&&(f<Fe&&this.computeOverlapsInternal(Te,a,l,f,Fe,v),Fe<p&&this.computeOverlapsInternal(Te,a,l,Fe,p,v))},lo.prototype.interfaces_=function(){return[]},lo.prototype.getClass=function(){return lo};var ps=function(){};ps.prototype.interfaces_=function(){return[]},ps.prototype.getClass=function(){return ps},ps.getChainStartIndices=function(o){var a=0,l=new Je;l.add(new de(a));do{var f=ps.findChainEnd(o,a);l.add(new de(f)),a=f}while(a<o.length-1);return ps.toIntArray(l)},ps.findChainEnd=function(o,a){for(var l=a;l<o.length-1&&o[l].equals2D(o[l+1]);)l++;if(l>=o.length-1)return o.length-1;for(var f=Jn.quadrant(o[l],o[l+1]),p=a+1;p<o.length&&(o[p-1].equals2D(o[p])||Jn.quadrant(o[p-1],o[p])===f);)p++;return p-1},ps.getChains=function(){if(1===arguments.length)return ps.getChains(arguments[0],null);if(2===arguments.length){for(var a=arguments[0],l=arguments[1],f=new Je,p=ps.getChainStartIndices(a),v=0;v<p.length-1;v++){var E=new lo(a,p[v],p[v+1],l);f.add(E)}return f}},ps.toIntArray=function(o){for(var a=new Array(o.size()).fill(null),l=0;l<a.length;l++)a[l]=o.get(l).intValue();return a};var Bi=function(){};Bi.prototype.computeNodes=function(o){},Bi.prototype.getNodedSubstrings=function(){},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi};var ir=function(){this._segInt=null,0!==arguments.length&&1===arguments.length&&this.setSegmentIntersector(arguments[0])};ir.prototype.setSegmentIntersector=function(o){this._segInt=o},ir.prototype.interfaces_=function(){return[Bi]},ir.prototype.getClass=function(){return ir};var dh=function(o){function a(f){f?o.call(this,f):o.call(this),this._monoChains=new Je,this._index=new zu,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a;var l={SegmentOverlapAction:{configurable:!0}};return a.prototype.getMonotoneChains=function(){return this._monoChains},a.prototype.getNodedSubstrings=function(){return wr.getNodedSubstrings(this._nodedSegStrings)},a.prototype.getIndex=function(){return this._index},a.prototype.add=function(f){for(var p=ps.getChains(f.getCoordinates(),f).iterator();p.hasNext();){var v=p.next();v.setId(this._idCounter++),this._index.insert(v.getEnvelope(),v),this._monoChains.add(v)}},a.prototype.computeNodes=function(f){this._nodedSegStrings=f;for(var p=f.iterator();p.hasNext();)this.add(p.next());this.intersectChains()},a.prototype.intersectChains=function(){for(var f=new ng(this._segInt),p=this._monoChains.iterator();p.hasNext();)for(var v=p.next(),E=this._index.query(v.getEnvelope()).iterator();E.hasNext();){var I=E.next();if(I.getId()>v.getId()&&(v.computeOverlaps(I,f),this._nOverlaps++),this._segInt.isDone())return null}},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},l.SegmentOverlapAction.get=function(){return ng},Object.defineProperties(a,l),a}(ir),ng=function(o){function a(){o.call(this),this._si=null,this._si=arguments[0]}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.overlap=function(){if(4!==arguments.length)return o.prototype.overlap.apply(this,arguments);var f=arguments[1],p=arguments[2],v=arguments[3],E=arguments[0].getContext(),I=p.getContext();this._si.processIntersections(E,f,I,v)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(uo),en=function o(){if(this._quadrantSegments=o.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=o.CAP_ROUND,this._joinStyle=o.JOIN_ROUND,this._mitreLimit=o.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=o.DEFAULT_SIMPLIFY_FACTOR,0!==arguments.length)if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var f=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(f)}else if(4===arguments.length){var v=arguments[1],E=arguments[2],I=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(v),this.setJoinStyle(E),this.setMitreLimit(I)}},on={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};en.prototype.getEndCapStyle=function(){return this._endCapStyle},en.prototype.isSingleSided=function(){return this._isSingleSided},en.prototype.setQuadrantSegments=function(o){this._quadrantSegments=o,0===this._quadrantSegments&&(this._joinStyle=en.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=en.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),o<=0&&(this._quadrantSegments=1),this._joinStyle!==en.JOIN_ROUND&&(this._quadrantSegments=en.DEFAULT_QUADRANT_SEGMENTS)},en.prototype.getJoinStyle=function(){return this._joinStyle},en.prototype.setJoinStyle=function(o){this._joinStyle=o},en.prototype.setSimplifyFactor=function(o){this._simplifyFactor=o<0?0:o},en.prototype.getSimplifyFactor=function(){return this._simplifyFactor},en.prototype.getQuadrantSegments=function(){return this._quadrantSegments},en.prototype.setEndCapStyle=function(o){this._endCapStyle=o},en.prototype.getMitreLimit=function(){return this._mitreLimit},en.prototype.setMitreLimit=function(o){this._mitreLimit=o},en.prototype.setSingleSided=function(o){this._isSingleSided=o},en.prototype.interfaces_=function(){return[]},en.prototype.getClass=function(){return en},en.bufferDistanceError=function(o){var a=Math.PI/2/o;return 1-Math.cos(a/2)},on.CAP_ROUND.get=function(){return 1},on.CAP_FLAT.get=function(){return 2},on.CAP_SQUARE.get=function(){return 3},on.JOIN_ROUND.get=function(){return 1},on.JOIN_MITRE.get=function(){return 2},on.JOIN_BEVEL.get=function(){return 3},on.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},on.DEFAULT_MITRE_LIMIT.get=function(){return 5},on.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(en,on);var lr=function(o){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ke.COUNTERCLOCKWISE,this._inputLine=o||null},Ba={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};lr.prototype.isDeletable=function(o,a,l,f){var p=this._inputLine[o],v=this._inputLine[a],E=this._inputLine[l];return!!this.isConcave(p,v,E)&&!!this.isShallow(p,v,E,f)&&this.isShallowSampled(p,v,o,l,f)},lr.prototype.deleteShallowConcavities=function(){for(var o=1,a=this.findNextNonDeletedIndex(o),l=this.findNextNonDeletedIndex(a),f=!1;l<this._inputLine.length;){var p=!1;this.isDeletable(o,a,l,this._distanceTol)&&(this._isDeleted[a]=lr.DELETE,p=!0,f=!0),a=this.findNextNonDeletedIndex(o=p?l:a),l=this.findNextNonDeletedIndex(a)}return f},lr.prototype.isShallowConcavity=function(o,a,l,f){return ke.computeOrientation(o,a,l)===this._angleOrientation&&ke.distancePointLine(a,o,l)<f},lr.prototype.isShallowSampled=function(o,a,l,f,p){var v=Math.trunc((f-l)/lr.NUM_PTS_TO_CHECK);v<=0&&(v=1);for(var E=l;E<f;E+=v)if(!this.isShallow(o,a,this._inputLine[E],p))return!1;return!0},lr.prototype.isConcave=function(o,a,l){return ke.computeOrientation(o,a,l)===this._angleOrientation},lr.prototype.simplify=function(o){this._distanceTol=Math.abs(o),o<0&&(this._angleOrientation=ke.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var a=!1;do{a=this.deleteShallowConcavities()}while(a);return this.collapseLine()},lr.prototype.findNextNonDeletedIndex=function(o){for(var a=o+1;a<this._inputLine.length&&this._isDeleted[a]===lr.DELETE;)a++;return a},lr.prototype.isShallow=function(o,a,l,f){return ke.distancePointLine(a,o,l)<f},lr.prototype.collapseLine=function(){for(var o=new oo,a=0;a<this._inputLine.length;a++)this._isDeleted[a]!==lr.DELETE&&o.add(this._inputLine[a]);return o.toCoordinateArray()},lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr},lr.simplify=function(o,a){return new lr(o).simplify(a)},Ba.INIT.get=function(){return 0},Ba.DELETE.get=function(){return 1},Ba.KEEP.get=function(){return 1},Ba.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(lr,Ba);var Vi=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Je},bc={COORDINATE_ARRAY_TYPE:{configurable:!0}};Vi.prototype.getCoordinates=function(){return this._ptList.toArray(Vi.COORDINATE_ARRAY_TYPE)},Vi.prototype.setPrecisionModel=function(o){this._precisionModel=o},Vi.prototype.addPt=function(o){var a=new C(o);if(this._precisionModel.makePrecise(a),this.isRedundant(a))return null;this._ptList.add(a)},Vi.prototype.revere=function(){},Vi.prototype.addPts=function(o,a){if(a)for(var l=0;l<o.length;l++)this.addPt(o[l]);else for(var f=o.length-1;f>=0;f--)this.addPt(o[f])},Vi.prototype.isRedundant=function(o){if(this._ptList.size()<1)return!1;var a=this._ptList.get(this._ptList.size()-1);return o.distance(a)<this._minimimVertexDistance},Vi.prototype.toString=function(){return(new Ne).createLineString(this.getCoordinates()).toString()},Vi.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var o=new C(this._ptList.get(0)),a=this._ptList.get(this._ptList.size()-1);if(o.equals(a))return null;this._ptList.add(o)},Vi.prototype.setMinimumVertexDistance=function(o){this._minimimVertexDistance=o},Vi.prototype.interfaces_=function(){return[]},Vi.prototype.getClass=function(){return Vi},bc.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Vi,bc);var zt=function(){},gs={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};zt.prototype.interfaces_=function(){return[]},zt.prototype.getClass=function(){return zt},zt.toDegrees=function(o){return 180*o/Math.PI},zt.normalize=function(o){for(;o>Math.PI;)o-=zt.PI_TIMES_2;for(;o<=-Math.PI;)o+=zt.PI_TIMES_2;return o},zt.angle=function(){if(1===arguments.length){var o=arguments[0];return Math.atan2(o.y,o.x)}if(2===arguments.length){var a=arguments[0],l=arguments[1];return Math.atan2(l.y-a.y,l.x-a.x)}},zt.isAcute=function(o,a,l){return(o.x-a.x)*(l.x-a.x)+(o.y-a.y)*(l.y-a.y)>0},zt.isObtuse=function(o,a,l){return(o.x-a.x)*(l.x-a.x)+(o.y-a.y)*(l.y-a.y)<0},zt.interiorAngle=function(o,a,l){var f=zt.angle(a,o),p=zt.angle(a,l);return Math.abs(p-f)},zt.normalizePositive=function(o){if(o<0){for(;o<0;)o+=zt.PI_TIMES_2;o>=zt.PI_TIMES_2&&(o=0)}else{for(;o>=zt.PI_TIMES_2;)o-=zt.PI_TIMES_2;o<0&&(o=0)}return o},zt.angleBetween=function(o,a,l){var f=zt.angle(a,o),p=zt.angle(a,l);return zt.diff(f,p)},zt.diff=function(o,a){var l=null;return(l=o<a?a-o:o-a)>Math.PI&&(l=2*Math.PI-l),l},zt.toRadians=function(o){return o*Math.PI/180},zt.getTurn=function(o,a){var l=Math.sin(a-o);return l>0?zt.COUNTERCLOCKWISE:l<0?zt.CLOCKWISE:zt.NONE},zt.angleBetweenOriented=function(o,a,l){var f=zt.angle(a,o),p=zt.angle(a,l)-f;return p<=-Math.PI?p+zt.PI_TIMES_2:p>Math.PI?p-zt.PI_TIMES_2:p},gs.PI_TIMES_2.get=function(){return 2*Math.PI},gs.PI_OVER_2.get=function(){return Math.PI/2},gs.PI_OVER_4.get=function(){return Math.PI/4},gs.COUNTERCLOCKWISE.get=function(){return ke.COUNTERCLOCKWISE},gs.CLOCKWISE.get=function(){return ke.CLOCKWISE},gs.NONE.get=function(){return ke.COLLINEAR},Object.defineProperties(zt,gs);var cr=function o(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new wt,this._seg1=new wt,this._offset0=new wt,this._offset1=new wt,this._side=0,this._hasNarrowConcaveAngle=!1;var l=arguments[1],f=arguments[2];this._precisionModel=arguments[0],this._bufParams=l,this._li=new Pe,this._filletAngleQuantum=Math.PI/2/l.getQuadrantSegments(),l.getQuadrantSegments()>=8&&l.getJoinStyle()===en.JOIN_ROUND&&(this._closingSegLengthFactor=o.MAX_CLOSING_SEG_LEN_FACTOR),this.init(f)},la={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};cr.prototype.addNextSegment=function(o,a){if(this._s0=this._s1,this._s1=this._s2,this._s2=o,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var l=ke.computeOrientation(this._s0,this._s1,this._s2),f=l===ke.CLOCKWISE&&this._side===Ue.LEFT||l===ke.COUNTERCLOCKWISE&&this._side===Ue.RIGHT;0===l?this.addCollinear(a):f?this.addOutsideTurn(l,a):this.addInsideTurn(l,a)},cr.prototype.addLineEndCap=function(o,a){var l=new wt(o,a),f=new wt;this.computeOffsetSegment(l,Ue.LEFT,this._distance,f);var p=new wt;this.computeOffsetSegment(l,Ue.RIGHT,this._distance,p);var I=Math.atan2(a.y-o.y,a.x-o.x);switch(this._bufParams.getEndCapStyle()){case en.CAP_ROUND:this._segList.addPt(f.p1),this.addFilletArc(a,I+Math.PI/2,I-Math.PI/2,ke.CLOCKWISE,this._distance),this._segList.addPt(p.p1);break;case en.CAP_FLAT:this._segList.addPt(f.p1),this._segList.addPt(p.p1);break;case en.CAP_SQUARE:var $=new C;$.x=Math.abs(this._distance)*Math.cos(I),$.y=Math.abs(this._distance)*Math.sin(I);var oe=new C(f.p1.x+$.x,f.p1.y+$.y),Te=new C(p.p1.x+$.x,p.p1.y+$.y);this._segList.addPt(oe),this._segList.addPt(Te)}},cr.prototype.getCoordinates=function(){return this._segList.getCoordinates()},cr.prototype.addMitreJoin=function(o,a,l,f){var p=!0,v=null;try{v=ht.intersection(a.p0,a.p1,l.p0,l.p1),(f<=0?1:v.distance(o)/Math.abs(f))>this._bufParams.getMitreLimit()&&(p=!1)}catch(E){if(!(E instanceof dt))throw E;v=new C(0,0),p=!1}p?this._segList.addPt(v):this.addLimitedMitreJoin(a,l,f,this._bufParams.getMitreLimit())},cr.prototype.addFilletCorner=function(o,a,l,f,p){var I=Math.atan2(a.y-o.y,a.x-o.x),Te=Math.atan2(l.y-o.y,l.x-o.x);f===ke.CLOCKWISE?I<=Te&&(I+=2*Math.PI):I>=Te&&(I-=2*Math.PI),this._segList.addPt(a),this.addFilletArc(o,I,Te,f,p),this._segList.addPt(l)},cr.prototype.addOutsideTurn=function(o,a){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*cr.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===en.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===en.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(a&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,o,this._distance),this._segList.addPt(this._offset1.p0))},cr.prototype.createSquare=function(o){this._segList.addPt(new C(o.x+this._distance,o.y+this._distance)),this._segList.addPt(new C(o.x+this._distance,o.y-this._distance)),this._segList.addPt(new C(o.x-this._distance,o.y-this._distance)),this._segList.addPt(new C(o.x-this._distance,o.y+this._distance)),this._segList.closeRing()},cr.prototype.addSegments=function(o,a){this._segList.addPts(o,a)},cr.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},cr.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},cr.prototype.initSideSegments=function(o,a,l){this._s1=o,this._s2=a,this._side=l,this._seg1.setCoordinates(o,a),this.computeOffsetSegment(this._seg1,l,this._distance,this._offset1)},cr.prototype.addLimitedMitreJoin=function(o,a,l,f){var p=this._seg0.p1,v=zt.angle(p,this._seg0.p0),E=zt.angleBetweenOriented(this._seg0.p0,p,this._seg1.p1)/2,I=zt.normalize(v+E),$=zt.normalize(I+Math.PI),oe=f*l,Te=l-oe*Math.abs(Math.sin(E)),Fe=p.x+oe*Math.cos($),Qe=p.y+oe*Math.sin($),ot=new C(Fe,Qe),ft=new wt(p,ot),It=ft.pointAlongOffset(1,Te),jn=ft.pointAlongOffset(1,-Te);this._side===Ue.LEFT?(this._segList.addPt(It),this._segList.addPt(jn)):(this._segList.addPt(jn),this._segList.addPt(It))},cr.prototype.computeOffsetSegment=function(o,a,l,f){var p=a===Ue.LEFT?1:-1,v=o.p1.x-o.p0.x,E=o.p1.y-o.p0.y,I=Math.sqrt(v*v+E*E),$=p*l*v/I,oe=p*l*E/I;f.p0.x=o.p0.x-oe,f.p0.y=o.p0.y+$,f.p1.x=o.p1.x-oe,f.p1.y=o.p1.y+$},cr.prototype.addFilletArc=function(o,a,l,f,p){var v=f===ke.CLOCKWISE?-1:1,E=Math.abs(a-l),I=Math.trunc(E/this._filletAngleQuantum+.5);if(I<1)return null;for(var $=E/I,oe=0,Te=new C;oe<E;){var Fe=a+v*oe;Te.x=o.x+p*Math.cos(Fe),Te.y=o.y+p*Math.sin(Fe),this._segList.addPt(Te),oe+=$}},cr.prototype.addInsideTurn=function(o,a){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*cr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var l=new C((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(l);var f=new C((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(f)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},cr.prototype.createCircle=function(o){var a=new C(o.x+this._distance,o.y);this._segList.addPt(a),this.addFilletArc(o,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},cr.prototype.addBevelJoin=function(o,a){this._segList.addPt(o.p1),this._segList.addPt(a.p0)},cr.prototype.init=function(o){this._distance=o,this._maxCurveSegmentError=o*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Vi,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(o*cr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},cr.prototype.addCollinear=function(o){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===en.JOIN_BEVEL||this._bufParams.getJoinStyle()===en.JOIN_MITRE?(o&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ke.CLOCKWISE,this._distance))},cr.prototype.closeRing=function(){this._segList.closeRing()},cr.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},la.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},la.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},la.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},la.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(cr,la);var Ui=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var a=arguments[1];this._precisionModel=arguments[0],this._bufParams=a};Ui.prototype.getOffsetCurve=function(o,a){if(this._distance=a,0===a)return null;var l=a<0,f=Math.abs(a),p=this.getSegGen(f);o.length<=1?this.computePointCurve(o[0],p):this.computeOffsetCurve(o,l,p);var v=p.getCoordinates();return l&&Ut.reverse(v),v},Ui.prototype.computeSingleSidedBufferCurve=function(o,a,l){var f=this.simplifyTolerance(this._distance);if(a){l.addSegments(o,!0);var p=lr.simplify(o,-f),v=p.length-1;l.initSideSegments(p[v],p[v-1],Ue.LEFT),l.addFirstSegment();for(var E=v-2;E>=0;E--)l.addNextSegment(p[E],!0)}else{l.addSegments(o,!1);var I=lr.simplify(o,f),$=I.length-1;l.initSideSegments(I[0],I[1],Ue.LEFT),l.addFirstSegment();for(var oe=2;oe<=$;oe++)l.addNextSegment(I[oe],!0)}l.addLastSegment(),l.closeRing()},Ui.prototype.computeRingBufferCurve=function(o,a,l){var f=this.simplifyTolerance(this._distance);a===Ue.RIGHT&&(f=-f);var p=lr.simplify(o,f),v=p.length-1;l.initSideSegments(p[v-1],p[0],a);for(var E=1;E<=v;E++)l.addNextSegment(p[E],1!==E);l.closeRing()},Ui.prototype.computeLineBufferCurve=function(o,a){var l=this.simplifyTolerance(this._distance),f=lr.simplify(o,l),p=f.length-1;a.initSideSegments(f[0],f[1],Ue.LEFT);for(var v=2;v<=p;v++)a.addNextSegment(f[v],!0);a.addLastSegment(),a.addLineEndCap(f[p-1],f[p]);var E=lr.simplify(o,-l),I=E.length-1;a.initSideSegments(E[I],E[I-1],Ue.LEFT);for(var $=I-2;$>=0;$--)a.addNextSegment(E[$],!0);a.addLastSegment(),a.addLineEndCap(E[1],E[0]),a.closeRing()},Ui.prototype.computePointCurve=function(o,a){switch(this._bufParams.getEndCapStyle()){case en.CAP_ROUND:a.createCircle(o);break;case en.CAP_SQUARE:a.createSquare(o)}},Ui.prototype.getLineCurve=function(o,a){if(this._distance=a,a<0&&!this._bufParams.isSingleSided()||0===a)return null;var l=Math.abs(a),f=this.getSegGen(l);return o.length<=1?this.computePointCurve(o[0],f):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(o,a<0,f):this.computeLineBufferCurve(o,f),f.getCoordinates()},Ui.prototype.getBufferParameters=function(){return this._bufParams},Ui.prototype.simplifyTolerance=function(o){return o*this._bufParams.getSimplifyFactor()},Ui.prototype.getRingCurve=function(o,a,l){if(this._distance=l,o.length<=2)return this.getLineCurve(o,l);if(0===l)return Ui.copyCoordinates(o);var f=this.getSegGen(l);return this.computeRingBufferCurve(o,a,f),f.getCoordinates()},Ui.prototype.computeOffsetCurve=function(o,a,l){var f=this.simplifyTolerance(this._distance);if(a){var p=lr.simplify(o,-f),v=p.length-1;l.initSideSegments(p[v],p[v-1],Ue.LEFT),l.addFirstSegment();for(var E=v-2;E>=0;E--)l.addNextSegment(p[E],!0)}else{var I=lr.simplify(o,f),$=I.length-1;l.initSideSegments(I[0],I[1],Ue.LEFT),l.addFirstSegment();for(var oe=2;oe<=$;oe++)l.addNextSegment(I[oe],!0)}l.addLastSegment()},Ui.prototype.getSegGen=function(o){return new cr(this._precisionModel,this._bufParams,o)},Ui.prototype.interfaces_=function(){return[]},Ui.prototype.getClass=function(){return Ui},Ui.copyCoordinates=function(o){for(var a=new Array(o.length).fill(null),l=0;l<a.length;l++)a[l]=new C(o[l]);return a};var ca=function(){this._subgraphs=null,this._seg=new wt,this._cga=new ke,this._subgraphs=arguments[0]},Mc={DepthSegment:{configurable:!0}};ca.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var o=arguments[0],a=new Je,l=this._subgraphs.iterator();l.hasNext();){var f=l.next(),p=f.getEnvelope();o.y<p.getMinY()||o.y>p.getMaxY()||this.findStabbedSegments(o,f.getDirectedEdges(),a)}return a}if(3===arguments.length)if(Me(arguments[2],nr)&&arguments[0]instanceof C&&arguments[1]instanceof hh){for(var v=arguments[0],E=arguments[1],I=arguments[2],$=E.getEdge().getCoordinates(),oe=0;oe<$.length-1;oe++)if(this._seg.p0=$[oe],this._seg.p1=$[oe+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<v.x||this._seg.isHorizontal()||v.y<this._seg.p0.y||v.y>this._seg.p1.y||ke.computeOrientation(this._seg.p0,this._seg.p1,v)===ke.RIGHT)){var Te=E.getDepth(Ue.LEFT);this._seg.p0.equals($[oe])||(Te=E.getDepth(Ue.RIGHT));var Fe=new oi(this._seg,Te);I.add(Fe)}}else if(Me(arguments[2],nr)&&arguments[0]instanceof C&&Me(arguments[1],nr))for(var Qe=arguments[0],ft=arguments[2],It=arguments[1].iterator();It.hasNext();){var jn=It.next();jn.isForward()&&this.findStabbedSegments(Qe,jn,ft)}},ca.prototype.getDepth=function(o){var a=this.findStabbedSegments(o);return 0===a.size()?0:Qi.min(a)._leftDepth},ca.prototype.interfaces_=function(){return[]},ca.prototype.getClass=function(){return ca},Mc.DepthSegment.get=function(){return oi},Object.defineProperties(ca,Mc);var oi=function(){this._upwardSeg=null,this._leftDepth=null;var a=arguments[1];this._upwardSeg=new wt(arguments[0]),this._leftDepth=a};oi.prototype.compareTo=function(o){var a=o;if(this._upwardSeg.minX()>=a._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=a._upwardSeg.minX())return-1;var l=this._upwardSeg.orientationIndex(a._upwardSeg);return 0!==l||0!=(l=-1*a._upwardSeg.orientationIndex(this._upwardSeg))?l:this._upwardSeg.compareTo(a._upwardSeg)},oi.prototype.compareX=function(o,a){var l=o.p0.compareTo(a.p0);return 0!==l?l:o.p1.compareTo(a.p1)},oi.prototype.toString=function(){return this._upwardSeg.toString()},oi.prototype.interfaces_=function(){return[S]},oi.prototype.getClass=function(){return oi};var ln=function(o,a,l){this.p0=o||null,this.p1=a||null,this.p2=l||null};ln.prototype.area=function(){return ln.area(this.p0,this.p1,this.p2)},ln.prototype.signedArea=function(){return ln.signedArea(this.p0,this.p1,this.p2)},ln.prototype.interpolateZ=function(o){if(null===o)throw new T("Supplied point is null.");return ln.interpolateZ(o,this.p0,this.p1,this.p2)},ln.prototype.longestSideLength=function(){return ln.longestSideLength(this.p0,this.p1,this.p2)},ln.prototype.isAcute=function(){return ln.isAcute(this.p0,this.p1,this.p2)},ln.prototype.circumcentre=function(){return ln.circumcentre(this.p0,this.p1,this.p2)},ln.prototype.area3D=function(){return ln.area3D(this.p0,this.p1,this.p2)},ln.prototype.centroid=function(){return ln.centroid(this.p0,this.p1,this.p2)},ln.prototype.inCentre=function(){return ln.inCentre(this.p0,this.p1,this.p2)},ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln},ln.area=function(o,a,l){return Math.abs(((l.x-o.x)*(a.y-o.y)-(a.x-o.x)*(l.y-o.y))/2)},ln.signedArea=function(o,a,l){return((l.x-o.x)*(a.y-o.y)-(a.x-o.x)*(l.y-o.y))/2},ln.det=function(o,a,l,f){return o*f-a*l},ln.interpolateZ=function(o,a,l,f){var p=a.x,v=a.y,E=l.x-p,I=f.x-p,$=l.y-v,oe=f.y-v,Te=E*oe-I*$,Fe=o.x-p,Qe=o.y-v;return a.z+(oe*Fe-I*Qe)/Te*(l.z-a.z)+(-$*Fe+E*Qe)/Te*(f.z-a.z)},ln.longestSideLength=function(o,a,l){var f=o.distance(a),p=a.distance(l),v=l.distance(o),E=f;return p>E&&(E=p),v>E&&(E=v),E},ln.isAcute=function(o,a,l){return!!zt.isAcute(o,a,l)&&!!zt.isAcute(a,l,o)&&!!zt.isAcute(l,o,a)},ln.circumcentre=function(o,a,l){var f=l.x,p=l.y,v=o.x-f,E=o.y-p,I=a.x-f,$=a.y-p,oe=2*ln.det(v,E,I,$),Te=ln.det(E,v*v+E*E,$,I*I+$*$),Fe=ln.det(v,v*v+E*E,I,I*I+$*$);return new C(f-Te/oe,p+Fe/oe)},ln.perpendicularBisector=function(o,a){var l=a.x-o.x,f=a.y-o.y,p=new ht(o.x+l/2,o.y+f/2,1),v=new ht(o.x-f+l/2,o.y+l+f/2,1);return new ht(p,v)},ln.angleBisector=function(o,a,l){var f=a.distance(o),p=f/(f+a.distance(l));return new C(o.x+p*(l.x-o.x),o.y+p*(l.y-o.y))},ln.area3D=function(o,a,l){var f=a.x-o.x,p=a.y-o.y,v=a.z-o.z,E=l.x-o.x,I=l.y-o.y,$=l.z-o.z,oe=p*$-v*I,Te=v*E-f*$,Fe=f*I-p*E;return Math.sqrt(oe*oe+Te*Te+Fe*Fe)/2},ln.centroid=function(o,a,l){return new C((o.x+a.x+l.x)/3,(o.y+a.y+l.y)/3)},ln.inCentre=function(o,a,l){var f=a.distance(l),p=o.distance(l),v=o.distance(a),E=f+p+v;return new C((f*o.x+p*a.x+v*l.x)/E,(f*o.y+p*a.y+v*l.y)/E)};var co=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Je;var a=arguments[1],l=arguments[2];this._inputGeom=arguments[0],this._distance=a,this._curveBuilder=l};co.prototype.addPoint=function(o){if(this._distance<=0)return null;var a=o.getCoordinates(),l=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(l,V.EXTERIOR,V.INTERIOR)},co.prototype.addPolygon=function(o){var a=this._distance,l=Ue.LEFT;this._distance<0&&(a=-this._distance,l=Ue.RIGHT);var f=o.getExteriorRing(),p=Ut.removeRepeatedPoints(f.getCoordinates());if(this._distance<0&&this.isErodedCompletely(f,this._distance)||this._distance<=0&&p.length<3)return null;this.addPolygonRing(p,a,l,V.EXTERIOR,V.INTERIOR);for(var v=0;v<o.getNumInteriorRing();v++){var E=o.getInteriorRingN(v),I=Ut.removeRepeatedPoints(E.getCoordinates());this._distance>0&&this.isErodedCompletely(E,-this._distance)||this.addPolygonRing(I,a,Ue.opposite(l),V.INTERIOR,V.EXTERIOR)}},co.prototype.isTriangleErodedCompletely=function(o,a){var l=new ln(o[0],o[1],o[2]),f=l.inCentre();return ke.distancePointLine(f,l.p0,l.p1)<Math.abs(a)},co.prototype.addLineString=function(o){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var a=Ut.removeRepeatedPoints(o.getCoordinates()),l=this._curveBuilder.getLineCurve(a,this._distance);this.addCurve(l,V.EXTERIOR,V.INTERIOR)},co.prototype.addCurve=function(o,a,l){if(null===o||o.length<2)return null;var f=new wr(o,new Yt(0,V.BOUNDARY,a,l));this._curveList.add(f)},co.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},co.prototype.addPolygonRing=function(o,a,l,f,p){if(0===a&&o.length<xi.MINIMUM_VALID_SIZE)return null;var v=f,E=p;o.length>=xi.MINIMUM_VALID_SIZE&&ke.isCCW(o)&&(v=p,E=f,l=Ue.opposite(l));var I=this._curveBuilder.getRingCurve(o,l,a);this.addCurve(I,v,E)},co.prototype.add=function(o){if(o.isEmpty())return null;o instanceof rr?this.addPolygon(o):o instanceof gr?this.addLineString(o):o instanceof Si?this.addPoint(o):(o instanceof Uo||o instanceof As||o instanceof So||o instanceof ni)&&this.addCollection(o)},co.prototype.isErodedCompletely=function(o,a){var l=o.getCoordinates();if(l.length<4)return a<0;if(4===l.length)return this.isTriangleErodedCompletely(l,a);var f=o.getEnvelopeInternal(),p=Math.min(f.getHeight(),f.getWidth());return a<0&&2*Math.abs(a)>p},co.prototype.addCollection=function(o){for(var a=0;a<o.getNumGeometries();a++){var l=o.getGeometryN(a);this.add(l)}},co.prototype.interfaces_=function(){return[]},co.prototype.getClass=function(){return co};var Lt=function(){};Lt.prototype.locate=function(o){},Lt.prototype.interfaces_=function(){return[]},Lt.prototype.getClass=function(){return Lt};var Or=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var o=arguments[0];this._parent=o,this._atStart=!0,this._index=0,this._max=o.getNumGeometries()};Or.prototype.next=function(){if(this._atStart)return this._atStart=!1,Or.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new fe;var o=this._parent.getGeometryN(this._index++);return o instanceof ni?(this._subcollectionIterator=new Or(o),this._subcollectionIterator.next()):o},Or.prototype.remove=function(){throw new Error(this.getClass().getName())},Or.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Or.prototype.interfaces_=function(){return[Zi]},Or.prototype.getClass=function(){return Or},Or.isAtomic=function(o){return!(o instanceof ni)};var Kt=function(){this._geom=null,this._geom=arguments[0]};Kt.prototype.locate=function(o){return Kt.locate(o,this._geom)},Kt.prototype.interfaces_=function(){return[Lt]},Kt.prototype.getClass=function(){return Kt},Kt.isPointInRing=function(o,a){return!!a.getEnvelopeInternal().intersects(o)&&ke.isPointInRing(o,a.getCoordinates())},Kt.containsPointInPolygon=function(o,a){if(a.isEmpty())return!1;var l=a.getExteriorRing();if(!Kt.isPointInRing(o,l))return!1;for(var f=0;f<a.getNumInteriorRing();f++){var p=a.getInteriorRingN(f);if(Kt.isPointInRing(o,p))return!1}return!0},Kt.containsPoint=function(o,a){if(a instanceof rr)return Kt.containsPointInPolygon(o,a);if(a instanceof ni)for(var l=new Or(a);l.hasNext();){var f=l.next();if(f!==a&&Kt.containsPoint(o,f))return!0}return!1},Kt.locate=function(o,a){return a.isEmpty()?V.EXTERIOR:Kt.containsPoint(o,a)?V.INTERIOR:V.EXTERIOR};var Wn=function(){this._edgeMap=new ge,this._edgeList=null,this._ptInAreaLocation=[V.NONE,V.NONE]};Wn.prototype.getNextCW=function(o){this.getEdges();var a=this._edgeList.indexOf(o),l=a-1;return 0===a&&(l=this._edgeList.size()-1),this._edgeList.get(l)},Wn.prototype.propagateSideLabels=function(o){for(var a=V.NONE,l=this.iterator();l.hasNext();){var f=l.next().getLabel();f.isArea(o)&&f.getLocation(o,Ue.LEFT)!==V.NONE&&(a=f.getLocation(o,Ue.LEFT))}if(a===V.NONE)return null;for(var p=a,v=this.iterator();v.hasNext();){var E=v.next(),I=E.getLabel();if(I.getLocation(o,Ue.ON)===V.NONE&&I.setLocation(o,Ue.ON,p),I.isArea(o)){var $=I.getLocation(o,Ue.LEFT),oe=I.getLocation(o,Ue.RIGHT);if(oe!==V.NONE){if(oe!==p)throw new Ki("side location conflict",E.getCoordinate());$===V.NONE&&P.shouldNeverReachHere("found single null side (at "+E.getCoordinate()+")"),p=$}else P.isTrue(I.getLocation(o,Ue.LEFT)===V.NONE,"found single null side"),I.setLocation(o,Ue.RIGHT,p),I.setLocation(o,Ue.LEFT,p)}}},Wn.prototype.getCoordinate=function(){var o=this.iterator();return o.hasNext()?o.next().getCoordinate():null},Wn.prototype.print=function(o){Xe.out.println("EdgeEndStar:   "+this.getCoordinate());for(var a=this.iterator();a.hasNext();)a.next().print(o)},Wn.prototype.isAreaLabelsConsistent=function(o){return this.computeEdgeEndLabels(o.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Wn.prototype.checkAreaLabelsConsistent=function(o){var a=this.getEdges();if(a.size()<=0)return!0;var l=a.size()-1,f=a.get(l).getLabel().getLocation(o,Ue.LEFT);P.isTrue(f!==V.NONE,"Found unlabelled area edge");for(var p=f,v=this.iterator();v.hasNext();){var E=v.next().getLabel();P.isTrue(E.isArea(o),"Found non-area edge");var I=E.getLocation(o,Ue.LEFT),$=E.getLocation(o,Ue.RIGHT);if(I===$||$!==p)return!1;p=I}return!0},Wn.prototype.findIndex=function(o){this.iterator();for(var a=0;a<this._edgeList.size();a++)if(this._edgeList.get(a)===o)return a;return-1},Wn.prototype.iterator=function(){return this.getEdges().iterator()},Wn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Je(this._edgeMap.values())),this._edgeList},Wn.prototype.getLocation=function(o,a,l){return this._ptInAreaLocation[o]===V.NONE&&(this._ptInAreaLocation[o]=Kt.locate(a,l[o].getGeometry())),this._ptInAreaLocation[o]},Wn.prototype.toString=function(){var o=new q;o.append("EdgeEndStar:   "+this.getCoordinate()),o.append("\n");for(var a=this.iterator();a.hasNext();){var l=a.next();o.append(l),o.append("\n")}return o.toString()},Wn.prototype.computeEdgeEndLabels=function(o){for(var a=this.iterator();a.hasNext();)a.next().computeLabel(o)},Wn.prototype.computeLabelling=function(o){this.computeEdgeEndLabels(o[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var a=[!1,!1],l=this.iterator();l.hasNext();)for(var f=l.next().getLabel(),p=0;p<2;p++)f.isLine(p)&&f.getLocation(p)===V.BOUNDARY&&(a[p]=!0);for(var v=this.iterator();v.hasNext();)for(var E=v.next(),I=E.getLabel(),$=0;$<2;$++)if(I.isAnyNull($)){var oe=V.NONE;if(a[$])oe=V.EXTERIOR;else{var Te=E.getCoordinate();oe=this.getLocation($,Te,o)}I.setAllLocationsIfNull($,oe)}},Wn.prototype.getDegree=function(){return this._edgeMap.size()},Wn.prototype.insertEdgeEnd=function(o,a){this._edgeMap.put(o,a),this._edgeList=null},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var fo=function(o){function a(){o.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var l=null,f=null,p=this._SCANNING_FOR_INCOMING,v=0;v<this._resultAreaEdgeList.size();v++){var E=this._resultAreaEdgeList.get(v),I=E.getSym();if(E.getLabel().isArea())switch(null===l&&E.isInResult()&&(l=E),p){case this._SCANNING_FOR_INCOMING:if(!I.isInResult())continue;f=I,p=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!E.isInResult())continue;f.setNext(E),p=this._SCANNING_FOR_INCOMING}}if(p===this._LINKING_TO_OUTGOING){if(null===l)throw new Ki("no outgoing dirEdge found",this.getCoordinate());P.isTrue(l.isInResult(),"unable to link last incoming dirEdge"),f.setNext(l)}},a.prototype.insert=function(l){this.insertEdgeEnd(l,l)},a.prototype.getRightmostEdge=function(){var l=this.getEdges(),f=l.size();if(f<1)return null;var p=l.get(0);if(1===f)return p;var v=l.get(f-1),E=p.getQuadrant(),I=v.getQuadrant();return Jn.isNorthern(E)&&Jn.isNorthern(I)?p:Jn.isNorthern(E)||Jn.isNorthern(I)?0!==p.getDy()?p:0!==v.getDy()?v:(P.shouldNeverReachHere("found two horizontal edges incident on node"),null):v},a.prototype.print=function(l){Xe.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var f=this.iterator();f.hasNext();){var p=f.next();l.print("out "),p.print(l),l.println(),l.print("in "),p.getSym().print(l),l.println()}},a.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Je;for(var l=this.iterator();l.hasNext();){var f=l.next();(f.isInResult()||f.getSym().isInResult())&&this._resultAreaEdgeList.add(f)}return this._resultAreaEdgeList},a.prototype.updateLabelling=function(l){for(var f=this.iterator();f.hasNext();){var p=f.next().getLabel();p.setAllLocationsIfNull(0,l.getLocation(0)),p.setAllLocationsIfNull(1,l.getLocation(1))}},a.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var l=null,f=null,p=this._edgeList.size()-1;p>=0;p--){var v=this._edgeList.get(p),E=v.getSym();null===f&&(f=E),null!==l&&E.setNext(l),l=v}f.setNext(l)},a.prototype.computeDepths=function(){if(1===arguments.length){var l=arguments[0],f=this.findIndex(l),p=l.getDepth(Ue.LEFT),v=l.getDepth(Ue.RIGHT),E=this.computeDepths(f+1,this._edgeList.size(),p);if(this.computeDepths(0,f,E)!==v)throw new Ki("depth mismatch at "+l.getCoordinate())}else if(3===arguments.length){for(var $=arguments[1],oe=arguments[2],Te=arguments[0];Te<$;Te++){var Fe=this._edgeList.get(Te);Fe.setEdgeDepths(Ue.RIGHT,oe),oe=Fe.getDepth(Ue.LEFT)}return oe}},a.prototype.mergeSymLabels=function(){for(var l=this.iterator();l.hasNext();){var f=l.next();f.getLabel().merge(f.getSym().getLabel())}},a.prototype.linkMinimalDirectedEdges=function(l){for(var f=null,p=null,v=this._SCANNING_FOR_INCOMING,E=this._resultAreaEdgeList.size()-1;E>=0;E--){var I=this._resultAreaEdgeList.get(E),$=I.getSym();switch(null===f&&I.getEdgeRing()===l&&(f=I),v){case this._SCANNING_FOR_INCOMING:if($.getEdgeRing()!==l)continue;p=$,v=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(I.getEdgeRing()!==l)continue;p.setNextMin(I),v=this._SCANNING_FOR_INCOMING}}v===this._LINKING_TO_OUTGOING&&(P.isTrue(null!==f,"found null for first outgoing dirEdge"),P.isTrue(f.getEdgeRing()===l,"unable to link last incoming dirEdge"),p.setNextMin(f))},a.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var l=0,f=this.iterator();f.hasNext();)f.next().isInResult()&&l++;return l}if(1===arguments.length){for(var p=arguments[0],v=0,E=this.iterator();E.hasNext();)E.next().getEdgeRing()===p&&v++;return v}},a.prototype.getLabel=function(){return this._label},a.prototype.findCoveredLineEdges=function(){for(var l=V.NONE,f=this.iterator();f.hasNext();){var p=f.next(),v=p.getSym();if(!p.isLineEdge()){if(p.isInResult()){l=V.INTERIOR;break}if(v.isInResult()){l=V.EXTERIOR;break}}}if(l===V.NONE)return null;for(var E=l,I=this.iterator();I.hasNext();){var $=I.next(),oe=$.getSym();$.isLineEdge()?$.getEdge().setCovered(E===V.INTERIOR):($.isInResult()&&(E=V.EXTERIOR),oe.isInResult()&&(E=V.INTERIOR))}},a.prototype.computeLabelling=function(l){o.prototype.computeLabelling.call(this,l),this._label=new Yt(V.NONE);for(var f=this.iterator();f.hasNext();)for(var p=f.next().getEdge().getLabel(),v=0;v<2;v++){var E=p.getLocation(v);E!==V.INTERIOR&&E!==V.BOUNDARY||this._label.setLocation(v,V.INTERIOR)}},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Wn),Va=function(o){function a(){o.apply(this,arguments)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.createNode=function(l){return new xc(l,new fo)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(gu),Zr=function o(){this._pts=null,this._orientation=null;var a=arguments[0];this._pts=a,this._orientation=o.orientation(a)};Zr.prototype.compareTo=function(o){return Zr.compareOriented(this._pts,this._orientation,o._pts,o._orientation)},Zr.prototype.interfaces_=function(){return[S]},Zr.prototype.getClass=function(){return Zr},Zr.orientation=function(o){return 1===Ut.increasingDirection(o)},Zr.compareOriented=function(o,a,l,f){for(var p=a?1:-1,v=f?1:-1,E=a?o.length:-1,I=f?l.length:-1,$=a?0:o.length-1,oe=f?0:l.length-1;;){var Te=o[$].compareTo(l[oe]);if(0!==Te)return Te;var Fe=($+=p)===E,Qe=(oe+=v)===I;if(Fe&&!Qe)return-1;if(!Fe&&Qe)return 1;if(Fe&&Qe)return 0}};var Lr=function(){this._edges=new Je,this._ocaMap=new ge};Lr.prototype.print=function(o){o.print("MULTILINESTRING ( ");for(var a=0;a<this._edges.size();a++){var l=this._edges.get(a);a>0&&o.print(","),o.print("(");for(var f=l.getCoordinates(),p=0;p<f.length;p++)p>0&&o.print(","),o.print(f[p].x+" "+f[p].y);o.println(")")}o.print(")  ")},Lr.prototype.addAll=function(o){for(var a=o.iterator();a.hasNext();)this.add(a.next())},Lr.prototype.findEdgeIndex=function(o){for(var a=0;a<this._edges.size();a++)if(this._edges.get(a).equals(o))return a;return-1},Lr.prototype.iterator=function(){return this._edges.iterator()},Lr.prototype.getEdges=function(){return this._edges},Lr.prototype.get=function(o){return this._edges.get(o)},Lr.prototype.findEqualEdge=function(o){var a=new Zr(o.getCoordinates());return this._ocaMap.get(a)},Lr.prototype.add=function(o){this._edges.add(o);var a=new Zr(o.getCoordinates());this._ocaMap.put(a,o)},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr};var ut=function(){};ut.prototype.processIntersections=function(o,a,l,f){},ut.prototype.isDone=function(){},ut.prototype.interfaces_=function(){return[]},ut.prototype.getClass=function(){return ut};var Tt=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Tt.prototype.isTrivialIntersection=function(o,a,l,f){if(o===l&&1===this._li.getIntersectionNum()){if(Tt.isAdjacentSegments(a,f))return!0;if(o.isClosed()){var p=o.size()-1;if(0===a&&f===p||0===f&&a===p)return!0}}return!1},Tt.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Tt.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Tt.prototype.getLineIntersector=function(){return this._li},Tt.prototype.hasProperIntersection=function(){return this._hasProper},Tt.prototype.processIntersections=function(o,a,l,f){if(o===l&&a===f)return null;this.numTests++;var p=o.getCoordinates()[a],v=o.getCoordinates()[a+1],E=l.getCoordinates()[f],I=l.getCoordinates()[f+1];this._li.computeIntersection(p,v,E,I),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(o,a,l,f)||(this._hasIntersection=!0,o.addIntersections(this._li,a,0),l.addIntersections(this._li,f,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Tt.prototype.hasIntersection=function(){return this._hasIntersection},Tt.prototype.isDone=function(){return!1},Tt.prototype.hasInteriorIntersection=function(){return this._hasInterior},Tt.prototype.interfaces_=function(){return[ut]},Tt.prototype.getClass=function(){return Tt},Tt.isAdjacentSegments=function(o,a){return 1===Math.abs(o-a)};var Hn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var a=arguments[1],l=arguments[2];this.coord=new C(arguments[0]),this.segmentIndex=a,this.dist=l};Hn.prototype.getSegmentIndex=function(){return this.segmentIndex},Hn.prototype.getCoordinate=function(){return this.coord},Hn.prototype.print=function(o){o.print(this.coord),o.print(" seg # = "+this.segmentIndex),o.println(" dist = "+this.dist)},Hn.prototype.compareTo=function(o){return this.compare(o.segmentIndex,o.dist)},Hn.prototype.isEndPoint=function(o){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===o},Hn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Hn.prototype.getDistance=function(){return this.dist},Hn.prototype.compare=function(o,a){return this.segmentIndex<o?-1:this.segmentIndex>o?1:this.dist<a?-1:this.dist>a?1:0},Hn.prototype.interfaces_=function(){return[S]},Hn.prototype.getClass=function(){return Hn};var Br=function(){this._nodeMap=new ge,this.edge=null,this.edge=arguments[0]};Br.prototype.print=function(o){o.println("Intersections:");for(var a=this.iterator();a.hasNext();)a.next().print(o)},Br.prototype.iterator=function(){return this._nodeMap.values().iterator()},Br.prototype.addSplitEdges=function(o){this.addEndpoints();for(var a=this.iterator(),l=a.next();a.hasNext();){var f=a.next(),p=this.createSplitEdge(l,f);o.add(p),l=f}},Br.prototype.addEndpoints=function(){var o=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[o],o,0)},Br.prototype.createSplitEdge=function(o,a){var l=a.segmentIndex-o.segmentIndex+2,p=a.dist>0||!a.coord.equals2D(this.edge.pts[a.segmentIndex]);p||l--;var v=new Array(l).fill(null),E=0;v[E++]=new C(o.coord);for(var I=o.segmentIndex+1;I<=a.segmentIndex;I++)v[E++]=this.edge.pts[I];return p&&(v[E]=a.coord),new fa(v,new Yt(this.edge._label))},Br.prototype.add=function(o,a,l){var f=new Hn(o,a,l),p=this._nodeMap.get(f);return null!==p?p:(this._nodeMap.put(f,f),f)},Br.prototype.isIntersection=function(o){for(var a=this.iterator();a.hasNext();)if(a.next().coord.equals(o))return!0;return!1},Br.prototype.interfaces_=function(){return[]},Br.prototype.getClass=function(){return Br};var xo=function(){};xo.prototype.getChainStartIndices=function(o){var a=0,l=new Je;l.add(new de(a));do{var f=this.findChainEnd(o,a);l.add(new de(f)),a=f}while(a<o.length-1);return xo.toIntArray(l)},xo.prototype.findChainEnd=function(o,a){for(var l=Jn.quadrant(o[a],o[a+1]),f=a+1;f<o.length&&Jn.quadrant(o[f-1],o[f])===l;)f++;return f-1},xo.prototype.interfaces_=function(){return[]},xo.prototype.getClass=function(){return xo},xo.toIntArray=function(o){for(var a=new Array(o.size()).fill(null),l=0;l<a.length;l++)a[l]=o.get(l).intValue();return a};var mr=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Ze,this.env2=new Ze;var o=arguments[0];this.e=o,this.pts=o.getCoordinates();var a=new xo;this.startIndex=a.getChainStartIndices(this.pts)};mr.prototype.getCoordinates=function(){return this.pts},mr.prototype.getMaxX=function(o){var a=this.pts[this.startIndex[o]].x,l=this.pts[this.startIndex[o+1]].x;return a>l?a:l},mr.prototype.getMinX=function(o){var a=this.pts[this.startIndex[o]].x,l=this.pts[this.startIndex[o+1]].x;return a<l?a:l},mr.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var o=arguments[0],a=arguments[1],l=arguments[2];this.computeIntersectsForChain(this.startIndex[o],this.startIndex[o+1],a,a.startIndex[l],a.startIndex[l+1],arguments[3])}else if(6===arguments.length){var p=arguments[0],v=arguments[1],E=arguments[2],I=arguments[3],$=arguments[4],oe=arguments[5],Te=this.pts[p],Fe=this.pts[v],Qe=E.pts[I],ot=E.pts[$];if(v-p==1&&$-I==1)return oe.addIntersections(this.e,p,E.e,I),null;if(this.env1.init(Te,Fe),this.env2.init(Qe,ot),!this.env1.intersects(this.env2))return null;var ft=Math.trunc((p+v)/2),It=Math.trunc((I+$)/2);p<ft&&(I<It&&this.computeIntersectsForChain(p,ft,E,I,It,oe),It<$&&this.computeIntersectsForChain(p,ft,E,It,$,oe)),ft<v&&(I<It&&this.computeIntersectsForChain(ft,v,E,I,It,oe),It<$&&this.computeIntersectsForChain(ft,v,E,It,$,oe))}},mr.prototype.getStartIndexes=function(){return this.startIndex},mr.prototype.computeIntersects=function(o,a){for(var l=0;l<this.startIndex.length-1;l++)for(var f=0;f<o.startIndex.length-1;f++)this.computeIntersectsForChain(l,o,f,a)},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr};var Cr=function o(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var a=0;a<2;a++)for(var l=0;l<3;l++)this._depth[a][l]=o.NULL_VALUE},Vr={NULL_VALUE:{configurable:!0}};Cr.prototype.getDepth=function(o,a){return this._depth[o][a]},Cr.prototype.setDepth=function(o,a,l){this._depth[o][a]=l},Cr.prototype.isNull=function(){if(0===arguments.length){for(var o=0;o<2;o++)for(var a=0;a<3;a++)if(this._depth[o][a]!==Cr.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Cr.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Cr.NULL_VALUE:void 0},Cr.prototype.normalize=function(){for(var o=0;o<2;o++)if(!this.isNull(o)){var a=this._depth[o][1];this._depth[o][2]<a&&(a=this._depth[o][2]),a<0&&(a=0);for(var l=1;l<3;l++){var f=0;this._depth[o][l]>a&&(f=1),this._depth[o][l]=f}}},Cr.prototype.getDelta=function(o){return this._depth[o][Ue.RIGHT]-this._depth[o][Ue.LEFT]},Cr.prototype.getLocation=function(o,a){return this._depth[o][a]<=0?V.EXTERIOR:V.INTERIOR},Cr.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Cr.prototype.add=function(){if(1===arguments.length)for(var o=arguments[0],a=0;a<2;a++)for(var l=1;l<3;l++){var f=o.getLocation(a,l);f!==V.EXTERIOR&&f!==V.INTERIOR||(this.isNull(a,l)?this._depth[a][l]=Cr.depthAtLocation(f):this._depth[a][l]+=Cr.depthAtLocation(f))}else 3===arguments.length&&arguments[2]===V.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr},Cr.depthAtLocation=function(o){return o===V.EXTERIOR?0:o===V.INTERIOR?1:Cr.NULL_VALUE},Vr.NULL_VALUE.get=function(){return-1},Object.defineProperties(Cr,Vr);var fa=function(o){function a(){if(o.call(this),this.pts=null,this._env=null,this.eiList=new Br(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Cr,this._depthDelta=0,1===arguments.length)a.call(this,arguments[0],null);else if(2===arguments.length){var p=arguments[1];this.pts=arguments[0],this._label=p}}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.getDepth=function(){return this._depth},a.prototype.getCollapsedEdge=function(){var l=new Array(2).fill(null);return l[0]=this.pts[0],l[1]=this.pts[1],new a(l,Yt.toLineLabel(this._label))},a.prototype.isIsolated=function(){return this._isIsolated},a.prototype.getCoordinates=function(){return this.pts},a.prototype.setIsolated=function(l){this._isIsolated=l},a.prototype.setName=function(l){this._name=l},a.prototype.equals=function(l){if(!(l instanceof a))return!1;var f=l;if(this.pts.length!==f.pts.length)return!1;for(var p=!0,v=!0,E=this.pts.length,I=0;I<this.pts.length;I++)if(this.pts[I].equals2D(f.pts[I])||(p=!1),this.pts[I].equals2D(f.pts[--E])||(v=!1),!p&&!v)return!1;return!0},a.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},a.prototype.print=function(l){l.print("edge "+this._name+": "),l.print("LINESTRING (");for(var f=0;f<this.pts.length;f++)f>0&&l.print(","),l.print(this.pts[f].x+" "+this.pts[f].y);l.print(")  "+this._label+" "+this._depthDelta)},a.prototype.computeIM=function(l){a.updateIM(this._label,l)},a.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},a.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},a.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},a.prototype.getDepthDelta=function(){return this._depthDelta},a.prototype.getNumPoints=function(){return this.pts.length},a.prototype.printReverse=function(l){l.print("edge "+this._name+": ");for(var f=this.pts.length-1;f>=0;f--)l.print(this.pts[f]+" ");l.println("")},a.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new mr(this)),this._mce},a.prototype.getEnvelope=function(){if(null===this._env){this._env=new Ze;for(var l=0;l<this.pts.length;l++)this._env.expandToInclude(this.pts[l])}return this._env},a.prototype.addIntersection=function(l,f,p,v){var E=new C(l.getIntersection(v)),I=f,$=l.getEdgeDistance(p,v),oe=I+1;oe<this.pts.length&&E.equals2D(this.pts[oe])&&(I=oe,$=0),this.eiList.add(E,I,$)},a.prototype.toString=function(){var l=new q;l.append("edge "+this._name+": "),l.append("LINESTRING (");for(var f=0;f<this.pts.length;f++)f>0&&l.append(","),l.append(this.pts[f].x+" "+this.pts[f].y);return l.append(")  "+this._label+" "+this._depthDelta),l.toString()},a.prototype.isPointwiseEqual=function(l){if(this.pts.length!==l.pts.length)return!1;for(var f=0;f<this.pts.length;f++)if(!this.pts[f].equals2D(l.pts[f]))return!1;return!0},a.prototype.setDepthDelta=function(l){this._depthDelta=l},a.prototype.getEdgeIntersectionList=function(){return this.eiList},a.prototype.addIntersections=function(l,f,p){for(var v=0;v<l.getIntersectionNum();v++)this.addIntersection(l,f,p,v)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.updateIM=function(){if(2!==arguments.length)return o.prototype.updateIM.apply(this,arguments);var l=arguments[0],f=arguments[1];f.setAtLeastIfValid(l.getLocation(0,Ue.ON),l.getLocation(1,Ue.ON),1),l.isArea()&&(f.setAtLeastIfValid(l.getLocation(0,Ue.LEFT),l.getLocation(1,Ue.LEFT),2),f.setAtLeastIfValid(l.getLocation(0,Ue.RIGHT),l.getLocation(1,Ue.RIGHT),2))},a}(kr),$r=function(o){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Lr,this._bufParams=o||null};$r.prototype.setWorkingPrecisionModel=function(o){this._workingPrecisionModel=o},$r.prototype.insertUniqueEdge=function(o){var a=this._edgeList.findEqualEdge(o);if(null!==a){var l=a.getLabel(),f=o.getLabel();a.isPointwiseEqual(o)||(f=new Yt(o.getLabel())).flip(),l.merge(f);var p=$r.depthDelta(f),v=a.getDepthDelta()+p;a.setDepthDelta(v)}else this._edgeList.add(o),o.setDepthDelta($r.depthDelta(o.getLabel()))},$r.prototype.buildSubgraphs=function(o,a){for(var l=new Je,f=o.iterator();f.hasNext();){var p=f.next(),v=p.getRightmostCoordinate(),E=new ca(l).getDepth(v);p.computeDepth(E),p.findResultEdges(),l.add(p),a.add(p.getDirectedEdges(),p.getNodes())}},$r.prototype.createSubgraphs=function(o){for(var a=new Je,l=o.getNodes().iterator();l.hasNext();){var f=l.next();if(!f.isVisited()){var p=new ii;p.create(f),a.add(p)}}return Qi.sort(a,Qi.reverseOrder()),a},$r.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},$r.prototype.getNoder=function(o){if(null!==this._workingNoder)return this._workingNoder;var a=new dh,l=new Pe;return l.setPrecisionModel(o),a.setSegmentIntersector(new Tt(l)),a},$r.prototype.buffer=function(o,a){var l=this._workingPrecisionModel;null===l&&(l=o.getPrecisionModel()),this._geomFact=o.getFactory();var f=new Ui(l,this._bufParams),p=new co(o,a,f).getCurves();if(p.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(p,l),this._graph=new Er(new Va),this._graph.addEdges(this._edgeList.getEdges());var v=this.createSubgraphs(this._graph),E=new dr(this._geomFact);this.buildSubgraphs(v,E);var I=E.getPolygons();return I.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(I)},$r.prototype.computeNodedEdges=function(o,a){var l=this.getNoder(a);l.computeNodes(o);for(var f=l.getNodedSubstrings().iterator();f.hasNext();){var p=f.next(),v=p.getCoordinates();if(2!==v.length||!v[0].equals2D(v[1])){var E=p.getData(),I=new fa(p.getCoordinates(),new Yt(E));this.insertUniqueEdge(I)}}},$r.prototype.setNoder=function(o){this._workingNoder=o},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.depthDelta=function(o){var a=o.getLocation(0,Ue.LEFT),l=o.getLocation(0,Ue.RIGHT);return a===V.INTERIOR&&l===V.EXTERIOR?1:a===V.EXTERIOR&&l===V.INTERIOR?-1:0},$r.convertSegStrings=function(o){for(var a=new Ne,l=new Je;o.hasNext();){var f=o.next(),p=a.createLineString(f.getCoordinates());l.add(p)}return a.buildGeometry(l)};var qt=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var a=arguments[1];this._noder=arguments[0],this._scaleFactor=a,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var f=arguments[1],p=arguments[2],v=arguments[3];this._noder=arguments[0],this._scaleFactor=f,this._offsetX=p,this._offsetY=v,this._isScaled=!this.isIntegerPrecision()}};qt.prototype.rescale=function(){if(Me(arguments[0],Xn))for(var o=arguments[0].iterator();o.hasNext();){var a=o.next();this.rescale(a.getCoordinates())}else if(arguments[0]instanceof Array){for(var l=arguments[0],f=0;f<l.length;f++)l[f].x=l[f].x/this._scaleFactor+this._offsetX,l[f].y=l[f].y/this._scaleFactor+this._offsetY;2===l.length&&l[0].equals2D(l[1])&&Xe.out.println(l)}},qt.prototype.scale=function(){if(Me(arguments[0],Xn)){for(var o=arguments[0],a=new Je,l=o.iterator();l.hasNext();){var f=l.next();a.add(new wr(this.scale(f.getCoordinates()),f.getData()))}return a}if(arguments[0]instanceof Array){for(var p=arguments[0],v=new Array(p.length).fill(null),E=0;E<p.length;E++)v[E]=new C(Math.round((p[E].x-this._offsetX)*this._scaleFactor),Math.round((p[E].y-this._offsetY)*this._scaleFactor),p[E].z);return Ut.removeRepeatedPoints(v)}},qt.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},qt.prototype.getNodedSubstrings=function(){var o=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(o),o},qt.prototype.computeNodes=function(o){var a=o;this._isScaled&&(a=this.scale(o)),this._noder.computeNodes(a)},qt.prototype.interfaces_=function(){return[Bi]},qt.prototype.getClass=function(){return qt};var ho=function(){this._li=new Pe,this._segStrings=null,this._segStrings=arguments[0]},Ua={fact:{configurable:!0}};ho.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var o=this._segStrings.iterator();o.hasNext();){var a=o.next().getCoordinates();this.checkEndPtVertexIntersections(a[0],this._segStrings),this.checkEndPtVertexIntersections(a[a.length-1],this._segStrings)}else if(2===arguments.length)for(var l=arguments[0],f=arguments[1].iterator();f.hasNext();)for(var p=f.next().getCoordinates(),v=1;v<p.length-1;v++)if(p[v].equals(l))throw new B("found endpt/interior pt intersection at index "+v+" :pt "+l)},ho.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var o=this._segStrings.iterator();o.hasNext();)for(var a=o.next(),l=this._segStrings.iterator();l.hasNext();){var f=l.next();this.checkInteriorIntersections(a,f)}else if(2===arguments.length)for(var p=arguments[0],v=arguments[1],E=p.getCoordinates(),I=v.getCoordinates(),$=0;$<E.length-1;$++)for(var oe=0;oe<I.length-1;oe++)this.checkInteriorIntersections(p,$,v,oe);else if(4===arguments.length){var Te=arguments[0],Fe=arguments[1],Qe=arguments[2],ot=arguments[3];if(Te===Qe&&Fe===ot)return null;var ft=Te.getCoordinates()[Fe],It=Te.getCoordinates()[Fe+1],jn=Qe.getCoordinates()[ot],Ur=Qe.getCoordinates()[ot+1];if(this._li.computeIntersection(ft,It,jn,Ur),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,ft,It)||this.hasInteriorIntersection(this._li,jn,Ur)))throw new B("found non-noded intersection at "+ft+"-"+It+" and "+jn+"-"+Ur)}},ho.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},ho.prototype.checkCollapses=function(){if(0===arguments.length)for(var o=this._segStrings.iterator();o.hasNext();){var a=o.next();this.checkCollapses(a)}else if(1===arguments.length)for(var l=arguments[0].getCoordinates(),f=0;f<l.length-2;f++)this.checkCollapse(l[f],l[f+1],l[f+2])},ho.prototype.hasInteriorIntersection=function(o,a,l){for(var f=0;f<o.getIntersectionNum();f++){var p=o.getIntersection(f);if(!p.equals(a)&&!p.equals(l))return!0}return!1},ho.prototype.checkCollapse=function(o,a,l){if(o.equals(l))throw new B("found non-noded collapse at "+ho.fact.createLineString([o,a,l]))},ho.prototype.interfaces_=function(){return[]},ho.prototype.getClass=function(){return ho},Ua.fact.get=function(){return new Ne},Object.defineProperties(ho,Ua);var yi=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var o=arguments[0],a=arguments[1],l=arguments[2];if(this._originalPt=o,this._pt=o,this._scaleFactor=a,this._li=l,a<=0)throw new T("Scale factor must be non-zero");1!==a&&(this._pt=new C(this.scale(o.x),this.scale(o.y)),this._p0Scaled=new C,this._p1Scaled=new C),this.initCorners(this._pt)},ha={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};yi.prototype.intersectsScaled=function(o,a){var l=Math.min(o.x,a.x),f=Math.max(o.x,a.x),p=Math.min(o.y,a.y),v=Math.max(o.y,a.y),E=this._maxx<l||this._minx>f||this._maxy<p||this._miny>v;if(E)return!1;var I=this.intersectsToleranceSquare(o,a);return P.isTrue(!(E&&I),"Found bad envelope test"),I},yi.prototype.initCorners=function(o){this._minx=o.x-.5,this._maxx=o.x+.5,this._miny=o.y-.5,this._maxy=o.y+.5,this._corner[0]=new C(this._maxx,this._maxy),this._corner[1]=new C(this._minx,this._maxy),this._corner[2]=new C(this._minx,this._miny),this._corner[3]=new C(this._maxx,this._miny)},yi.prototype.intersects=function(o,a){return 1===this._scaleFactor?this.intersectsScaled(o,a):(this.copyScaled(o,this._p0Scaled),this.copyScaled(a,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},yi.prototype.scale=function(o){return Math.round(o*this._scaleFactor)},yi.prototype.getCoordinate=function(){return this._originalPt},yi.prototype.copyScaled=function(o,a){a.x=this.scale(o.x),a.y=this.scale(o.y)},yi.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var o=yi.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Ze(this._originalPt.x-o,this._originalPt.x+o,this._originalPt.y-o,this._originalPt.y+o)}return this._safeEnv},yi.prototype.intersectsPixelClosure=function(o,a){return this._li.computeIntersection(o,a,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(o,a,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(o,a,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(o,a,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},yi.prototype.intersectsToleranceSquare=function(o,a){var l=!1,f=!1;return this._li.computeIntersection(o,a,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(o,a,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(l=!0),this._li.computeIntersection(o,a,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(f=!0),this._li.computeIntersection(o,a,this._corner[3],this._corner[0]),this._li.isProper()||l&&f||o.equals(this._pt)||a.equals(this._pt)))))},yi.prototype.addSnappedNode=function(o,a){var l=o.getCoordinate(a),f=o.getCoordinate(a+1);return!!this.intersects(l,f)&&(o.addIntersection(this.getCoordinate(),a),!0)},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi},ha.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(yi,ha);var si=function(){this.tempEnv1=new Ze,this.selectedSegment=new wt};si.prototype.select=function(){1!==arguments.length&&2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si};var Ts=function(){this._index=null,this._index=arguments[0]},Ga={HotPixelSnapAction:{configurable:!0}};Ts.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var a=arguments[0],l=arguments[1],f=arguments[2],p=a.getSafeEnvelope(),v=new es(a,l,f);return this._index.query(p,{interfaces_:function(){return[ua]},visitItem:function(E){E.select(p,v)}}),v.isNodeAdded()}},Ts.prototype.interfaces_=function(){return[]},Ts.prototype.getClass=function(){return Ts},Ga.HotPixelSnapAction.get=function(){return es},Object.defineProperties(Ts,Ga);var es=function(o){function a(){o.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var f=arguments[1],p=arguments[2];this._hotPixel=arguments[0],this._parentEdge=f,this._hotPixelVertexIndex=p}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.isNodeAdded=function(){return this._isNodeAdded},a.prototype.select=function(){if(2!==arguments.length)return o.prototype.select.apply(this,arguments);var f=arguments[1],p=arguments[0].getContext();if(null!==this._parentEdge&&p===this._parentEdge&&f===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(p,f)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(si),ts=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new Je};ts.prototype.processIntersections=function(o,a,l,f){if(o===l&&a===f)return null;var p=o.getCoordinates()[a],v=o.getCoordinates()[a+1],E=l.getCoordinates()[f],I=l.getCoordinates()[f+1];if(this._li.computeIntersection(p,v,E,I),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var $=0;$<this._li.getIntersectionNum();$++)this._interiorIntersections.add(this._li.getIntersection($));o.addIntersections(this._li,a,0),l.addIntersections(this._li,f,1)}},ts.prototype.isDone=function(){return!1},ts.prototype.getInteriorIntersections=function(){return this._interiorIntersections},ts.prototype.interfaces_=function(){return[ut]},ts.prototype.getClass=function(){return ts};var ns=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var o=arguments[0];this._pm=o,this._li=new Pe,this._li.setPrecisionModel(o),this._scaleFactor=o.getScale()};ns.prototype.checkCorrectness=function(o){var a=wr.getNodedSubstrings(o),l=new ho(a);try{l.checkValid()}catch(f){if(!(f instanceof at))throw f;f.printStackTrace()}},ns.prototype.getNodedSubstrings=function(){return wr.getNodedSubstrings(this._nodedSegStrings)},ns.prototype.snapRound=function(o,a){var l=this.findInteriorIntersections(o,a);this.computeIntersectionSnaps(l),this.computeVertexSnaps(o)},ns.prototype.findInteriorIntersections=function(o,a){var l=new ts(a);return this._noder.setSegmentIntersector(l),this._noder.computeNodes(o),l.getInteriorIntersections()},ns.prototype.computeVertexSnaps=function(){if(Me(arguments[0],Xn))for(var o=arguments[0].iterator();o.hasNext();){var a=o.next();this.computeVertexSnaps(a)}else if(arguments[0]instanceof wr)for(var l=arguments[0],f=l.getCoordinates(),p=0;p<f.length;p++){var v=new yi(f[p],this._scaleFactor,this._li);this._pointSnapper.snap(v,l,p)&&l.addIntersection(f[p],p)}},ns.prototype.computeNodes=function(o){this._nodedSegStrings=o,this._noder=new dh,this._pointSnapper=new Ts(this._noder.getIndex()),this.snapRound(o,this._li)},ns.prototype.computeIntersectionSnaps=function(o){for(var a=o.iterator();a.hasNext();){var l=a.next(),f=new yi(l,this._scaleFactor,this._li);this._pointSnapper.snap(f)}},ns.prototype.interfaces_=function(){return[Bi]},ns.prototype.getClass=function(){return ns};var Jt=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new en,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var l=arguments[1];this._argGeom=arguments[0],this._bufParams=l}},mu={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Jt.prototype.bufferFixedPrecision=function(o){var a=new qt(new ns(new ye(1)),o.getScale()),l=new $r(this._bufParams);l.setWorkingPrecisionModel(o),l.setNoder(a),this._resultGeometry=l.buffer(this._argGeom,this._distance)},Jt.prototype.bufferReducedPrecision=function(){var o=this;if(0===arguments.length){for(var a=Jt.MAX_PRECISION_DIGITS;a>=0;a--){try{o.bufferReducedPrecision(a)}catch(v){if(!(v instanceof Ki))throw v;o._saveException=v}if(null!==o._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var f=Jt.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),p=new ye(f);this.bufferFixedPrecision(p)}},Jt.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var o=this._argGeom.getFactory().getPrecisionModel();o.getType()===ye.FIXED?this.bufferFixedPrecision(o):this.bufferReducedPrecision()},Jt.prototype.setQuadrantSegments=function(o){this._bufParams.setQuadrantSegments(o)},Jt.prototype.bufferOriginalPrecision=function(){try{var o=new $r(this._bufParams);this._resultGeometry=o.buffer(this._argGeom,this._distance)}catch(a){if(!(a instanceof B))throw a;this._saveException=a}},Jt.prototype.getResultGeometry=function(o){return this._distance=o,this.computeGeometry(),this._resultGeometry},Jt.prototype.setEndCapStyle=function(o){this._bufParams.setEndCapStyle(o)},Jt.prototype.interfaces_=function(){return[]},Jt.prototype.getClass=function(){return Jt},Jt.bufferOp=function(){if(2===arguments.length){var a=arguments[1];return new Jt(arguments[0]).getResultGeometry(a)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof tt&&"number"==typeof arguments[1]){var f=arguments[1],p=arguments[2],v=new Jt(arguments[0]);return v.setQuadrantSegments(p),v.getResultGeometry(f)}if(arguments[2]instanceof en&&arguments[0]instanceof tt&&"number"==typeof arguments[1]){var I=arguments[1];return new Jt(arguments[0],arguments[2]).getResultGeometry(I)}}else if(4===arguments.length){var Te=arguments[1],Fe=arguments[2],Qe=arguments[3],ot=new Jt(arguments[0]);return ot.setQuadrantSegments(Fe),ot.setEndCapStyle(Qe),ot.getResultGeometry(Te)}},Jt.precisionScaleFactor=function(o,a,l){var f=o.getEnvelopeInternal(),p=W.max(Math.abs(f.getMaxX()),Math.abs(f.getMaxY()),Math.abs(f.getMinX()),Math.abs(f.getMinY()))+2*(a>0?a:0),v=l-Math.trunc(Math.log(p)/Math.log(10)+1);return Math.pow(10,v)},mu.CAP_ROUND.get=function(){return en.CAP_ROUND},mu.CAP_BUTT.get=function(){return en.CAP_FLAT},mu.CAP_FLAT.get=function(){return en.CAP_FLAT},mu.CAP_SQUARE.get=function(){return en.CAP_SQUARE},mu.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Jt,mu);var Mi=function(){this._pt=[new C,new C],this._distance=O.NaN,this._isNull=!0};Mi.prototype.getCoordinates=function(){return this._pt},Mi.prototype.getCoordinate=function(o){return this._pt[o]},Mi.prototype.setMinimum=function(){if(1===arguments.length){var o=arguments[0];this.setMinimum(o._pt[0],o._pt[1])}else if(2===arguments.length){var a=arguments[0],l=arguments[1];if(this._isNull)return this.initialize(a,l),null;var f=a.distance(l);f<this._distance&&this.initialize(a,l,f)}},Mi.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var o=arguments[0],a=arguments[1];this._pt[0].setCoordinate(o),this._pt[1].setCoordinate(a),this._distance=o.distance(a),this._isNull=!1}else if(3===arguments.length){var f=arguments[1],p=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(f),this._distance=p,this._isNull=!1}},Mi.prototype.getDistance=function(){return this._distance},Mi.prototype.setMaximum=function(){if(1===arguments.length){var o=arguments[0];this.setMaximum(o._pt[0],o._pt[1])}else if(2===arguments.length){var a=arguments[0],l=arguments[1];if(this._isNull)return this.initialize(a,l),null;var f=a.distance(l);f>this._distance&&this.initialize(a,l,f)}},Mi.prototype.interfaces_=function(){return[]},Mi.prototype.getClass=function(){return Mi};var bo=function(){};bo.prototype.interfaces_=function(){return[]},bo.prototype.getClass=function(){return bo},bo.computeDistance=function(){if(arguments[2]instanceof Mi&&arguments[0]instanceof gr&&arguments[1]instanceof C)for(var a=arguments[1],l=arguments[2],f=arguments[0].getCoordinates(),p=new wt,v=0;v<f.length-1;v++){p.setCoordinates(f[v],f[v+1]);var E=p.closestPoint(a);l.setMinimum(E,a)}else if(arguments[2]instanceof Mi&&arguments[0]instanceof rr&&arguments[1]instanceof C){var I=arguments[0],$=arguments[1],oe=arguments[2];bo.computeDistance(I.getExteriorRing(),$,oe);for(var Te=0;Te<I.getNumInteriorRing();Te++)bo.computeDistance(I.getInteriorRingN(Te),$,oe)}else if(arguments[2]instanceof Mi&&arguments[0]instanceof tt&&arguments[1]instanceof C){var Fe=arguments[0],Qe=arguments[1],ot=arguments[2];if(Fe instanceof gr)bo.computeDistance(Fe,Qe,ot);else if(Fe instanceof rr)bo.computeDistance(Fe,Qe,ot);else if(Fe instanceof ni)for(var ft=Fe,It=0;It<ft.getNumGeometries();It++){var jn=ft.getGeometryN(It);bo.computeDistance(jn,Qe,ot)}else ot.setMinimum(Fe.getCoordinate(),Qe)}else if(arguments[2]instanceof Mi&&arguments[0]instanceof wt&&arguments[1]instanceof C){var Ei=arguments[1],Nr=arguments[2],ji=arguments[0].closestPoint(Ei);Nr.setMinimum(ji,Ei)}};var Rs=function(o){this._maxPtDist=new Mi,this._inputGeom=o||null},Ha={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Rs.prototype.computeMaxMidpointDistance=function(o){var a=new po(this._inputGeom);o.apply(a),this._maxPtDist.setMaximum(a.getMaxPointDistance())},Rs.prototype.computeMaxVertexDistance=function(o){var a=new Os(this._inputGeom);o.apply(a),this._maxPtDist.setMaximum(a.getMaxPointDistance())},Rs.prototype.findDistance=function(o){return this.computeMaxVertexDistance(o),this.computeMaxMidpointDistance(o),this._maxPtDist.getDistance()},Rs.prototype.getDistancePoints=function(){return this._maxPtDist},Rs.prototype.interfaces_=function(){return[]},Rs.prototype.getClass=function(){return Rs},Ha.MaxPointDistanceFilter.get=function(){return Os},Ha.MaxMidpointDistanceFilter.get=function(){return po},Object.defineProperties(Rs,Ha);var Os=function(o){this._maxPtDist=new Mi,this._minPtDist=new Mi,this._geom=o||null};Os.prototype.filter=function(o){this._minPtDist.initialize(),bo.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Os.prototype.getMaxPointDistance=function(){return this._maxPtDist},Os.prototype.interfaces_=function(){return[Qt]},Os.prototype.getClass=function(){return Os};var po=function(o){this._maxPtDist=new Mi,this._minPtDist=new Mi,this._geom=o||null};po.prototype.filter=function(o,a){if(0===a)return null;var l=o.getCoordinate(a-1),f=o.getCoordinate(a),p=new C((l.x+f.x)/2,(l.y+f.y)/2);this._minPtDist.initialize(),bo.computeDistance(this._geom,p,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},po.prototype.isDone=function(){return!1},po.prototype.isGeometryChanged=function(){return!1},po.prototype.getMaxPointDistance=function(){return this._maxPtDist},po.prototype.interfaces_=function(){return[Ji]},po.prototype.getClass=function(){return po};var br=function(o){this._comps=o||null};br.prototype.filter=function(o){o instanceof rr&&this._comps.add(o)},br.prototype.interfaces_=function(){return[Do]},br.prototype.getClass=function(){return br},br.getPolygons=function(){if(1===arguments.length)return br.getPolygons(arguments[0],new Je);if(2===arguments.length){var a=arguments[0],l=arguments[1];return a instanceof rr?l.add(a):a instanceof ni&&a.apply(new br(l)),l}};var ai=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var l=arguments[1];this._lines=arguments[0],this._isForcedToLineString=l}};ai.prototype.filter=function(o){if(this._isForcedToLineString&&o instanceof xi){var a=o.getFactory().createLineString(o.getCoordinateSequence());return this._lines.add(a),null}o instanceof gr&&this._lines.add(o)},ai.prototype.setForceToLineString=function(o){this._isForcedToLineString=o},ai.prototype.interfaces_=function(){return[Vt]},ai.prototype.getClass=function(){return ai},ai.getGeometry=function(){if(1===arguments.length){var o=arguments[0];return o.getFactory().buildGeometry(ai.getLines(o))}if(2===arguments.length){var a=arguments[0],l=arguments[1];return a.getFactory().buildGeometry(ai.getLines(a,l))}},ai.getLines=function(){if(1===arguments.length)return ai.getLines(arguments[0],!1);if(2===arguments.length){if(Me(arguments[0],Xn)&&Me(arguments[1],Xn)){for(var l=arguments[1],f=arguments[0].iterator();f.hasNext();){var p=f.next();ai.getLines(p,l)}return l}if(arguments[0]instanceof tt&&"boolean"==typeof arguments[1]){var v=arguments[0],E=arguments[1],I=new Je;return v.apply(new ai(I,E)),I}if(arguments[0]instanceof tt&&Me(arguments[1],Xn)){var $=arguments[0],oe=arguments[1];return $ instanceof gr?oe.add($):$.apply(new ai(oe)),oe}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Me(arguments[0],Xn)&&Me(arguments[1],Xn)){for(var Fe=arguments[1],Qe=arguments[2],ot=arguments[0].iterator();ot.hasNext();){var ft=ot.next();ai.getLines(ft,Fe,Qe)}return Fe}if("boolean"==typeof arguments[2]&&arguments[0]instanceof tt&&Me(arguments[1],Xn)){var jn=arguments[1];return arguments[0].apply(new ai(jn,arguments[2])),jn}}};var Dr=function(){if(this._boundaryRule=rn.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0!==arguments.length&&1===arguments.length){var o=arguments[0];if(null===o)throw new T("Rule must be non-null");this._boundaryRule=o}};Dr.prototype.locateInternal=function(){if(arguments[0]instanceof C&&arguments[1]instanceof rr){var o=arguments[0],a=arguments[1];if(a.isEmpty())return V.EXTERIOR;var l=a.getExteriorRing(),f=this.locateInPolygonRing(o,l);if(f===V.EXTERIOR)return V.EXTERIOR;if(f===V.BOUNDARY)return V.BOUNDARY;for(var p=0;p<a.getNumInteriorRing();p++){var v=a.getInteriorRingN(p),E=this.locateInPolygonRing(o,v);if(E===V.INTERIOR)return V.EXTERIOR;if(E===V.BOUNDARY)return V.BOUNDARY}return V.INTERIOR}if(arguments[0]instanceof C&&arguments[1]instanceof gr){var I=arguments[0],$=arguments[1];if(!$.getEnvelopeInternal().intersects(I))return V.EXTERIOR;var oe=$.getCoordinates();return $.isClosed()||!I.equals(oe[0])&&!I.equals(oe[oe.length-1])?ke.isOnLine(I,oe)?V.INTERIOR:V.EXTERIOR:V.BOUNDARY}if(arguments[0]instanceof C&&arguments[1]instanceof Si){var Te=arguments[0];return arguments[1].getCoordinate().equals2D(Te)?V.INTERIOR:V.EXTERIOR}},Dr.prototype.locateInPolygonRing=function(o,a){return a.getEnvelopeInternal().intersects(o)?ke.locatePointInRing(o,a.getCoordinates()):V.EXTERIOR},Dr.prototype.intersects=function(o,a){return this.locate(o,a)!==V.EXTERIOR},Dr.prototype.updateLocationInfo=function(o){o===V.INTERIOR&&(this._isIn=!0),o===V.BOUNDARY&&this._numBoundaries++},Dr.prototype.computeLocation=function(o,a){if(a instanceof Si&&this.updateLocationInfo(this.locateInternal(o,a)),a instanceof gr)this.updateLocationInfo(this.locateInternal(o,a));else if(a instanceof rr)this.updateLocationInfo(this.locateInternal(o,a));else if(a instanceof As)for(var l=a,f=0;f<l.getNumGeometries();f++){var p=l.getGeometryN(f);this.updateLocationInfo(this.locateInternal(o,p))}else if(a instanceof So)for(var v=a,E=0;E<v.getNumGeometries();E++){var I=v.getGeometryN(E);this.updateLocationInfo(this.locateInternal(o,I))}else if(a instanceof ni)for(var $=new Or(a);$.hasNext();){var oe=$.next();oe!==a&&this.computeLocation(o,oe)}},Dr.prototype.locate=function(o,a){return a.isEmpty()?V.EXTERIOR:a instanceof gr||a instanceof rr?this.locateInternal(o,a):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(o,a),this._boundaryRule.isInBoundary(this._numBoundaries)?V.BOUNDARY:this._numBoundaries>0||this._isIn?V.INTERIOR:V.EXTERIOR)},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr};var pr=function o(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)o.call(this,arguments[0],o.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var p=arguments[1],v=arguments[2];this._component=arguments[0],this._segIndex=p,this._pt=v}},wl={INSIDE_AREA:{configurable:!0}};pr.prototype.isInsideArea=function(){return this._segIndex===pr.INSIDE_AREA},pr.prototype.getCoordinate=function(){return this._pt},pr.prototype.getGeometryComponent=function(){return this._component},pr.prototype.getSegmentIndex=function(){return this._segIndex},pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr},wl.INSIDE_AREA.get=function(){return-1},Object.defineProperties(pr,wl);var rs=function(o){this._pts=o||null};rs.prototype.filter=function(o){o instanceof Si&&this._pts.add(o)},rs.prototype.interfaces_=function(){return[Do]},rs.prototype.getClass=function(){return rs},rs.getPoints=function(){if(1===arguments.length){var o=arguments[0];return o instanceof Si?Qi.singletonList(o):rs.getPoints(o,new Je)}if(2===arguments.length){var a=arguments[0],l=arguments[1];return a instanceof Si?l.add(a):a instanceof ni&&a.apply(new rs(l)),l}};var Ls=function(){this._locations=null,this._locations=arguments[0]};Ls.prototype.filter=function(o){(o instanceof Si||o instanceof gr||o instanceof rr)&&this._locations.add(new pr(o,0,o.getCoordinate()))},Ls.prototype.interfaces_=function(){return[Do]},Ls.prototype.getClass=function(){return Ls},Ls.getLocations=function(o){var a=new Je;return o.apply(new Ls(a)),a};var or=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Dr,this._minDistanceLocation=null,this._minDistance=O.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var l=arguments[0],f=arguments[1],p=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=l,this._geom[1]=f,this._terminateDistance=p}};or.prototype.computeContainmentDistance=function(){if(0===arguments.length){var o=new Array(2).fill(null);if(this.computeContainmentDistance(0,o),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,o)}else if(2===arguments.length){var a=arguments[0],l=arguments[1],f=1-a,p=br.getPolygons(this._geom[a]);if(p.size()>0){var v=Ls.getLocations(this._geom[f]);if(this.computeContainmentDistance(v,p,l),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[f]=l[0],this._minDistanceLocation[a]=l[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Me(arguments[0],nr)&&Me(arguments[1],nr)){for(var E=arguments[0],I=arguments[1],$=arguments[2],oe=0;oe<E.size();oe++)for(var Te=E.get(oe),Fe=0;Fe<I.size();Fe++)if(this.computeContainmentDistance(Te,I.get(Fe),$),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof pr&&arguments[1]instanceof rr){var Qe=arguments[0],ot=arguments[1],ft=arguments[2],It=Qe.getCoordinate();if(V.EXTERIOR!==this._ptLocator.locate(It,ot))return this._minDistance=0,ft[0]=Qe,ft[1]=new pr(ot,It),null}},or.prototype.computeMinDistanceLinesPoints=function(o,a,l){for(var f=0;f<o.size();f++)for(var p=o.get(f),v=0;v<a.size();v++){var E=a.get(v);if(this.computeMinDistance(p,E,l),this._minDistance<=this._terminateDistance)return null}},or.prototype.computeFacetDistance=function(){var o=new Array(2).fill(null),a=ai.getLines(this._geom[0]),l=ai.getLines(this._geom[1]),f=rs.getPoints(this._geom[0]),p=rs.getPoints(this._geom[1]);return this.computeMinDistanceLines(a,l,o),this.updateMinDistance(o,!1),this._minDistance<=this._terminateDistance?null:(o[0]=null,o[1]=null,this.computeMinDistanceLinesPoints(a,p,o),this.updateMinDistance(o,!1),this._minDistance<=this._terminateDistance?null:(o[0]=null,o[1]=null,this.computeMinDistanceLinesPoints(l,f,o),this.updateMinDistance(o,!0),this._minDistance<=this._terminateDistance?null:(o[0]=null,o[1]=null,this.computeMinDistancePoints(f,p,o),void this.updateMinDistance(o,!1))))},or.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},or.prototype.updateMinDistance=function(o,a){if(null===o[0])return null;a?(this._minDistanceLocation[0]=o[1],this._minDistanceLocation[1]=o[0]):(this._minDistanceLocation[0]=o[0],this._minDistanceLocation[1]=o[1])},or.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},or.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof gr&&arguments[1]instanceof Si){var o=arguments[0],a=arguments[1],l=arguments[2];if(o.getEnvelopeInternal().distance(a.getEnvelopeInternal())>this._minDistance)return null;for(var f=o.getCoordinates(),p=a.getCoordinate(),v=0;v<f.length-1;v++){var E=ke.distancePointLine(p,f[v],f[v+1]);if(E<this._minDistance){this._minDistance=E;var I=new wt(f[v],f[v+1]).closestPoint(p);l[0]=new pr(o,v,I),l[1]=new pr(a,0,p)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof gr&&arguments[1]instanceof gr){var $=arguments[0],oe=arguments[1],Te=arguments[2];if($.getEnvelopeInternal().distance(oe.getEnvelopeInternal())>this._minDistance)return null;for(var Fe=$.getCoordinates(),Qe=oe.getCoordinates(),ot=0;ot<Fe.length-1;ot++)for(var ft=0;ft<Qe.length-1;ft++){var It=ke.distanceLineLine(Fe[ot],Fe[ot+1],Qe[ft],Qe[ft+1]);if(It<this._minDistance){this._minDistance=It;var jn=new wt(Fe[ot],Fe[ot+1]),Ur=new wt(Qe[ft],Qe[ft+1]),Ei=jn.closestPoints(Ur);Te[0]=new pr($,ot,Ei[0]),Te[1]=new pr(oe,ft,Ei[1])}if(this._minDistance<=this._terminateDistance)return null}}},or.prototype.computeMinDistancePoints=function(o,a,l){for(var f=0;f<o.size();f++)for(var p=o.get(f),v=0;v<a.size();v++){var E=a.get(v),I=p.getCoordinate().distance(E.getCoordinate());if(I<this._minDistance&&(this._minDistance=I,l[0]=new pr(p,0,p.getCoordinate()),l[1]=new pr(E,0,E.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},or.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new T("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},or.prototype.computeMinDistanceLines=function(o,a,l){for(var f=0;f<o.size();f++)for(var p=o.get(f),v=0;v<a.size();v++){var E=a.get(v);if(this.computeMinDistance(p,E,l),this._minDistance<=this._terminateDistance)return null}},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.distance=function(o,a){return new or(o,a).distance()},or.isWithinDistance=function(o,a,l){return new or(o,a,l).distance()<=l},or.nearestPoints=function(o,a){return new or(o,a).nearestPoints()};var vi=function(){this._pt=[new C,new C],this._distance=O.NaN,this._isNull=!0};vi.prototype.getCoordinates=function(){return this._pt},vi.prototype.getCoordinate=function(o){return this._pt[o]},vi.prototype.setMinimum=function(){if(1===arguments.length){var o=arguments[0];this.setMinimum(o._pt[0],o._pt[1])}else if(2===arguments.length){var a=arguments[0],l=arguments[1];if(this._isNull)return this.initialize(a,l),null;var f=a.distance(l);f<this._distance&&this.initialize(a,l,f)}},vi.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var o=arguments[0],a=arguments[1];this._pt[0].setCoordinate(o),this._pt[1].setCoordinate(a),this._distance=o.distance(a),this._isNull=!1}else if(3===arguments.length){var f=arguments[1],p=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(f),this._distance=p,this._isNull=!1}},vi.prototype.toString=function(){return Ie.toLineString(this._pt[0],this._pt[1])},vi.prototype.getDistance=function(){return this._distance},vi.prototype.setMaximum=function(){if(1===arguments.length){var o=arguments[0];this.setMaximum(o._pt[0],o._pt[1])}else if(2===arguments.length){var a=arguments[0],l=arguments[1];if(this._isNull)return this.initialize(a,l),null;var f=a.distance(l);f>this._distance&&this.initialize(a,l,f)}},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi};var ms=function(){};ms.prototype.interfaces_=function(){return[]},ms.prototype.getClass=function(){return ms},ms.computeDistance=function(){if(arguments[2]instanceof vi&&arguments[0]instanceof gr&&arguments[1]instanceof C)for(var o=arguments[0],a=arguments[1],l=arguments[2],f=new wt,p=o.getCoordinates(),v=0;v<p.length-1;v++){f.setCoordinates(p[v],p[v+1]);var E=f.closestPoint(a);l.setMinimum(E,a)}else if(arguments[2]instanceof vi&&arguments[0]instanceof rr&&arguments[1]instanceof C){var I=arguments[0],$=arguments[1],oe=arguments[2];ms.computeDistance(I.getExteriorRing(),$,oe);for(var Te=0;Te<I.getNumInteriorRing();Te++)ms.computeDistance(I.getInteriorRingN(Te),$,oe)}else if(arguments[2]instanceof vi&&arguments[0]instanceof tt&&arguments[1]instanceof C){var Fe=arguments[0],Qe=arguments[1],ot=arguments[2];if(Fe instanceof gr)ms.computeDistance(Fe,Qe,ot);else if(Fe instanceof rr)ms.computeDistance(Fe,Qe,ot);else if(Fe instanceof ni)for(var ft=Fe,It=0;It<ft.getNumGeometries();It++){var jn=ft.getGeometryN(It);ms.computeDistance(jn,Qe,ot)}else ot.setMinimum(Fe.getCoordinate(),Qe)}else if(arguments[2]instanceof vi&&arguments[0]instanceof wt&&arguments[1]instanceof C){var Ei=arguments[1],Nr=arguments[2],ji=arguments[0].closestPoint(Ei);Nr.setMinimum(ji,Ei)}};var Mo=function(){this._g0=null,this._g1=null,this._ptDist=new vi,this._densifyFrac=0;var a=arguments[1];this._g0=arguments[0],this._g1=a},Nc={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Mo.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Mo.prototype.setDensifyFraction=function(o){if(o>1||o<=0)throw new T("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=o},Mo.prototype.compute=function(o,a){this.computeOrientedDistance(o,a,this._ptDist),this.computeOrientedDistance(a,o,this._ptDist)},Mo.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Mo.prototype.computeOrientedDistance=function(o,a,l){var f=new yu(a);if(o.apply(f),l.setMaximum(f.getMaxPointDistance()),this._densifyFrac>0){var p=new da(a,this._densifyFrac);o.apply(p),l.setMaximum(p.getMaxPointDistance())}},Mo.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Mo.prototype.interfaces_=function(){return[]},Mo.prototype.getClass=function(){return Mo},Mo.distance=function(){if(2===arguments.length)return new Mo(arguments[0],arguments[1]).distance();if(3===arguments.length){var p=arguments[2],v=new Mo(arguments[0],arguments[1]);return v.setDensifyFraction(p),v.distance()}},Nc.MaxPointDistanceFilter.get=function(){return yu},Nc.MaxDensifiedByFractionDistanceFilter.get=function(){return da},Object.defineProperties(Mo,Nc);var yu=function(){this._maxPtDist=new vi,this._minPtDist=new vi,this._euclideanDist=new ms,this._geom=null,this._geom=arguments[0]};yu.prototype.filter=function(o){this._minPtDist.initialize(),ms.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},yu.prototype.getMaxPointDistance=function(){return this._maxPtDist},yu.prototype.interfaces_=function(){return[Qt]},yu.prototype.getClass=function(){return yu};var da=function(){this._maxPtDist=new vi,this._minPtDist=new vi,this._geom=null,this._numSubSegs=0;var a=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/a))};da.prototype.filter=function(o,a){if(0===a)return null;for(var l=o.getCoordinate(a-1),f=o.getCoordinate(a),p=(f.x-l.x)/this._numSubSegs,v=(f.y-l.y)/this._numSubSegs,E=0;E<this._numSubSegs;E++){var oe=new C(l.x+E*p,l.y+E*v);this._minPtDist.initialize(),ms.computeDistance(this._geom,oe,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},da.prototype.isDone=function(){return!1},da.prototype.isGeometryChanged=function(){return!1},da.prototype.getMaxPointDistance=function(){return this._maxPtDist},da.prototype.interfaces_=function(){return[Ji]},da.prototype.getClass=function(){return da};var go=function(o,a,l){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=o||null,this._bufDistance=a||null,this._result=l||null},ph={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};go.prototype.checkMaximumDistance=function(o,a,l){var f=new Mo(a,o);if(f.setDensifyFraction(.25),this._maxDistanceFound=f.orientedDistance(),this._maxDistanceFound>l){this._isValid=!1;var p=f.getCoordinates();this._errorLocation=p[1],this._errorIndicator=o.getFactory().createLineString(p),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Ie.toLineString(p[0],p[1])+")"}},go.prototype.isValid=function(){var o=Math.abs(this._bufDistance),a=go.MAX_DISTANCE_DIFF_FRAC*o;return this._minValidDistance=o-a,this._maxValidDistance=o+a,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),go.VERBOSE&&Xe.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},go.prototype.checkNegativeValid=function(){if(!(this._input instanceof rr||this._input instanceof So||this._input instanceof ni))return null;var o=this.getPolygonLines(this._input);if(this.checkMinimumDistance(o,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(o,this._result,this._maxValidDistance)},go.prototype.getErrorIndicator=function(){return this._errorIndicator},go.prototype.checkMinimumDistance=function(o,a,l){var f=new or(o,a,l);if(this._minDistanceFound=f.distance(),this._minDistanceFound<l){this._isValid=!1;var p=f.nearestPoints();this._errorLocation=f.nearestPoints()[1],this._errorIndicator=o.getFactory().createLineString(p),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Ie.toLineString(p[0],p[1])+" )"}},go.prototype.checkPositiveValid=function(){var o=this._result.getBoundary();if(this.checkMinimumDistance(this._input,o,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,o,this._maxValidDistance)},go.prototype.getErrorLocation=function(){return this._errorLocation},go.prototype.getPolygonLines=function(o){for(var a=new Je,l=new ai(a),f=br.getPolygons(o).iterator();f.hasNext();)f.next().apply(l);return o.getFactory().buildGeometry(a)},go.prototype.getErrorMessage=function(){return this._errMsg},go.prototype.interfaces_=function(){return[]},go.prototype.getClass=function(){return go},ph.VERBOSE.get=function(){return!1},ph.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(go,ph);var _i=function(o,a,l){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=o||null,this._distance=a||null,this._result=l||null},gh={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};_i.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},_i.prototype.checkEnvelope=function(){if(this._distance<0)return null;var o=this._distance*_i.MAX_ENV_DIFF_FRAC;0===o&&(o=.001);var a=new Ze(this._input.getEnvelopeInternal());a.expandBy(this._distance);var l=new Ze(this._result.getEnvelopeInternal());l.expandBy(o),l.contains(a)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(l)),this.report("Envelope")},_i.prototype.checkDistance=function(){var o=new go(this._input,this._distance,this._result);o.isValid()||(this._isValid=!1,this._errorMsg=o.getErrorMessage(),this._errorLocation=o.getErrorLocation(),this._errorIndicator=o.getErrorIndicator()),this.report("Distance")},_i.prototype.checkArea=function(){var o=this._input.getArea(),a=this._result.getArea();this._distance>0&&o>a&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&o<a&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},_i.prototype.checkPolygonal=function(){this._result instanceof rr||this._result instanceof So||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},_i.prototype.getErrorIndicator=function(){return this._errorIndicator},_i.prototype.getErrorLocation=function(){return this._errorLocation},_i.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},_i.prototype.report=function(o){if(!_i.VERBOSE)return null;Xe.out.println("Check "+o+": "+(this._isValid?"passed":"FAILED"))},_i.prototype.getErrorMessage=function(){return this._errorMsg},_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i},_i.isValidMsg=function(o,a,l){var f=new _i(o,a,l);return f.isValid()?null:f.getErrorMessage()},_i.isValid=function(o,a,l){return!!new _i(o,a,l).isValid()},gh.VERBOSE.get=function(){return!1},gh.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(_i,gh);var ys=function(){this._pts=null,this._data=null;var a=arguments[1];this._pts=arguments[0],this._data=a};ys.prototype.getCoordinates=function(){return this._pts},ys.prototype.size=function(){return this._pts.length},ys.prototype.getCoordinate=function(o){return this._pts[o]},ys.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},ys.prototype.getSegmentOctant=function(o){return o===this._pts.length-1?-1:Ws.octant(this.getCoordinate(o),this.getCoordinate(o+1))},ys.prototype.setData=function(o){this._data=o},ys.prototype.getData=function(){return this._data},ys.prototype.toString=function(){return Ie.toLineString(new hr(this._pts))},ys.prototype.interfaces_=function(){return[ds]},ys.prototype.getClass=function(){return ys};var ui=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Je,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};ui.prototype.getInteriorIntersection=function(){return this._interiorIntersection},ui.prototype.setCheckEndSegmentsOnly=function(o){this._isCheckEndSegmentsOnly=o},ui.prototype.getIntersectionSegments=function(){return this._intSegments},ui.prototype.count=function(){return this._intersectionCount},ui.prototype.getIntersections=function(){return this._intersections},ui.prototype.setFindAllIntersections=function(o){this._findAllIntersections=o},ui.prototype.setKeepIntersections=function(o){this._keepIntersections=o},ui.prototype.processIntersections=function(o,a,l,f){if(!this._findAllIntersections&&this.hasIntersection()||o===l&&a===f||this._isCheckEndSegmentsOnly&&!this.isEndSegment(o,a)&&!this.isEndSegment(l,f))return null;var p=o.getCoordinates()[a],v=o.getCoordinates()[a+1],E=l.getCoordinates()[f],I=l.getCoordinates()[f+1];this._li.computeIntersection(p,v,E,I),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=p,this._intSegments[1]=v,this._intSegments[2]=E,this._intSegments[3]=I,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},ui.prototype.isEndSegment=function(o,a){return 0===a||a>=o.size()-2},ui.prototype.hasIntersection=function(){return null!==this._interiorIntersection},ui.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},ui.prototype.interfaces_=function(){return[ut]},ui.prototype.getClass=function(){return ui},ui.createAllIntersectionsFinder=function(o){var a=new ui(o);return a.setFindAllIntersections(!0),a},ui.createAnyIntersectionFinder=function(o){return new ui(o)},ui.createIntersectionCounter=function(o){var a=new ui(o);return a.setFindAllIntersections(!0),a.setKeepIntersections(!1),a};var is=function(){this._li=new Pe,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};is.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},is.prototype.getIntersections=function(){return this._segInt.getIntersections()},is.prototype.isValid=function(){return this.execute(),this._isValid},is.prototype.setFindAllIntersections=function(o){this._findAllIntersections=o},is.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new ui(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var o=new dh;if(o.setSegmentIntersector(this._segInt),o.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},is.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Ki(this.getErrorMessage(),this._segInt.getInteriorIntersection())},is.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var o=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Ie.toLineString(o[0],o[1])+" and "+Ie.toLineString(o[2],o[3])},is.prototype.interfaces_=function(){return[]},is.prototype.getClass=function(){return is},is.computeIntersections=function(o){var a=new is(o);return a.setFindAllIntersections(!0),a.isValid(),a.getIntersections()};var ja=function o(){this._nv=null,this._nv=new is(o.toSegmentStrings(arguments[0]))};ja.prototype.checkValid=function(){this._nv.checkValid()},ja.prototype.interfaces_=function(){return[]},ja.prototype.getClass=function(){return ja},ja.toSegmentStrings=function(o){for(var a=new Je,l=o.iterator();l.hasNext();){var f=l.next();a.add(new ys(f.getCoordinates(),f))}return a},ja.checkValid=function(o){new ja(o).checkValid()};var vu=function(o){this._mapOp=o};vu.prototype.map=function(o){for(var a=new Je,l=0;l<o.getNumGeometries();l++){var f=this._mapOp.map(o.getGeometryN(l));f.isEmpty()||a.add(f)}return o.getFactory().createGeometryCollection(Ne.toGeometryArray(a))},vu.prototype.interfaces_=function(){return[]},vu.prototype.getClass=function(){return vu},vu.map=function(o,a){return new vu(a).map(o)};var vs=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Je,this._resultLineList=new Je;var a=arguments[1],l=arguments[2];this._op=arguments[0],this._geometryFactory=a,this._ptLocator=l};vs.prototype.collectLines=function(o){for(var a=this._op.getGraph().getEdgeEnds().iterator();a.hasNext();){var l=a.next();this.collectLineEdge(l,o,this._lineEdgesList),this.collectBoundaryTouchEdge(l,o,this._lineEdgesList)}},vs.prototype.labelIsolatedLine=function(o,a){var l=this._ptLocator.locate(o.getCoordinate(),this._op.getArgGeometry(a));o.getLabel().setLocation(a,l)},vs.prototype.build=function(o){return this.findCoveredLineEdges(),this.collectLines(o),this.buildLines(o),this._resultLineList},vs.prototype.collectLineEdge=function(o,a,l){var f=o.getLabel(),p=o.getEdge();o.isLineEdge()&&(o.isVisited()||!Ht.isResultOfOp(f,a)||p.isCovered()||(l.add(p),o.setVisitedEdge(!0)))},vs.prototype.findCoveredLineEdges=function(){for(var o=this._op.getGraph().getNodes().iterator();o.hasNext();)o.next().getEdges().findCoveredLineEdges();for(var a=this._op.getGraph().getEdgeEnds().iterator();a.hasNext();){var l=a.next(),f=l.getEdge();if(l.isLineEdge()&&!f.isCoveredSet()){var p=this._op.isCoveredByA(l.getCoordinate());f.setCovered(p)}}},vs.prototype.labelIsolatedLines=function(o){for(var a=o.iterator();a.hasNext();){var l=a.next(),f=l.getLabel();l.isIsolated()&&(f.isNull(0)?this.labelIsolatedLine(l,0):this.labelIsolatedLine(l,1))}},vs.prototype.buildLines=function(o){for(var a=this._lineEdgesList.iterator();a.hasNext();){var l=a.next(),f=this._geometryFactory.createLineString(l.getCoordinates());this._resultLineList.add(f),l.setInResult(!0)}},vs.prototype.collectBoundaryTouchEdge=function(o,a,l){var f=o.getLabel();return o.isLineEdge()||o.isVisited()||o.isInteriorAreaEdge()||o.getEdge().isInResult()?null:(P.isTrue(!(o.isInResult()||o.getSym().isInResult())||!o.getEdge().isInResult()),void(Ht.isResultOfOp(f,a)&&a===Ht.INTERSECTION&&(l.add(o.getEdge()),o.setVisitedEdge(!0))))},vs.prototype.interfaces_=function(){return[]},vs.prototype.getClass=function(){return vs};var _u=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Je;var a=arguments[1];this._op=arguments[0],this._geometryFactory=a};_u.prototype.filterCoveredNodeToPoint=function(o){var a=o.getCoordinate();if(!this._op.isCoveredByLA(a)){var l=this._geometryFactory.createPoint(a);this._resultPointList.add(l)}},_u.prototype.extractNonCoveredResultNodes=function(o){for(var a=this._op.getGraph().getNodes().iterator();a.hasNext();){var l=a.next();if(!(l.isInResult()||l.isIncidentEdgeInResult()||0!==l.getEdges().getDegree()&&o!==Ht.INTERSECTION)){var f=l.getLabel();Ht.isResultOfOp(f,o)&&this.filterCoveredNodeToPoint(l)}}},_u.prototype.build=function(o){return this.extractNonCoveredResultNodes(o),this._resultPointList},_u.prototype.interfaces_=function(){return[]},_u.prototype.getClass=function(){return _u};var to=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};to.prototype.transformPoint=function(o,a){return this._factory.createPoint(this.transformCoordinates(o.getCoordinateSequence(),o))},to.prototype.transformPolygon=function(o,a){var l=!0,f=this.transformLinearRing(o.getExteriorRing(),o);null!==f&&f instanceof xi&&!f.isEmpty()||(l=!1);for(var p=new Je,v=0;v<o.getNumInteriorRing();v++){var E=this.transformLinearRing(o.getInteriorRingN(v),o);null===E||E.isEmpty()||(E instanceof xi||(l=!1),p.add(E))}if(l)return this._factory.createPolygon(f,p.toArray([]));var I=new Je;return null!==f&&I.add(f),I.addAll(p),this._factory.buildGeometry(I)},to.prototype.createCoordinateSequence=function(o){return this._factory.getCoordinateSequenceFactory().create(o)},to.prototype.getInputGeometry=function(){return this._inputGeom},to.prototype.transformMultiLineString=function(o,a){for(var l=new Je,f=0;f<o.getNumGeometries();f++){var p=this.transformLineString(o.getGeometryN(f),o);null!==p&&(p.isEmpty()||l.add(p))}return this._factory.buildGeometry(l)},to.prototype.transformCoordinates=function(o,a){return this.copy(o)},to.prototype.transformLineString=function(o,a){return this._factory.createLineString(this.transformCoordinates(o.getCoordinateSequence(),o))},to.prototype.transformMultiPoint=function(o,a){for(var l=new Je,f=0;f<o.getNumGeometries();f++){var p=this.transformPoint(o.getGeometryN(f),o);null!==p&&(p.isEmpty()||l.add(p))}return this._factory.buildGeometry(l)},to.prototype.transformMultiPolygon=function(o,a){for(var l=new Je,f=0;f<o.getNumGeometries();f++){var p=this.transformPolygon(o.getGeometryN(f),o);null!==p&&(p.isEmpty()||l.add(p))}return this._factory.buildGeometry(l)},to.prototype.copy=function(o){return o.copy()},to.prototype.transformGeometryCollection=function(o,a){for(var l=new Je,f=0;f<o.getNumGeometries();f++){var p=this.transform(o.getGeometryN(f));null!==p&&(this._pruneEmptyGeometry&&p.isEmpty()||l.add(p))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Ne.toGeometryArray(l)):this._factory.buildGeometry(l)},to.prototype.transform=function(o){if(this._inputGeom=o,this._factory=o.getFactory(),o instanceof Si)return this.transformPoint(o,null);if(o instanceof Uo)return this.transformMultiPoint(o,null);if(o instanceof xi)return this.transformLinearRing(o,null);if(o instanceof gr)return this.transformLineString(o,null);if(o instanceof As)return this.transformMultiLineString(o,null);if(o instanceof rr)return this.transformPolygon(o,null);if(o instanceof So)return this.transformMultiPolygon(o,null);if(o instanceof ni)return this.transformGeometryCollection(o,null);throw new T("Unknown Geometry subtype: "+o.getClass().getName())},to.prototype.transformLinearRing=function(o,a){var l=this.transformCoordinates(o.getCoordinateSequence(),o);if(null===l)return this._factory.createLinearRing(null);var f=l.size();return f>0&&f<4&&!this._preserveType?this._factory.createLineString(l):this._factory.createLinearRing(l)},to.prototype.interfaces_=function(){return[]},to.prototype.getClass=function(){return to};var os=function o(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new wt,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof gr&&"number"==typeof arguments[1]){var l=arguments[1];o.call(this,arguments[0].getCoordinates(),l)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var f=arguments[0],p=arguments[1];this._srcPts=f,this._isClosed=o.isClosed(f),this._snapTolerance=p}};os.prototype.snapVertices=function(o,a){for(var l=this._isClosed?o.size()-1:o.size(),f=0;f<l;f++){var p=o.get(f),v=this.findSnapForVertex(p,a);null!==v&&(o.set(f,new C(v)),0===f&&this._isClosed&&o.set(o.size()-1,new C(v)))}},os.prototype.findSnapForVertex=function(o,a){for(var l=0;l<a.length;l++){if(o.equals2D(a[l]))return null;if(o.distance(a[l])<this._snapTolerance)return a[l]}return null},os.prototype.snapTo=function(o){var a=new oo(this._srcPts);return this.snapVertices(a,o),this.snapSegments(a,o),a.toCoordinateArray()},os.prototype.snapSegments=function(o,a){if(0===a.length)return null;var l=a.length;a[0].equals2D(a[a.length-1])&&(l=a.length-1);for(var f=0;f<l;f++){var p=a[f],v=this.findSegmentIndexToSnap(p,o);v>=0&&o.add(v+1,new C(p),!1)}},os.prototype.findSegmentIndexToSnap=function(o,a){for(var l=O.MAX_VALUE,f=-1,p=0;p<a.size()-1;p++){if(this._seg.p0=a.get(p),this._seg.p1=a.get(p+1),this._seg.p0.equals2D(o)||this._seg.p1.equals2D(o)){if(this._allowSnappingToSourceVertices)continue;return-1}var v=this._seg.distance(o);v<this._snapTolerance&&v<l&&(l=v,f=p)}return f},os.prototype.setAllowSnappingToSourceVertices=function(o){this._allowSnappingToSourceVertices=o},os.prototype.interfaces_=function(){return[]},os.prototype.getClass=function(){return os},os.isClosed=function(o){return!(o.length<=1)&&o[0].equals2D(o[o.length-1])};var yr=function(o){this._srcGeom=o||null},rg={SNAP_PRECISION_FACTOR:{configurable:!0}};yr.prototype.snapTo=function(o,a){var l=this.extractTargetCoordinates(o);return new ig(a,l).transform(this._srcGeom)},yr.prototype.snapToSelf=function(o,a){var l=this.extractTargetCoordinates(this._srcGeom),f=new ig(o,l,!0).transform(this._srcGeom),p=f;return a&&Me(p,Io)&&(p=f.buffer(0)),p},yr.prototype.computeSnapTolerance=function(o){return this.computeMinimumSegmentLength(o)/10},yr.prototype.extractTargetCoordinates=function(o){for(var a=new be,l=o.getCoordinates(),f=0;f<l.length;f++)a.add(l[f]);return a.toArray(new Array(0).fill(null))},yr.prototype.computeMinimumSegmentLength=function(o){for(var a=O.MAX_VALUE,l=0;l<o.length-1;l++){var f=o[l].distance(o[l+1]);f<a&&(a=f)}return a},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},yr.snap=function(o,a,l){var f=new Array(2).fill(null),p=new yr(o);f[0]=p.snapTo(a,l);var v=new yr(a);return f[1]=v.snapTo(f[0],l),f},yr.computeOverlaySnapTolerance=function(){if(1===arguments.length){var o=arguments[0],a=yr.computeSizeBasedSnapTolerance(o),l=o.getPrecisionModel();if(l.getType()===ye.FIXED){var f=1/l.getScale()*2/1.415;f>a&&(a=f)}return a}if(2===arguments.length){var v=arguments[1];return Math.min(yr.computeOverlaySnapTolerance(arguments[0]),yr.computeOverlaySnapTolerance(v))}},yr.computeSizeBasedSnapTolerance=function(o){var a=o.getEnvelopeInternal();return Math.min(a.getHeight(),a.getWidth())*yr.SNAP_PRECISION_FACTOR},yr.snapToSelf=function(o,a,l){return new yr(o).snapToSelf(a,l)},rg.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(yr,rg);var ig=function(o){function a(l,f,p){o.call(this),this._snapTolerance=l||null,this._snapPts=f||null,this._isSelfSnap=void 0!==p&&p}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.snapLine=function(l,f){var p=new os(l,this._snapTolerance);return p.setAllowSnappingToSourceVertices(this._isSelfSnap),p.snapTo(f)},a.prototype.transformCoordinates=function(l,f){var p=l.toCoordinateArray(),v=this.snapLine(p,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(v)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(to),Gi=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Gi.prototype.getCommon=function(){return O.longBitsToDouble(this._commonBits)},Gi.prototype.add=function(o){var a=O.doubleToLongBits(o);return this._isFirst?(this._commonBits=a,this._commonSignExp=Gi.signExpBits(this._commonBits),this._isFirst=!1,null):Gi.signExpBits(a)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Gi.numCommonMostSigMantissaBits(this._commonBits,a),void(this._commonBits=Gi.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Gi.prototype.toString=function(){if(1===arguments.length){var o=arguments[0],a=O.longBitsToDouble(o),l="0000000000000000000000000000000000000000000000000000000000000000"+O.toBinaryString(o),f=l.substring(l.length-64);return f.substring(0,1)+"  "+f.substring(1,12)+"(exp) "+f.substring(12)+" [ "+a+" ]"}},Gi.prototype.interfaces_=function(){return[]},Gi.prototype.getClass=function(){return Gi},Gi.getBit=function(o,a){return 0!=(o&1<<a)?1:0},Gi.signExpBits=function(o){return o>>52},Gi.zeroLowerBits=function(o,a){return o&~((1<<a)-1)},Gi.numCommonMostSigMantissaBits=function(o,a){for(var l=0,f=52;f>=0;f--){if(Gi.getBit(o,f)!==Gi.getBit(a,f))return l;l++}return 52};var mo=function(){this._commonCoord=null,this._ccFilter=new Ni},Ac={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};mo.prototype.addCommonBits=function(o){var a=new Fs(this._commonCoord);o.apply(a),o.geometryChanged()},mo.prototype.removeCommonBits=function(o){if(0===this._commonCoord.x&&0===this._commonCoord.y)return o;var a=new C(this._commonCoord);a.x=-a.x,a.y=-a.y;var l=new Fs(a);return o.apply(l),o.geometryChanged(),o},mo.prototype.getCommonCoordinate=function(){return this._commonCoord},mo.prototype.add=function(o){o.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},mo.prototype.interfaces_=function(){return[]},mo.prototype.getClass=function(){return mo},Ac.CommonCoordinateFilter.get=function(){return Ni},Ac.Translater.get=function(){return Fs},Object.defineProperties(mo,Ac);var Ni=function(){this._commonBitsX=new Gi,this._commonBitsY=new Gi};Ni.prototype.filter=function(o){this._commonBitsX.add(o.x),this._commonBitsY.add(o.y)},Ni.prototype.getCommonCoordinate=function(){return new C(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Ni.prototype.interfaces_=function(){return[Qt]},Ni.prototype.getClass=function(){return Ni};var Fs=function(){this.trans=null,this.trans=arguments[0]};Fs.prototype.filter=function(o,a){var l=o.getOrdinate(a,0)+this.trans.x,f=o.getOrdinate(a,1)+this.trans.y;o.setOrdinate(a,0,l),o.setOrdinate(a,1,f)},Fs.prototype.isDone=function(){return!1},Fs.prototype.isGeometryChanged=function(){return!0},Fs.prototype.interfaces_=function(){return[Ji]},Fs.prototype.getClass=function(){return Fs};var Jr=function(o,a){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=o,this._geom[1]=a,this.computeSnapTolerance()};Jr.prototype.selfSnap=function(o){return new yr(o).snapTo(o,this._snapTolerance)},Jr.prototype.removeCommonBits=function(o){this._cbr=new mo,this._cbr.add(o[0]),this._cbr.add(o[1]);var a=new Array(2).fill(null);return a[0]=this._cbr.removeCommonBits(o[0].copy()),a[1]=this._cbr.removeCommonBits(o[1].copy()),a},Jr.prototype.prepareResult=function(o){return this._cbr.addCommonBits(o),o},Jr.prototype.getResultGeometry=function(o){var a=this.snap(this._geom),l=Ht.overlayOp(a[0],a[1],o);return this.prepareResult(l)},Jr.prototype.checkValid=function(o){o.isValid()||Xe.out.println("Snapped geometry is invalid")},Jr.prototype.computeSnapTolerance=function(){this._snapTolerance=yr.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Jr.prototype.snap=function(o){var a=this.removeCommonBits(o);return yr.snap(a[0],a[1],this._snapTolerance)},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.overlayOp=function(o,a,l){return new Jr(o,a).getResultGeometry(l)},Jr.union=function(o,a){return Jr.overlayOp(o,a,Ht.UNION)},Jr.intersection=function(o,a){return Jr.overlayOp(o,a,Ht.INTERSECTION)},Jr.symDifference=function(o,a){return Jr.overlayOp(o,a,Ht.SYMDIFFERENCE)},Jr.difference=function(o,a){return Jr.overlayOp(o,a,Ht.DIFFERENCE)};var Ai=function(o,a){this._geom=new Array(2).fill(null),this._geom[0]=o,this._geom[1]=a};Ai.prototype.getResultGeometry=function(o){var a=null,l=!1,f=null;try{a=Ht.overlayOp(this._geom[0],this._geom[1],o),l=!0}catch(p){if(!(p instanceof B))throw p;f=p}if(!l)try{a=Jr.overlayOp(this._geom[0],this._geom[1],o)}catch(p){throw p instanceof B?f:p}return a},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai},Ai.overlayOp=function(o,a,l){return new Ai(o,a).getResultGeometry(l)},Ai.union=function(o,a){return Ai.overlayOp(o,a,Ht.UNION)},Ai.intersection=function(o,a){return Ai.overlayOp(o,a,Ht.INTERSECTION)},Ai.symDifference=function(o,a){return Ai.overlayOp(o,a,Ht.SYMDIFFERENCE)},Ai.difference=function(o,a){return Ai.overlayOp(o,a,Ht.DIFFERENCE)};var Eu=function(){this.mce=null,this.chainIndex=null;var a=arguments[1];this.mce=arguments[0],this.chainIndex=a};Eu.prototype.computeIntersections=function(o,a){this.mce.computeIntersectsForChain(this.chainIndex,o.mce,o.chainIndex,a)},Eu.prototype.interfaces_=function(){return[]},Eu.prototype.getClass=function(){return Eu};var Hi=function o(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var a=arguments[0],l=arguments[1];this._eventType=o.DELETE,this._xValue=a,this._insertEvent=l}else if(3===arguments.length){var f=arguments[0],p=arguments[1],v=arguments[2];this._eventType=o.INSERT,this._label=f,this._xValue=p,this._obj=v}},Pc={INSERT:{configurable:!0},DELETE:{configurable:!0}};Hi.prototype.isDelete=function(){return this._eventType===Hi.DELETE},Hi.prototype.setDeleteEventIndex=function(o){this._deleteEventIndex=o},Hi.prototype.getObject=function(){return this._obj},Hi.prototype.compareTo=function(o){return this._xValue<o._xValue?-1:this._xValue>o._xValue?1:this._eventType<o._eventType?-1:this._eventType>o._eventType?1:0},Hi.prototype.getInsertEvent=function(){return this._insertEvent},Hi.prototype.isInsert=function(){return this._eventType===Hi.INSERT},Hi.prototype.isSameLabel=function(o){return null!==this._label&&this._label===o._label},Hi.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Hi.prototype.interfaces_=function(){return[S]},Hi.prototype.getClass=function(){return Hi},Pc.INSERT.get=function(){return 1},Pc.DELETE.get=function(){return 2},Object.defineProperties(Hi,Pc);var wu=function(){};wu.prototype.interfaces_=function(){return[]},wu.prototype.getClass=function(){return wu};var li=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var a=arguments[1],l=arguments[2];this._li=arguments[0],this._includeProper=a,this._recordIsolated=l};li.prototype.isTrivialIntersection=function(o,a,l,f){if(o===l&&1===this._li.getIntersectionNum()){if(li.isAdjacentSegments(a,f))return!0;if(o.isClosed()){var p=o.getNumPoints()-1;if(0===a&&f===p||0===f&&a===p)return!0}}return!1},li.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},li.prototype.setIsDoneIfProperInt=function(o){this._isDoneWhenProperInt=o},li.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},li.prototype.isBoundaryPointInternal=function(o,a){for(var l=a.iterator();l.hasNext();){var f=l.next().getCoordinate();if(o.isIntersection(f))return!0}return!1},li.prototype.hasProperIntersection=function(){return this._hasProper},li.prototype.hasIntersection=function(){return this._hasIntersection},li.prototype.isDone=function(){return this._isDone},li.prototype.isBoundaryPoint=function(o,a){return!(null===a||!this.isBoundaryPointInternal(o,a[0])&&!this.isBoundaryPointInternal(o,a[1]))},li.prototype.setBoundaryNodes=function(o,a){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=o,this._bdyNodes[1]=a},li.prototype.addIntersections=function(o,a,l,f){if(o===l&&a===f)return null;this.numTests++;var p=o.getCoordinates()[a],v=o.getCoordinates()[a+1],E=l.getCoordinates()[f],I=l.getCoordinates()[f+1];this._li.computeIntersection(p,v,E,I),this._li.hasIntersection()&&(this._recordIsolated&&(o.setIsolated(!1),l.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(o,a,l,f)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(o.addIntersections(this._li,a,0),l.addIntersections(this._li,f,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li},li.isAdjacentSegments=function(o,a){return 1===Math.abs(o-a)};var ss=function(o){function a(){o.call(this),this.events=new Je,this.nOverlaps=null}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.prepareEvents=function(){Qi.sort(this.events);for(var l=0;l<this.events.size();l++){var f=this.events.get(l);f.isDelete()&&f.getInsertEvent().setDeleteEventIndex(l)}},a.prototype.computeIntersections=function(){if(1===arguments.length){var l=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var f=0;f<this.events.size();f++){var p=this.events.get(f);if(p.isInsert()&&this.processOverlaps(f,p.getDeleteEventIndex(),p,l),l.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof li&&Me(arguments[0],nr)&&Me(arguments[1],nr)){var v=arguments[0],E=arguments[1],I=arguments[2];this.addEdges(v,v),this.addEdges(E,E),this.computeIntersections(I)}else if("boolean"==typeof arguments[2]&&Me(arguments[0],nr)&&arguments[1]instanceof li){var $=arguments[0],oe=arguments[1];arguments[2]?this.addEdges($,null):this.addEdges($),this.computeIntersections(oe)}},a.prototype.addEdge=function(l,f){for(var p=l.getMonotoneChainEdge(),v=p.getStartIndexes(),E=0;E<v.length-1;E++){var I=new Eu(p,E),$=new Hi(f,p.getMinX(E),I);this.events.add($),this.events.add(new Hi(p.getMaxX(E),$))}},a.prototype.processOverlaps=function(l,f,p,v){for(var E=p.getObject(),I=l;I<f;I++){var $=this.events.get(I);if($.isInsert()){var oe=$.getObject();p.isSameLabel($)||(E.computeIntersections(oe,v),this.nOverlaps++)}}},a.prototype.addEdges=function(){if(1===arguments.length)for(var l=arguments[0].iterator();l.hasNext();){var f=l.next();this.addEdge(f,f)}else if(2===arguments.length)for(var v=arguments[1],E=arguments[0].iterator();E.hasNext();){var I=E.next();this.addEdge(I,v)}},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(wu),Go=function(){this._min=O.POSITIVE_INFINITY,this._max=O.NEGATIVE_INFINITY},mh={NodeComparator:{configurable:!0}};Go.prototype.getMin=function(){return this._min},Go.prototype.intersects=function(o,a){return!(this._min>a||this._max<o)},Go.prototype.getMax=function(){return this._max},Go.prototype.toString=function(){return Ie.toLineString(new C(this._min,0),new C(this._max,0))},Go.prototype.interfaces_=function(){return[]},Go.prototype.getClass=function(){return Go},mh.NodeComparator.get=function(){return $a},Object.defineProperties(Go,mh);var $a=function(){};$a.prototype.compare=function(o,a){var p=(o._min+o._max)/2,v=(a._min+a._max)/2;return p<v?-1:p>v?1:0},$a.prototype.interfaces_=function(){return[k]},$a.prototype.getClass=function(){return $a};var og=function(o){function a(){o.call(this),this._item=null;var f=arguments[1],p=arguments[2];this._min=arguments[0],this._max=f,this._item=p}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.query=function(l,f,p){if(!this.intersects(l,f))return null;p.visitItem(this._item)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Go),__=function(o){function a(){o.call(this),this._node1=null,this._node2=null;var f=arguments[1];this._node1=arguments[0],this._node2=f,this.buildExtent(this._node1,this._node2)}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.buildExtent=function(l,f){this._min=Math.min(l._min,f._min),this._max=Math.max(l._max,f._max)},a.prototype.query=function(l,f,p){if(!this.intersects(l,f))return null;null!==this._node1&&this._node1.query(l,f,p),null!==this._node2&&this._node2.query(l,f,p)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(Go),sr=function(){this._leaves=new Je,this._root=null,this._level=0};sr.prototype.buildTree=function(){Qi.sort(this._leaves,new Go.NodeComparator);for(var o=this._leaves,a=null,l=new Je;;){if(this.buildLevel(o,l),1===l.size())return l.get(0);a=o,o=l,l=a}},sr.prototype.insert=function(o,a,l){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new og(o,a,l))},sr.prototype.query=function(o,a,l){this.init(),this._root.query(o,a,l)},sr.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},sr.prototype.printNode=function(o){Xe.out.println(Ie.toLineString(new C(o._min,this._level),new C(o._max,this._level)))},sr.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},sr.prototype.buildLevel=function(o,a){this._level++,a.clear();for(var l=0;l<o.size();l+=2){var f=o.get(l);if(null===(l+1<o.size()?o.get(l):null))a.add(f);else{var p=new __(o.get(l),o.get(l+1));a.add(p)}}},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr};var Cu=function(){this._items=new Je};Cu.prototype.visitItem=function(o){this._items.add(o)},Cu.prototype.getItems=function(){return this._items},Cu.prototype.interfaces_=function(){return[ua]},Cu.prototype.getClass=function(){return Cu};var qu=function(){this._index=null;var o=arguments[0];if(!Me(o,Io))throw new T("Argument must be Polygonal");this._index=new pa(o)},Du={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};qu.prototype.locate=function(o){var a=new qe(o),l=new Pi(a);return this._index.query(o.y,o.y,l),a.getLocation()},qu.prototype.interfaces_=function(){return[Lt]},qu.prototype.getClass=function(){return qu},Du.SegmentVisitor.get=function(){return Pi},Du.IntervalIndexedGeometry.get=function(){return pa},Object.defineProperties(qu,Du);var Pi=function(){this._counter=null,this._counter=arguments[0]};Pi.prototype.visitItem=function(o){var a=o;this._counter.countSegment(a.getCoordinate(0),a.getCoordinate(1))},Pi.prototype.interfaces_=function(){return[ua]},Pi.prototype.getClass=function(){return Pi};var pa=function(){this._index=new sr,this.init(arguments[0])};pa.prototype.init=function(o){for(var a=ai.getLines(o).iterator();a.hasNext();){var l=a.next().getCoordinates();this.addLine(l)}},pa.prototype.addLine=function(o){for(var a=1;a<o.length;a++){var l=new wt(o[a-1],o[a]),f=Math.min(l.p0.y,l.p1.y),p=Math.max(l.p0.y,l.p1.y);this._index.insert(f,p,l)}},pa.prototype.query=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1],l=new Cu;return this._index.query(o,a,l),l.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa};var za=function(o){function a(){if(o.call(this),this._parentGeom=null,this._lineEdgeMap=new K,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Dr,2===arguments.length){var f=arguments[1],p=rn.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=f,this._boundaryNodeRule=p,null!==f&&this.add(f)}else if(3===arguments.length){var E=arguments[1],I=arguments[2];this._argIndex=arguments[0],this._parentGeom=E,this._boundaryNodeRule=I,null!==E&&this.add(E)}}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.insertBoundaryPoint=function(l,f){var p=this._nodes.addNode(f).getLabel(),v=1;p.getLocation(l,Ue.ON)===V.BOUNDARY&&v++;var E=a.determineBoundary(this._boundaryNodeRule,v);p.setLocation(l,E)},a.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var v=arguments[1],E=arguments[2],I=new li(arguments[0],!0,!1);return I.setIsDoneIfProperInt(E),this.createEdgeSetIntersector().computeIntersections(this._edges,I,v||!(this._parentGeom instanceof xi||this._parentGeom instanceof rr||this._parentGeom instanceof So)),this.addSelfIntersectionNodes(this._argIndex),I}},a.prototype.computeSplitEdges=function(l){for(var f=this._edges.iterator();f.hasNext();)f.next().eiList.addSplitEdges(l)},a.prototype.computeEdgeIntersections=function(l,f,p){var v=new li(f,p,!0);return v.setBoundaryNodes(this.getBoundaryNodes(),l.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,l._edges,v),v},a.prototype.getGeometry=function(){return this._parentGeom},a.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},a.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},a.prototype.addPoint=function(){if(arguments[0]instanceof Si){var l=arguments[0].getCoordinate();this.insertPoint(this._argIndex,l,V.INTERIOR)}else arguments[0]instanceof C&&this.insertPoint(this._argIndex,arguments[0],V.INTERIOR)},a.prototype.addPolygon=function(l){this.addPolygonRing(l.getExteriorRing(),V.EXTERIOR,V.INTERIOR);for(var f=0;f<l.getNumInteriorRing();f++){var p=l.getInteriorRingN(f);this.addPolygonRing(p,V.INTERIOR,V.EXTERIOR)}},a.prototype.addEdge=function(l){this.insertEdge(l);var f=l.getCoordinates();this.insertPoint(this._argIndex,f[0],V.BOUNDARY),this.insertPoint(this._argIndex,f[f.length-1],V.BOUNDARY)},a.prototype.addLineString=function(l){var f=Ut.removeRepeatedPoints(l.getCoordinates());if(f.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=f[0],null;var p=new fa(f,new Yt(this._argIndex,V.INTERIOR));this._lineEdgeMap.put(l,p),this.insertEdge(p),P.isTrue(f.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,f[0]),this.insertBoundaryPoint(this._argIndex,f[f.length-1])},a.prototype.getInvalidPoint=function(){return this._invalidPoint},a.prototype.getBoundaryPoints=function(){for(var l=this.getBoundaryNodes(),f=new Array(l.size()).fill(null),p=0,v=l.iterator();v.hasNext();){var E=v.next();f[p++]=E.getCoordinate().copy()}return f},a.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},a.prototype.addSelfIntersectionNode=function(l,f,p){if(this.isBoundaryNode(l,f))return null;p===V.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(l,f):this.insertPoint(l,f,p)},a.prototype.addPolygonRing=function(l,f,p){if(l.isEmpty())return null;var v=Ut.removeRepeatedPoints(l.getCoordinates());if(v.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=v[0],null;var E=f,I=p;ke.isCCW(v)&&(E=p,I=f);var $=new fa(v,new Yt(this._argIndex,V.BOUNDARY,E,I));this._lineEdgeMap.put(l,$),this.insertEdge($),this.insertPoint(this._argIndex,v[0],V.BOUNDARY)},a.prototype.insertPoint=function(l,f,p){var v=this._nodes.addNode(f),E=v.getLabel();null===E?v._label=new Yt(l,p):E.setLocation(l,p)},a.prototype.createEdgeSetIntersector=function(){return new ss},a.prototype.addSelfIntersectionNodes=function(l){for(var f=this._edges.iterator();f.hasNext();)for(var p=f.next(),v=p.getLabel().getLocation(l),E=p.eiList.iterator();E.hasNext();){var I=E.next();this.addSelfIntersectionNode(l,I.coord,v)}},a.prototype.add=function(){if(1!==arguments.length)return o.prototype.add.apply(this,arguments);var l=arguments[0];if(l.isEmpty())return null;if(l instanceof So&&(this._useBoundaryDeterminationRule=!1),l instanceof rr)this.addPolygon(l);else if(l instanceof gr)this.addLineString(l);else if(l instanceof Si)this.addPoint(l);else if(l instanceof Uo)this.addCollection(l);else if(l instanceof As)this.addCollection(l);else if(l instanceof So)this.addCollection(l);else{if(!(l instanceof ni))throw new Error(l.getClass().getName());this.addCollection(l)}},a.prototype.addCollection=function(l){for(var f=0;f<l.getNumGeometries();f++){var p=l.getGeometryN(f);this.add(p)}},a.prototype.locate=function(l){return Me(this._parentGeom,Io)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new qu(this._parentGeom)),this._areaPtLocator.locate(l)):this._ptLocator.locate(l,this._parentGeom)},a.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):o.prototype.findEdge.apply(this,arguments)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a.determineBoundary=function(l,f){return l.isInBoundary(f)?V.BOUNDARY:V.INTERIOR},a}(Er),_s=function(){if(this._li=new Pe,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var o=arguments[0];this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new za(0,o)}else if(2===arguments.length){var a=arguments[0],l=arguments[1],f=rn.OGC_SFS_BOUNDARY_RULE;a.getPrecisionModel().compareTo(l.getPrecisionModel())>=0?this.setComputationPrecision(a.getPrecisionModel()):this.setComputationPrecision(l.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new za(0,a,f),this._arg[1]=new za(1,l,f)}else if(3===arguments.length){var p=arguments[0],v=arguments[1],E=arguments[2];p.getPrecisionModel().compareTo(v.getPrecisionModel())>=0?this.setComputationPrecision(p.getPrecisionModel()):this.setComputationPrecision(v.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new za(0,p,E),this._arg[1]=new za(1,v,E)}};_s.prototype.getArgGeometry=function(o){return this._arg[o].getGeometry()},_s.prototype.setComputationPrecision=function(o){this._resultPrecisionModel=o,this._li.setPrecisionModel(this._resultPrecisionModel)},_s.prototype.interfaces_=function(){return[]},_s.prototype.getClass=function(){return _s};var ci=function(){};ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ci.map=function(){if(arguments[0]instanceof tt&&Me(arguments[1],ci.MapOp)){for(var o=arguments[0],a=arguments[1],l=new Je,f=0;f<o.getNumGeometries();f++){var p=a.map(o.getGeometryN(f));null!==p&&l.add(p)}return o.getFactory().buildGeometry(l)}if(Me(arguments[0],Xn)&&Me(arguments[1],ci.MapOp)){for(var v=arguments[0],E=arguments[1],I=new Je,$=v.iterator();$.hasNext();){var oe=$.next(),Te=E.map(oe);null!==Te&&I.add(Te)}return I}},ci.MapOp=function(){};var Ht=function(o){function a(){var l=arguments[0];o.call(this,l,arguments[1]),this._ptLocator=new Dr,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Lr,this._resultPolyList=new Je,this._resultLineList=new Je,this._resultPointList=new Je,this._graph=new Er(new Va),this._geomFact=l.getFactory()}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.insertUniqueEdge=function(l){var f=this._edgeList.findEqualEdge(l);if(null!==f){var p=f.getLabel(),v=l.getLabel();f.isPointwiseEqual(l)||(v=new Yt(l.getLabel())).flip();var E=f.getDepth();E.isNull()&&E.add(p),E.add(v),p.merge(v)}else this._edgeList.add(l)},a.prototype.getGraph=function(){return this._graph},a.prototype.cancelDuplicateResultEdges=function(){for(var l=this._graph.getEdgeEnds().iterator();l.hasNext();){var f=l.next(),p=f.getSym();f.isInResult()&&p.isInResult()&&(f.setInResult(!1),p.setInResult(!1))}},a.prototype.isCoveredByLA=function(l){return!!this.isCovered(l,this._resultLineList)||!!this.isCovered(l,this._resultPolyList)},a.prototype.computeGeometry=function(l,f,p,v){var E=new Je;return E.addAll(l),E.addAll(f),E.addAll(p),E.isEmpty()?a.createEmptyResult(v,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(E)},a.prototype.mergeSymLabels=function(){for(var l=this._graph.getNodes().iterator();l.hasNext();)l.next().getEdges().mergeSymLabels()},a.prototype.isCovered=function(l,f){for(var p=f.iterator();p.hasNext();){var v=p.next();if(this._ptLocator.locate(l,v)!==V.EXTERIOR)return!0}return!1},a.prototype.replaceCollapsedEdges=function(){for(var l=new Je,f=this._edgeList.iterator();f.hasNext();){var p=f.next();p.isCollapsed()&&(f.remove(),l.add(p.getCollapsedEdge()))}this._edgeList.addAll(l)},a.prototype.updateNodeLabelling=function(){for(var l=this._graph.getNodes().iterator();l.hasNext();){var f=l.next(),p=f.getEdges().getLabel();f.getLabel().merge(p)}},a.prototype.getResultGeometry=function(l){return this.computeOverlay(l),this._resultGeom},a.prototype.insertUniqueEdges=function(l){for(var f=l.iterator();f.hasNext();){var p=f.next();this.insertUniqueEdge(p)}},a.prototype.computeOverlay=function(l){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var f=new Je;this._arg[0].computeSplitEdges(f),this._arg[1].computeSplitEdges(f),this.insertUniqueEdges(f),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),ja.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(l),this.cancelDuplicateResultEdges();var p=new dr(this._geomFact);p.add(this._graph),this._resultPolyList=p.getPolygons();var v=new vs(this,this._geomFact,this._ptLocator);this._resultLineList=v.build(l);var E=new _u(this,this._geomFact,this._ptLocator);this._resultPointList=E.build(l),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,l)},a.prototype.labelIncompleteNode=function(l,f){var p=this._ptLocator.locate(l.getCoordinate(),this._arg[f].getGeometry());l.getLabel().setLocation(f,p)},a.prototype.copyPoints=function(l){for(var f=this._arg[l].getNodeIterator();f.hasNext();){var p=f.next();this._graph.addNode(p.getCoordinate()).setLabel(l,p.getLabel().getLocation(l))}},a.prototype.findResultAreaEdges=function(l){for(var f=this._graph.getEdgeEnds().iterator();f.hasNext();){var p=f.next(),v=p.getLabel();v.isArea()&&!p.isInteriorAreaEdge()&&a.isResultOfOp(v.getLocation(0,Ue.RIGHT),v.getLocation(1,Ue.RIGHT),l)&&p.setInResult(!0)}},a.prototype.computeLabelsFromDepths=function(){for(var l=this._edgeList.iterator();l.hasNext();){var f=l.next(),p=f.getLabel(),v=f.getDepth();if(!v.isNull()){v.normalize();for(var E=0;E<2;E++)p.isNull(E)||!p.isArea()||v.isNull(E)||(0===v.getDelta(E)?p.toLine(E):(P.isTrue(!v.isNull(E,Ue.LEFT),"depth of LEFT side has not been initialized"),p.setLocation(E,Ue.LEFT,v.getLocation(E,Ue.LEFT)),P.isTrue(!v.isNull(E,Ue.RIGHT),"depth of RIGHT side has not been initialized"),p.setLocation(E,Ue.RIGHT,v.getLocation(E,Ue.RIGHT))))}}},a.prototype.computeLabelling=function(){for(var l=this._graph.getNodes().iterator();l.hasNext();)l.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},a.prototype.labelIncompleteNodes=function(){for(var l=this._graph.getNodes().iterator();l.hasNext();){var f=l.next(),p=f.getLabel();f.isIsolated()&&(p.isNull(0)?this.labelIncompleteNode(f,0):this.labelIncompleteNode(f,1)),f.getEdges().updateLabelling(p)}},a.prototype.isCoveredByA=function(l){return!!this.isCovered(l,this._resultPolyList)},a.prototype.interfaces_=function(){return[]},a.prototype.getClass=function(){return a},a}(_s);Ht.overlayOp=function(o,a,l){return new Ht(o,a).getResultGeometry(l)},Ht.intersection=function(o,a){if(o.isEmpty()||a.isEmpty())return Ht.createEmptyResult(Ht.INTERSECTION,o,a,o.getFactory());if(o.isGeometryCollection()){var l=a;return vu.map(o,{interfaces_:function(){return[ci.MapOp]},map:function(f){return f.intersection(l)}})}return o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(a),Ai.overlayOp(o,a,Ht.INTERSECTION)},Ht.symDifference=function(o,a){if(o.isEmpty()||a.isEmpty()){if(o.isEmpty()&&a.isEmpty())return Ht.createEmptyResult(Ht.SYMDIFFERENCE,o,a,o.getFactory());if(o.isEmpty())return a.copy();if(a.isEmpty())return o.copy()}return o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(a),Ai.overlayOp(o,a,Ht.SYMDIFFERENCE)},Ht.resultDimension=function(o,a,l){var f=a.getDimension(),p=l.getDimension(),v=-1;switch(o){case Ht.INTERSECTION:v=Math.min(f,p);break;case Ht.UNION:v=Math.max(f,p);break;case Ht.DIFFERENCE:v=f;break;case Ht.SYMDIFFERENCE:v=Math.max(f,p)}return v},Ht.createEmptyResult=function(o,a,l,f){var p=null;switch(Ht.resultDimension(o,a,l)){case-1:p=f.createGeometryCollection(new Array(0).fill(null));break;case 0:p=f.createPoint();break;case 1:p=f.createLineString();break;case 2:p=f.createPolygon()}return p},Ht.difference=function(o,a){return o.isEmpty()?Ht.createEmptyResult(Ht.DIFFERENCE,o,a,o.getFactory()):a.isEmpty()?o.copy():(o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(a),Ai.overlayOp(o,a,Ht.DIFFERENCE))},Ht.isResultOfOp=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1],l=o.getLocation(0),f=o.getLocation(1);return Ht.isResultOfOp(l,f,a)}if(3===arguments.length){var p=arguments[0],v=arguments[1];switch(p===V.BOUNDARY&&(p=V.INTERIOR),v===V.BOUNDARY&&(v=V.INTERIOR),arguments[2]){case Ht.INTERSECTION:return p===V.INTERIOR&&v===V.INTERIOR;case Ht.UNION:return p===V.INTERIOR||v===V.INTERIOR;case Ht.DIFFERENCE:return p===V.INTERIOR&&v!==V.INTERIOR;case Ht.SYMDIFFERENCE:return p===V.INTERIOR&&v!==V.INTERIOR||p!==V.INTERIOR&&v===V.INTERIOR}return!1}},Ht.INTERSECTION=1,Ht.UNION=2,Ht.DIFFERENCE=3,Ht.SYMDIFFERENCE=4;var as=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Dr,this._seg=new wt;var o=arguments[0],a=arguments[1];this._g=o,this._boundaryDistanceTolerance=a,this._linework=this.extractLinework(o)};as.prototype.isWithinToleranceOfBoundary=function(o){for(var a=0;a<this._linework.getNumGeometries();a++)for(var l=this._linework.getGeometryN(a).getCoordinateSequence(),f=0;f<l.size()-1;f++)if(l.getCoordinate(f,this._seg.p0),l.getCoordinate(f+1,this._seg.p1),this._seg.distance(o)<=this._boundaryDistanceTolerance)return!0;return!1},as.prototype.getLocation=function(o){return this.isWithinToleranceOfBoundary(o)?V.BOUNDARY:this._ptLocator.locate(o,this._g)},as.prototype.extractLinework=function(o){var a=new Iu;o.apply(a);var l=a.getLinework(),f=Ne.toLineStringArray(l);return o.getFactory().createMultiLineString(f)},as.prototype.interfaces_=function(){return[]},as.prototype.getClass=function(){return as};var Iu=function(){this._linework=null,this._linework=new Je};Iu.prototype.getLinework=function(){return this._linework},Iu.prototype.filter=function(o){if(o instanceof rr){var a=o;this._linework.add(a.getExteriorRing());for(var l=0;l<a.getNumInteriorRing();l++)this._linework.add(a.getInteriorRingN(l))}},Iu.prototype.interfaces_=function(){return[Do]},Iu.prototype.getClass=function(){return Iu};var yo=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};yo.prototype.extractPoints=function(o,a,l){for(var f=o.getCoordinates(),p=0;p<f.length-1;p++)this.computeOffsetPoints(f[p],f[p+1],a,l)},yo.prototype.setSidesToGenerate=function(o,a){this._doLeft=o,this._doRight=a},yo.prototype.getPoints=function(o){for(var a=new Je,l=ai.getLines(this._g).iterator();l.hasNext();){var f=l.next();this.extractPoints(f,o,a)}return a},yo.prototype.computeOffsetPoints=function(o,a,l,f){var p=a.x-o.x,v=a.y-o.y,E=Math.sqrt(p*p+v*v),I=l*p/E,$=l*v/E,oe=(a.x+o.x)/2,Te=(a.y+o.y)/2;if(this._doLeft){var Fe=new C(oe-$,Te+I);f.add(Fe)}if(this._doRight){var Qe=new C(oe+$,Te-I);f.add(Qe)}},yo.prototype.interfaces_=function(){return[]},yo.prototype.getClass=function(){return yo};var no=function o(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=o.TOLERANCE,this._testCoords=new Je;var a=arguments[0],l=arguments[1],f=arguments[2];this._boundaryDistanceTolerance=o.computeBoundaryDistanceTolerance(a,l),this._geom=[a,l,f],this._locFinder=[new as(this._geom[0],this._boundaryDistanceTolerance),new as(this._geom[1],this._boundaryDistanceTolerance),new as(this._geom[2],this._boundaryDistanceTolerance)]},Cl={TOLERANCE:{configurable:!0}};no.prototype.reportResult=function(o,a,l){Xe.out.println("Overlay result invalid - A:"+V.toLocationSymbol(a[0])+" B:"+V.toLocationSymbol(a[1])+" expected:"+(l?"i":"e")+" actual:"+V.toLocationSymbol(a[2]))},no.prototype.isValid=function(o){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(o)},no.prototype.checkValid=function(){if(1===arguments.length){for(var o=arguments[0],a=0;a<this._testCoords.size();a++){var l=this._testCoords.get(a);if(!this.checkValid(o,l))return this._invalidLocation=l,!1}return!0}if(2===arguments.length){var f=arguments[0],p=arguments[1];return this._location[0]=this._locFinder[0].getLocation(p),this._location[1]=this._locFinder[1].getLocation(p),this._location[2]=this._locFinder[2].getLocation(p),!!no.hasLocation(this._location,V.BOUNDARY)||this.isValidResult(f,this._location)}},no.prototype.addTestPts=function(o){var a=new yo(o);this._testCoords.addAll(a.getPoints(5*this._boundaryDistanceTolerance))},no.prototype.isValidResult=function(o,a){var l=Ht.isResultOfOp(a[0],a[1],o),f=!(l^a[2]===V.INTERIOR);return f||this.reportResult(o,a,l),f},no.prototype.getInvalidLocation=function(){return this._invalidLocation},no.prototype.interfaces_=function(){return[]},no.prototype.getClass=function(){return no},no.hasLocation=function(o,a){for(var l=0;l<3;l++)if(o[l]===a)return!0;return!1},no.computeBoundaryDistanceTolerance=function(o,a){return Math.min(yr.computeSizeBasedSnapTolerance(o),yr.computeSizeBasedSnapTolerance(a))},no.isValid=function(o,a,l,f){return new no(o,a,f).isValid(l)},Cl.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(no,Cl);var xt=function o(a){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=o.extractFactory(a),this._inputGeoms=a};xt.prototype.extractElements=function(o,a){if(null===o)return null;for(var l=0;l<o.getNumGeometries();l++){var f=o.getGeometryN(l);this._skipEmpty&&f.isEmpty()||a.add(f)}},xt.prototype.combine=function(){for(var o=new Je,a=this._inputGeoms.iterator();a.hasNext();){var l=a.next();this.extractElements(l,o)}return 0===o.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(o)},xt.prototype.interfaces_=function(){return[]},xt.prototype.getClass=function(){return xt},xt.combine=function(){return 1===arguments.length?new xt(arguments[0]).combine():2===arguments.length?new xt(xt.createList(arguments[0],arguments[1])).combine():3===arguments.length?new xt(xt.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},xt.extractFactory=function(o){return o.isEmpty()?null:o.iterator().next().getFactory()},xt.createList=function(){if(2===arguments.length){var o=arguments[0],a=arguments[1],l=new Je;return l.add(o),l.add(a),l}if(3===arguments.length){var f=arguments[0],p=arguments[1],v=arguments[2],E=new Je;return E.add(f),E.add(p),E.add(v),E}};var Mr=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new Je)},sg={STRTREE_NODE_CAPACITY:{configurable:!0}};Mr.prototype.reduceToGeometries=function(o){for(var a=new Je,l=o.iterator();l.hasNext();){var f=l.next(),p=null;Me(f,nr)?p=this.unionTree(f):f instanceof tt&&(p=f),a.add(p)}return a},Mr.prototype.extractByEnvelope=function(o,a,l){for(var f=new Je,p=0;p<a.getNumGeometries();p++){var v=a.getGeometryN(p);v.getEnvelopeInternal().intersects(o)?f.add(v):l.add(v)}return this._geomFactory.buildGeometry(f)},Mr.prototype.unionOptimized=function(o,a){var l=o.getEnvelopeInternal(),f=a.getEnvelopeInternal();if(!l.intersects(f))return xt.combine(o,a);if(o.getNumGeometries()<=1&&a.getNumGeometries()<=1)return this.unionActual(o,a);var p=l.intersection(f);return this.unionUsingEnvelopeIntersection(o,a,p)},Mr.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var o=new zu(Mr.STRTREE_NODE_CAPACITY),a=this._inputPolys.iterator();a.hasNext();){var l=a.next();o.insert(l.getEnvelopeInternal(),l)}this._inputPolys=null;var f=o.itemsTree();return this.unionTree(f)},Mr.prototype.binaryUnion=function(){if(1===arguments.length){var o=arguments[0];return this.binaryUnion(o,0,o.size())}if(3===arguments.length){var a=arguments[0],l=arguments[1],f=arguments[2];if(f-l<=1){var p=Mr.getGeometry(a,l);return this.unionSafe(p,null)}if(f-l==2)return this.unionSafe(Mr.getGeometry(a,l),Mr.getGeometry(a,l+1));var v=Math.trunc((f+l)/2),E=this.binaryUnion(a,l,v),I=this.binaryUnion(a,v,f);return this.unionSafe(E,I)}},Mr.prototype.repeatedUnion=function(o){for(var a=null,l=o.iterator();l.hasNext();){var f=l.next();a=null===a?f.copy():a.union(f)}return a},Mr.prototype.unionSafe=function(o,a){return null===o&&null===a?null:null===o?a.copy():null===a?o.copy():this.unionOptimized(o,a)},Mr.prototype.unionActual=function(o,a){return Mr.restrictToPolygons(o.union(a))},Mr.prototype.unionTree=function(o){var a=this.reduceToGeometries(o);return this.binaryUnion(a)},Mr.prototype.unionUsingEnvelopeIntersection=function(o,a,l){var f=new Je,p=this.extractByEnvelope(l,o,f),v=this.extractByEnvelope(l,a,f),E=this.unionActual(p,v);return f.add(E),xt.combine(f)},Mr.prototype.bufferUnion=function(){if(1===arguments.length){var o=arguments[0];return o.get(0).getFactory().buildGeometry(o).buffer(0)}if(2===arguments.length){var a=arguments[0],l=arguments[1];return a.getFactory().createGeometryCollection([a,l]).buffer(0)}},Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr},Mr.restrictToPolygons=function(o){if(Me(o,Io))return o;var a=br.getPolygons(o);return 1===a.size()?a.get(0):o.getFactory().createMultiPolygon(Ne.toPolygonArray(a))},Mr.getGeometry=function(o,a){return a>=o.size()?null:o.get(a)},Mr.union=function(o){return new Mr(o).union()},sg.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Mr,sg);var Wu=function(){};Wu.prototype.interfaces_=function(){return[]},Wu.prototype.getClass=function(){return Wu},Wu.union=function(o,a){if(o.isEmpty()||a.isEmpty()){if(o.isEmpty()&&a.isEmpty())return Ht.createEmptyResult(Ht.UNION,o,a,o.getFactory());if(o.isEmpty())return a.copy();if(a.isEmpty())return o.copy()}return o.checkNotGeometryCollection(o),o.checkNotGeometryCollection(a),Ai.overlayOp(o,a,Ht.UNION)},ee.GeoJSONReader=qn,ee.GeoJSONWriter=Ye,ee.OverlayOp=Ht,ee.UnionOp=Wu,ee.BufferOp=Jt,Object.defineProperty(ee,"__esModule",{value:!0})}(De)}},Ge=>{Ge(Ge.s=4646)}]);